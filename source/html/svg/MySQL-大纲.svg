<svg xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="0 0 5622 4772" width="5622" xmlns:xlink="http://www.w3.org/1999/xlink" height="4772"><defs/><g transform="translate(5.5,5.5)" id="page1"><rect width="5613" height="4762" x="0" y="0" fill="none"/><path stroke="#454545" stroke-width="3" stroke-linecap="round" d="M-35.6,181.2C1.1,78.9,-40.6,-215.7,71.4,-215.7" transform="translate(282.17,2897.00)" fill="none" id="shape1"/><path stroke="#454545" stroke-width="3" stroke-linecap="round" d="M-35.6,-181.2C1.1,-78.9,-40.6,215.7,71.4,215.7" transform="translate(282.17,3328.32)" fill="none" id="shape2"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,164.5C5.0,164.5,-12.5,-164.5,12.5,-164.5" transform="translate(480.48,2516.86)" fill="none" id="shape3"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,144.9C5.0,144.9,-12.5,-144.9,12.5,-144.9" transform="translate(480.48,2536.46)" fill="none" id="shape4"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,125.3C5.0,125.3,-12.5,-125.3,12.5,-125.3" transform="translate(480.48,2556.06)" fill="none" id="shape5"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,76.3C5.0,76.3,-12.5,-76.3,12.5,-76.3" transform="translate(480.48,2605.06)" fill="none" id="shape6"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-29.4C3.5,-29.4,-9.0,29.4,12.5,29.4" transform="translate(679.09,2558.18)" fill="none" id="shape7"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,27.3C3.2,27.3,-8.2,-27.3,12.5,-27.3" transform="translate(480.48,2654.06)" fill="none" id="shape8"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,73.3C5.0,73.3,-12.5,-73.3,12.5,-73.3" transform="translate(491.06,3470.74)" fill="none" id="shape9"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-4.9C-1.4,-4.9,2.3,4.9,12.5,4.9" transform="translate(491.06,3548.89)" fill="none" id="shape10"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-73.3C5.0,-73.3,-12.5,73.3,12.5,73.3" transform="translate(491.06,3617.24)" fill="none" id="shape11"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,19.6C1.8,19.6,-5.1,-19.6,12.5,-19.6" transform="translate(591.06,3670.89)" fill="none" id="shape12"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(591.06,3690.49)" fill="none" id="shape13"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-19.6C1.8,-19.6,-5.1,19.6,12.5,19.6" transform="translate(591.06,3710.09)" fill="none" id="shape14"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,29.4C3.5,29.4,-9.0,-29.4,12.5,-29.4" transform="translate(679.09,2499.38)" fill="none" id="shape15"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,9.8C-0.2,9.8,-0.3,-9.8,12.5,-9.8" transform="translate(679.09,2518.98)" fill="none" id="shape16"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-9.8C-0.2,-9.8,-0.3,9.8,12.5,9.8" transform="translate(679.09,2538.58)" fill="none" id="shape17"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,7.7C-0.7,7.7,.8,-7.7,12.5,-7.7" transform="translate(480.48,2673.66)" fill="none" id="shape18"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-11.9C.2,-11.9,-1.4,11.9,12.5,11.9" transform="translate(480.48,2693.26)" fill="none" id="shape19"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-164.5C5.0,-164.5,-12.5,164.5,12.5,164.5" transform="translate(480.48,2845.81)" fill="none" id="shape20"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,132.4C5.0,132.4,-12.5,-132.5,12.5,-132.5" transform="translate(554.48,2877.83)" fill="none" id="shape21"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,69.1C5.0,69.1,-12.5,-69.1,12.5,-69.1" transform="translate(554.48,2941.23)" fill="none" id="shape22"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,25.2C2.8,25.2,-7.4,-25.2,12.5,-25.2" transform="translate(554.48,2985.13)" fill="none" id="shape23"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-26.6C3.1,-26.6,-8.0,26.7,12.5,26.7" transform="translate(554.48,3036.93)" fill="none" id="shape24"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-93.3C5.0,-93.3,-12.5,93.2,12.5,93.2" transform="translate(554.48,3103.53)" fill="none" id="shape25"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-112.8C5.0,-112.8,-12.5,112.8,12.5,112.8" transform="translate(554.48,3123.13)" fill="none" id="shape26"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-132.4C5.0,-132.4,-12.5,132.4,12.5,132.4" transform="translate(554.48,3142.73)" fill="none" id="shape27"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,29.4C3.5,29.4,-9.0,-29.4,12.5,-29.4" transform="translate(565.06,3368.09)" fill="none" id="shape28"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,9.8C-0.2,9.8,-0.3,-9.8,12.5,-9.8" transform="translate(565.06,3387.68)" fill="none" id="shape29"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-9.8C-0.2,-9.8,-0.3,9.8,12.5,9.8" transform="translate(565.06,3407.28)" fill="none" id="shape30"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,29.2C3.4,29.2,-8.9,-29.2,12.5,-29.2" transform="translate(578.06,3524.64)" fill="none" id="shape31"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,9.6C-0.3,9.6,-0.2,-9.6,12.5,-9.6" transform="translate(578.06,3544.24)" fill="none" id="shape32"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.0C-0.2,-10.0,-0.4,10.0,12.5,10.0" transform="translate(578.06,3563.84)" fill="none" id="shape33"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-29.4C3.5,-29.4,-9.0,29.4,12.5,29.4" transform="translate(565.06,3426.88)" fill="none" id="shape34"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-29.1C3.4,-29.1,-8.9,29.1,12.5,29.1" transform="translate(578.06,3582.93)" fill="none" id="shape35"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,637.9C5.0,637.9,-12.5,-637.9,12.5,-637.9" transform="translate(1768.83,2433.92)" fill="none" id="shape36"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,708.9C5.0,708.9,-12.5,-708.9,12.5,-708.9" transform="translate(1842.83,1087.10)" fill="none" id="shape37"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,491.6C5.0,491.6,-12.5,-491.6,12.5,-491.6" transform="translate(1842.83,1304.45)" fill="none" id="shape38"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-170.2C5.0,-170.2,-12.5,170.2,12.5,170.2" transform="translate(1842.83,1966.26)" fill="none" id="shape39"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-708.9C5.0,-708.9,-12.5,708.9,12.5,708.9" transform="translate(1842.83,2504.95)" fill="none" id="shape40"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,72.4C5.0,72.4,-12.5,-72.5,12.5,-72.5" transform="translate(1942.83,305.72)" fill="none" id="shape41"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,52.4C5.0,52.4,-12.5,-52.4,12.5,-52.4" transform="translate(1942.83,325.82)" fill="none" id="shape42"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-72.5C5.0,-72.5,-12.5,72.5,12.5,72.5" transform="translate(1942.83,450.62)" fill="none" id="shape43"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,95.2C5.0,95.2,-12.5,-95.2,12.5,-95.2" transform="translate(2331.83,427.87)" fill="none" id="shape44"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,146.0C5.0,146.0,-12.5,-146.0,12.5,-146.0" transform="translate(2033.83,1451.37)" fill="none" id="shape45"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,196.0C5.0,196.0,-12.5,-196.0,12.5,-196.0" transform="translate(2133.83,1109.35)" fill="none" id="shape46"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,30.2C3.6,30.2,-9.2,-30.1,12.5,-30.1" transform="translate(2233.83,883.22)" fill="none" id="shape47"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2307.83,973.67)" fill="none" id="shape48"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,77.9C5.0,77.9,-12.5,-77.9,12.5,-77.9" transform="translate(2133.83,1227.44)" fill="none" id="shape49"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,47.7C5.0,47.7,-12.5,-47.7,12.5,-47.7" transform="translate(2233.83,1101.81)" fill="none" id="shape50"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,269.5C5.0,269.5,-12.5,-269.5,12.5,-269.5" transform="translate(1933.83,1866.95)" fill="none" id="shape51"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-269.5C5.0,-269.5,-12.5,269.5,12.5,269.5" transform="translate(1933.83,2406.03)" fill="none" id="shape52"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-146.0C5.0,-146.0,-12.5,146.0,12.5,146.0" transform="translate(2033.83,1743.45)" fill="none" id="shape53"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,20.1C1.9,20.1,-5.3,-20.1,12.5,-20.1" transform="translate(2433.83,953.57)" fill="none" id="shape54"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2433.83,973.67)" fill="none" id="shape55"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-20.1C1.9,-20.1,-5.3,20.1,12.5,20.1" transform="translate(2433.83,993.77)" fill="none" id="shape56"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,35.2C4.2,35.2,-10.6,-35.2,12.5,-35.2" transform="translate(2307.83,1209.85)" fill="none" id="shape57"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-35.2C4.2,-35.2,-10.6,35.2,12.5,35.2" transform="translate(2307.83,1280.20)" fill="none" id="shape58"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2307.83,1556.57)" fill="none" id="shape59"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-115.6C5.0,-115.6,-12.5,115.6,12.5,115.6" transform="translate(2133.83,1420.90)" fill="none" id="shape60"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-196.0C5.0,-196.0,-12.5,196.0,12.5,196.0" transform="translate(2133.83,1501.30)" fill="none" id="shape61"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.0C-0.2,10.0,-0.4,-10.1,12.5,-10.1" transform="translate(2233.83,903.32)" fill="none" id="shape62"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-30.2C3.6,-30.2,-9.2,30.1,12.5,30.1" transform="translate(2233.83,943.52)" fill="none" id="shape63"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,27.6C3.2,27.6,-8.4,-27.6,12.5,-27.6" transform="translate(2233.83,1121.91)" fill="none" id="shape64"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2307.83,1094.27)" fill="none" id="shape65"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-47.7C5.0,-47.7,-12.5,47.7,12.5,47.7" transform="translate(2233.83,1197.29)" fill="none" id="shape66"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,30.1C3.6,30.1,-9.2,-30.2,12.5,-30.2" transform="translate(2472.83,1285.22)" fill="none" id="shape67"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.0C-0.2,10.0,-0.4,-10.0,12.5,-10.0" transform="translate(2472.83,1305.32)" fill="none" id="shape68"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.0C-0.2,-10.0,-0.4,10.1,12.5,10.1" transform="translate(2472.83,1325.42)" fill="none" id="shape69"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-30.2C3.6,-30.2,-9.2,30.2,12.5,30.2" transform="translate(2472.83,1345.52)" fill="none" id="shape70"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,30.1C3.6,30.1,-9.2,-30.2,12.5,-30.2" transform="translate(2433.83,1526.42)" fill="none" id="shape71"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.0C-0.2,10.0,-0.4,-10.0,12.5,-10.0" transform="translate(2433.83,1546.52)" fill="none" id="shape72"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.0C-0.2,-10.0,-0.4,10.1,12.5,10.1" transform="translate(2433.83,1566.62)" fill="none" id="shape73"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-30.2C3.6,-30.2,-9.2,30.2,12.5,30.2" transform="translate(2433.83,1586.72)" fill="none" id="shape74"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,60.3C5.0,60.3,-12.5,-60.3,12.5,-60.3" transform="translate(2233.83,1476.17)" fill="none" id="shape75"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,40.2C4.6,40.2,-11.7,-40.2,12.5,-40.2" transform="translate(2233.83,1496.27)" fill="none" id="shape76"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.0C-0.2,-10.0,-0.4,10.0,12.5,10.0" transform="translate(2233.83,1546.52)" fill="none" id="shape77"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-60.3C5.0,-60.3,-12.5,60.3,12.5,60.3" transform="translate(2233.83,1596.77)" fill="none" id="shape78"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,20.1C1.9,20.1,-5.3,-20.1,12.5,-20.1" transform="translate(2459.83,1154.57)" fill="none" id="shape79"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2459.83,1174.67)" fill="none" id="shape80"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-20.1C1.9,-20.1,-5.3,20.1,12.5,20.1" transform="translate(2459.83,1194.77)" fill="none" id="shape81"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2033.83,2675.57)" fill="none" id="shape82"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,189.8C5.0,189.8,-12.5,-189.9,12.5,-189.9" transform="translate(2172.83,2485.72)" fill="none" id="shape83"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,20.1C1.9,20.1,-5.3,-20.1,12.5,-20.1" transform="translate(2272.83,2275.77)" fill="none" id="shape84"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2272.83,2295.87)" fill="none" id="shape85"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-20.1C1.9,-20.1,-5.3,20.1,12.5,20.1" transform="translate(2272.83,2315.97)" fill="none" id="shape86"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,9.2C-0.4,9.2,-0.0,-9.2,12.5,-9.2" transform="translate(2172.83,2666.35)" fill="none" id="shape87"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,39.9C4.6,39.9,-11.6,-39.9,12.5,-39.9" transform="translate(2259.83,2617.20)" fill="none" id="shape88"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,20.1C1.9,20.1,-5.3,-20.1,12.5,-20.1" transform="translate(2333.83,2557.17)" fill="none" id="shape89"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2333.83,2577.27)" fill="none" id="shape90"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-20.1C1.9,-20.1,-5.3,20.1,12.5,20.1" transform="translate(2333.83,2597.37)" fill="none" id="shape91"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-39.9C4.6,-39.9,-11.6,39.9,12.5,39.9" transform="translate(2259.83,2697.05)" fill="none" id="shape92"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,24.8C2.8,24.8,-7.3,-24.8,12.5,-24.8" transform="translate(2333.83,2712.12)" fill="none" id="shape93"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-14.8C.9,-14.8,-2.8,14.8,12.5,14.8" transform="translate(2526.83,2702.07)" fill="none" id="shape94"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2413.83,2336.07)" fill="none" id="shape95"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,14.8C.9,14.8,-2.8,-14.8,12.5,-14.8" transform="translate(2526.83,2672.47)" fill="none" id="shape96"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-24.8C2.8,-24.8,-7.3,24.9,12.5,24.9" transform="translate(2333.83,2761.82)" fill="none" id="shape97"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,14.8C.9,14.8,-2.8,-14.8,12.5,-14.8" transform="translate(2588.83,2771.87)" fill="none" id="shape98"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-14.8C.9,-14.8,-2.8,14.8,12.5,14.8" transform="translate(2588.83,2801.47)" fill="none" id="shape99"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-189.8C5.0,-189.8,-12.5,189.9,12.5,189.9" transform="translate(2172.83,2865.42)" fill="none" id="shape100"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,75.1C5.0,75.1,-12.5,-75.1,12.5,-75.1" transform="translate(2331.83,447.97)" fill="none" id="shape101"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,55.0C5.0,55.0,-12.5,-55.0,12.5,-55.0" transform="translate(2331.83,468.07)" fill="none" id="shape102"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-0.3C-2.5,-0.3,5.0,.3,12.5,.3" transform="translate(2331.83,523.35)" fill="none" id="shape103"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,35.2C4.2,35.2,-10.6,-35.2,12.5,-35.2" transform="translate(2457.83,488.45)" fill="none" id="shape104"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,15.1C.9,15.1,-3.0,-15.1,12.5,-15.1" transform="translate(2457.83,508.55)" fill="none" id="shape105"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-5.0C-1.3,-5.0,2.2,5.0,12.5,5.0" transform="translate(2457.83,528.65)" fill="none" id="shape106"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(1939.83,3213.87)" fill="none" id="shape107"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-100.5C5.0,-100.5,-12.5,100.5,12.5,100.5" transform="translate(2172.83,2776.07)" fill="none" id="shape108"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,119.5C5.0,119.5,-12.5,-119.5,12.5,-119.5" transform="translate(2172.83,2556.07)" fill="none" id="shape109"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,30.2C3.6,30.2,-9.2,-30.2,12.5,-30.2" transform="translate(2272.83,2406.42)" fill="none" id="shape110"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.1C-0.2,10.1,-0.4,-10.1,12.5,-10.1" transform="translate(2272.83,2426.52)" fill="none" id="shape111"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.0C-0.2,-10.0,-0.4,10.0,12.5,10.0" transform="translate(2272.83,2446.62)" fill="none" id="shape112"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-30.1C3.6,-30.1,-9.2,30.1,12.5,30.1" transform="translate(2272.83,2466.72)" fill="none" id="shape113"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,59.2C5.0,59.2,-12.5,-59.2,12.5,-59.2" transform="translate(2272.83,2996.07)" fill="none" id="shape114"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,39.1C4.6,39.1,-11.5,-39.1,12.5,-39.1" transform="translate(2272.83,3016.17)" fill="none" id="shape115"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,9.5C-0.3,9.5,-0.1,-9.5,12.5,-9.5" transform="translate(2272.83,3045.77)" fill="none" id="shape116"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-20.1C1.9,-20.1,-5.3,20.1,12.5,20.1" transform="translate(2272.83,3075.37)" fill="none" id="shape117"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-59.2C5.0,-59.2,-12.5,59.2,12.5,59.2" transform="translate(2272.83,3114.47)" fill="none" id="shape118"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-35.2C4.2,-35.2,-10.6,35.2,12.5,35.2" transform="translate(2457.83,558.80)" fill="none" id="shape119"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.0C-0.2,10.0,-0.4,-10.0,12.5,-10.0" transform="translate(2525.83,583.92)" fill="none" id="shape120"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2767.83,573.87)" fill="none" id="shape121"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.1C-0.2,-10.1,-0.4,10.1,12.5,10.1" transform="translate(2525.83,604.02)" fill="none" id="shape122"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2767.83,614.07)" fill="none" id="shape123"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-95.2C5.0,-95.2,-12.5,95.2,12.5,95.2" transform="translate(2331.83,618.27)" fill="none" id="shape124"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2185.83,1889.50)" fill="none" id="shape125"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-637.9C5.0,-637.9,-12.5,637.9,12.5,637.9" transform="translate(1768.83,3709.70)" fill="none" id="shape126"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,59.8C5.0,59.8,-12.5,-59.8,12.5,-59.8" transform="translate(2030.83,3655.52)" fill="none" id="shape127"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-20.1C1.9,-20.1,-5.3,20.1,12.5,20.1" transform="translate(2182.83,3917.37)" fill="none" id="shape128"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,30.1C3.6,30.1,-9.2,-30.2,12.5,-30.2" transform="translate(2180.83,3565.62)" fill="none" id="shape129"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.1C-0.2,10.1,-0.4,-10.0,12.5,-10.0" transform="translate(2180.83,3585.72)" fill="none" id="shape130"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-30.1C3.6,-30.1,-9.2,30.2,12.5,30.2" transform="translate(2180.83,3625.92)" fill="none" id="shape131"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2271.83,3575.67)" fill="none" id="shape132"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,20.1C1.9,20.1,-5.3,-20.1,12.5,-20.1" transform="translate(2280.83,3635.97)" fill="none" id="shape133"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2280.83,3656.07)" fill="none" id="shape134"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-20.1C1.9,-20.1,-5.3,20.1,12.5,20.1" transform="translate(2280.83,3676.17)" fill="none" id="shape135"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(747.48,2745.38)" fill="none" id="shape136"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,24.3C2.7,24.3,-7.1,-24.3,12.5,-24.3" transform="translate(728.53,2847.88)" fill="none" id="shape137"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-24.3C2.7,-24.3,-7.1,24.3,12.5,24.3" transform="translate(728.53,2896.48)" fill="none" id="shape138"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,22.2C2.3,22.2,-6.2,-22.2,12.5,-22.2" transform="translate(706.83,3041.38)" fill="none" id="shape139"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-22.2C2.3,-22.2,-6.2,22.2,12.5,22.2" transform="translate(706.83,3085.78)" fill="none" id="shape140"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,14.8C.9,14.8,-2.8,-14.8,12.5,-14.8" transform="translate(1002.83,3093.18)" fill="none" id="shape141"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-14.8C.9,-14.8,-2.8,14.8,12.5,14.8" transform="translate(1002.83,3122.78)" fill="none" id="shape142"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(1102.83,3078.38)" fill="none" id="shape143"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(1106.83,3137.58)" fill="none" id="shape144"/><g transform="translate(131.089000,3078.160000)" id="shape145"><path stroke="#5a97fb" stroke-width="3" d="M34.5,.0L124.9,.0C144.0,.0,159.4,15.4,159.4,34.5C159.4,53.6,144.0,69.0,124.9,69.0L34.5,69.0C15.4,69.0,.0,53.6,.0,34.5C.0,15.4,15.4,.0,34.5,.0z" fill-rule="nonzero" fill="#5a97fb"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt;font-weight:bold"><tspan style="font-size:18.00pt" x="33.5" y="44.0">存储引擎</tspan></text></g><g transform="translate(353.529000,2657.335000)" id="shape146"><path stroke="#454545" stroke-width="2" d="M4.0,.0L110.5,.0C112.7,.0,114.5,1.8,114.5,4.0L114.5,44.0C114.5,46.2,112.7,48.0,110.5,48.0L4.0,48.0C1.8,48.0,.0,46.2,.0,44.0L.0,4.0C.0,1.8,1.8,.0,4.0,.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:17.50pt;font-weight:bold"><tspan style="font-size:14.00pt" x="24.0" y="31.0">InnoDB</tspan></text></g><g transform="translate(353.529000,3519.985000)" id="shape147"><path stroke="#454545" stroke-width="2" d="M4.0,.0L121.0,.0C123.2,.0,125.0,1.8,125.0,4.0L125.0,44.0C125.0,46.2,123.2,48.0,121.0,48.0L4.0,48.0C1.8,48.0,.0,46.2,.0,44.0L.0,4.0C.0,1.8,1.8,.0,4.0,.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:17.50pt;font-weight:bold"><tspan style="font-size:14.00pt" x="23.3" y="31.0">MyISAM</tspan></text></g><g transform="translate(492.982000,2321.885000)" id="shape148"><path d="M.0,.0L196.3,.0L196.3,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L196.3,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.6" y="20.8">数据存储在表空间(frm文件中)</tspan></text></g><g transform="translate(492.982000,2361.085000)" id="shape149"><path d="M.0,.0L75.0,.0L75.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L75.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">行锁设计</tspan></text></g><g transform="translate(492.982000,2400.285000)" id="shape150"><path d="M.0,.0L165.9,.0L165.9,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L165.9,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.0" y="20.8">采用MVVC来支持高并发</tspan></text></g><g transform="translate(492.982000,2498.285000)" id="shape151"><path d="M.0,.0L173.6,.0L173.6,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L173.6,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.3" y="20.8">实现来4个标准的隔离级别</tspan></text></g><g transform="translate(691.591000,2557.085000)" id="shape152"><path d="M.0,.0L93.0,.0L93.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L93.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.0" y="20.8">Serializable</tspan></text></g><g transform="translate(492.982000,2596.285000)" id="shape153"><path d="M.0,.0L75.0,.0L75.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L75.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">事务支持</tspan></text></g><g transform="translate(503.560000,3366.985000)" id="shape154"><path d="M.0,.0L49.0,.0L49.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L49.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">支持</tspan></text></g><g transform="translate(503.560000,3523.285000)" id="shape155"><path d="M.0,.0L62.0,.0L62.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L62.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">不支持</tspan></text></g><g transform="translate(503.560000,3659.985000)" id="shape156"><path d="M.0,.0L75.0,.0L75.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L75.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">表锁设计</tspan></text></g><g transform="translate(603.560000,3620.785000)" id="shape157"><path d="M.0,.0L91.8,.0L91.8,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L91.8,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.4" y="20.8">读： 共享锁</tspan></text></g><g transform="translate(603.560000,3659.985000)" id="shape158"><path d="M.0,.0L88.0,.0L88.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L88.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">写：排他锁</tspan></text></g><g transform="translate(603.560000,3699.185000)" id="shape159"><path d="M.0,.0L257.0,.0L257.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L257.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">读取的时候也可以插入数据（并发插入）</tspan></text></g><g transform="translate(691.591000,2439.485000)" id="shape160"><path d="M.0,.0L143.8,.0L143.8,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L143.8,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.4" y="20.8">Read Uncommitted</tspan></text></g><g transform="translate(691.591000,2478.685000)" id="shape161"><path d="M.0,.0L128.3,.0L128.3,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L128.3,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.6" y="20.8">Read Committed</tspan></text></g><g transform="translate(691.591000,2517.885000)" id="shape162"><path d="M.0,.0L139.9,.0L139.9,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L139.9,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.4" y="20.8">REPEATABLE READ</tspan></text></g><g transform="translate(492.982000,2635.485000)" id="shape163"><path d="M.0,.0L153.0,.0L153.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L153.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">基于聚簇索引存储数据</tspan></text></g><g transform="translate(492.982000,2674.685000)" id="shape164"><path d="M.0,.0L88.0,.0L88.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L88.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">支持热备份</tspan></text></g><g transform="translate(492.982000,2979.785000)" id="shape165"><path d="M.0,.0L49.0,.0L49.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L49.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">特性</tspan></text></g><g transform="translate(566.982000,2713.885000)" id="shape166"><path d="M.0,.0L168.0,.0L168.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L168.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">插入缓冲（insert buffer)</tspan></text></g><g transform="translate(566.982000,2841.685000)" id="shape167"><path d="M.0,.0L149.0,.0L149.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L149.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.0" y="20.8">二次写(double write)</tspan></text></g><g transform="translate(566.982000,2929.485000)" id="shape168"><path d="M.0,.0L141.3,.0L141.3,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L141.3,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.1" y="20.8">自适应哈希索引(ahi)</tspan></text></g><g transform="translate(566.982000,3033.085000)" id="shape169"><path d="M.0,.0L127.3,.0L127.3,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L127.3,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.7" y="20.8">预读(read ahead)</tspan></text></g><g transform="translate(566.982000,3146.285000)" id="shape170"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="24.0" y="21.3">被设计用来处理大量的短期（short-lived）事务，短期事务大部分情况是正常提交</tspan><tspan style="font-size:10.00pt" x="200.0" y="40.3">的，很少会被回滚。</tspan></text></g><g transform="translate(566.982000,3205.485000)" id="shape171"><path d="M.0,.0L485.1,.0L485.1,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L485.1,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.6" y="20.8">InnoDB的性能和自动崩溃恢复特性，使得它在非事务型存储的需求中也很流行。</tspan></text></g><g transform="translate(566.982000,3244.685000)" id="shape172"><path d="M.0,.0L498.1,.0L498.1,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L498.1,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.6" y="20.8">除非有非常特别的原因需要使用其他的存储引擎，否则应该优先考虑InnoDB引擎。</tspan></text></g><g transform="translate(577.560000,3308.185000)" id="shape173"><path d="M.0,.0L75.0,.0L75.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L75.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">全文索引</tspan></text></g><g transform="translate(577.560000,3347.385000)" id="shape174"><path d="M.0,.0L49.0,.0L49.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L49.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">压缩</tspan></text></g><g transform="translate(577.560000,3386.585000)" id="shape175"><path d="M.0,.0L75.0,.0L75.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L75.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">空间函数</tspan></text></g><g transform="translate(590.560000,3464.985000)" id="shape176"><path d="M.0,.0L62.0,.0L62.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L62.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">行级锁</tspan></text></g><g transform="translate(590.560000,3504.185000)" id="shape177"><path d="M.0,.0L49.0,.0L49.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L49.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">事务</tspan></text></g><g transform="translate(590.560000,3543.385000)" id="shape178"><path d="M.0,.0L75.0,.0L75.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L75.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">崩溃恢复</tspan></text></g><g transform="translate(577.560000,3425.785000)" id="shape179"><path d="M.0,.0L140.0,.0L140.0,30.5L.0,30.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,30.5L140.0,30.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="20.8">可以存储的行记录数</tspan></text></g><g transform="translate(590.560000,3582.585000)" id="shape180"><path d="M.0,.0L38.0,.0L38.0,29.5L.0,29.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,29.5L38.0,29.5" fill="none"/></g><g transform="translate(1649.330000,3049.810000)" id="shape181"><path stroke="#e65b4e" stroke-width="2" d="M4.0,.0L103.0,.0C105.2,.0,107.0,1.8,107.0,4.0L107.0,40.0C107.0,42.2,105.2,44.0,103.0,44.0L4.0,44.0C1.8,44.0,.0,42.2,.0,40.0L.0,4.0C.0,1.8,1.8,.0,4.0,.0z" fill-rule="nonzero" fill="#e65b4e"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:15.00pt;font-weight:bold"><tspan style="font-size:12.00pt" x="22.3" y="28.0">知识梳理</tspan></text></g><g transform="translate(1781.330000,1764.522500)" id="shape182"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">事务</tspan></text></g><g transform="translate(1855.330000,346.672500)" id="shape183"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">A 原子性</tspan></text></g><g transform="translate(1855.330000,781.372500)" id="shape184"><path d="M.0,.0L71.0,.0L71.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L71.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">C一致性</tspan></text></g><g transform="translate(1855.330000,2104.991250)" id="shape185"><path d="M.0,.0L66.0,.0L66.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L66.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">I隔离性</tspan></text></g><g transform="translate(1855.330000,3182.372500)" id="shape186"><path d="M.0,.0L72.0,.0L72.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L72.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">D持久性</tspan></text></g><g transform="translate(1955.330000,201.772500)" id="shape187"><path d="M.0,.0L335.0,.0L335.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L335.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">整个事务所有的写操作，要么全部成功，要么全部失败</tspan></text></g><g transform="translate(1955.330000,241.972500)" id="shape188"><path d="M.0,.0L351.0,.0L351.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L351.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">通过undolog 实现回滚，全部失败时数据库数据保持一致</tspan></text></g><g transform="translate(1955.330000,491.572500)" id="shape189"><path d="M.0,.0L364.0,.0L364.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L364.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">通过binlog+redolog 实现提交后(俩阶段提交)，数据一致性</tspan></text></g><g transform="translate(2344.330000,282.172500)" id="shape190"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="16.0" y="21.3">但是binlog+redolog不单单时保证提交后数据一致性，还保证在数据库崩溃时的数据</tspan><tspan style="font-size:10.00pt" x="239.0" y="40.3">一致性</tspan></text></g><g transform="translate(2046.330000,1273.822500)" id="shape191"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">隔离级别</tspan></text></g><g transform="translate(2146.330000,881.872500)" id="shape192"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">读未提交</tspan></text></g><g transform="translate(2246.330000,821.572500)" id="shape193"><path d="M.0,.0L196.0,.0L196.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L196.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">B事务读到A事务未提交的数据</tspan></text></g><g transform="translate(2320.330000,942.172500)" id="shape194"><path d="M.0,.0L101.0,.0L101.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L101.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">产生脏读问题</tspan></text></g><g transform="translate(2146.330000,1118.047500)" id="shape195"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">读已提交</tspan></text></g><g transform="translate(2246.330000,1022.572500)" id="shape196"><path d="M.0,.0L248.0,.0L248.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L248.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">B事务只能读到A事务已经提交过的数据</tspan></text></g><g transform="translate(1946.330000,1565.910000)" id="shape197"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">读隔离性</tspan></text></g><g transform="translate(1946.330000,2644.072500)" id="shape198"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">写隔离性</tspan></text></g><g transform="translate(2046.330000,1857.997500)" id="shape199"><path d="M.0,.0L127.0,.0L127.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L127.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">读隔离性实现机制</tspan></text></g><g transform="translate(2446.330000,901.972500)" id="shape200"><path d="M.0,.0L198.0,.0L198.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L198.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">1. B事务读到A事务未提交数据</tspan></text></g><g transform="translate(2446.330000,942.172500)" id="shape201"><path d="M.0,.0L99.0,.0L99.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L99.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">2. A事务回滚</tspan></text></g><g transform="translate(2446.330000,982.372500)" id="shape202"><path d="M.0,.0L306.0,.0L306.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L306.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">3. B事务再次读取，发现与之前读的数据不一致了</tspan></text></g><g transform="translate(2320.330000,1143.172500)" id="shape203"><path d="M.0,.0L127.0,.0L127.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L127.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">产生丢失更新问题</tspan></text></g><g transform="translate(2320.330000,1283.872500)" id="shape204"><path d="M.0,.0L140.0,.0L140.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L140.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">产生不可重复读问题</tspan></text></g><g transform="translate(2320.330000,1525.072500)" id="shape205"><path d="M.0,.0L101.0,.0L101.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L101.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">产生幻读问题</tspan></text></g><g transform="translate(2146.330000,1504.972500)" id="shape206"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">可重复读</tspan></text></g><g transform="translate(2146.330000,1665.772500)" id="shape207"><path d="M.0,.0L62.0,.0L62.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L62.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">串行化</tspan></text></g><g transform="translate(2246.330000,861.772500)" id="shape208"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">优点</tspan></text></g><g transform="translate(2246.330000,942.172500)" id="shape209"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">缺点</tspan></text></g><g transform="translate(2246.330000,1062.772500)" id="shape210"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">优点</tspan></text></g><g transform="translate(2320.330000,1062.772500)" id="shape211"><path d="M.0,.0L101.0,.0L101.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L101.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">解决脏读问题</tspan></text></g><g transform="translate(2246.330000,1213.522500)" id="shape212"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">缺点</tspan></text></g><g transform="translate(2485.330000,1223.572500)" id="shape213"><path d="M.0,.0L226.0,.0L226.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L226.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">1. B事务一开始读到的时100条数据</tspan></text></g><g transform="translate(2485.330000,1263.772500)" id="shape214"><path d="M.0,.0L326.0,.0L326.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L326.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">2. A事务插入一条数据，此时B仍然读取到100条数据</tspan></text></g><g transform="translate(2485.330000,1303.972500)" id="shape215"><path d="M.0,.0L99.0,.0L99.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L99.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">3. A事务提交</tspan></text></g><g transform="translate(2485.330000,1344.172500)" id="shape216"><path d="M.0,.0L442.0,.0L442.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L442.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">4. B再次读取却读取到了101条数据，导致B事务过程中读取的数据不一致</tspan></text></g><g transform="translate(2446.330000,1464.772500)" id="shape217"><path d="M.0,.0L259.0,.0L259.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L259.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">1. B事务读取name为test的数据读取不到</tspan></text></g><g transform="translate(2446.330000,1504.972500)" id="shape218"><path d="M.0,.0L208.0,.0L208.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L208.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">2. A事务插入name为test的数据</tspan></text></g><g transform="translate(2446.330000,1545.172500)" id="shape219"><path d="M.0,.0L99.0,.0L99.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L99.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">3. A事务提交</tspan></text></g><g transform="translate(2446.330000,1585.372500)" id="shape220"><path d="M.0,.0L402.0,.0L402.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L402.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">4. 此时B仍然读取不到，但是插入name为test的数据，插入不进去</tspan></text></g><g transform="translate(2246.330000,1384.372500)" id="shape221"><path d="M.0,.0L261.0,.0L261.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L261.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">B事务过程中始终看不到A事务插入的数据</tspan></text></g><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2307.83,1456.07)" fill="none" id="shape222"/><g transform="translate(2246.330000,1424.572500)" id="shape223"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">优点</tspan></text></g><g transform="translate(2320.330000,1424.572500)" id="shape224"><path d="M.0,.0L153.0,.0L153.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L153.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">解决不可重复读读问题</tspan></text></g><g transform="translate(2246.330000,1525.072500)" id="shape225"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">缺点</tspan></text></g><g transform="translate(2246.330000,1625.572500)" id="shape226"><path d="M.0,.0L262.0,.0L262.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L262.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">InnoDB 通过NextKey Lock解决幻读问题</tspan></text></g><g transform="translate(2472.330000,1102.972500)" id="shape227"><path d="M.0,.0L182.0,.0L182.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L182.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">1. B事务读取到余额时1000</tspan></text></g><g transform="translate(2472.330000,1143.172500)" id="shape228"><path d="M.0,.0L235.0,.0L235.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L235.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">2. A事务增加余额到1100，提交事务</tspan></text></g><g transform="translate(2472.330000,1183.372500)" id="shape229"><path d="M.0,.0L325.0,.0L325.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L325.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">3. B事务提取100，用1000-100，更新后余额时900</tspan></text></g><g transform="translate(2046.330000,2644.072500)" id="shape230"><path d="M.0,.0L114.0,.0L114.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L114.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">锁实现写隔离性</tspan></text></g><g transform="translate(2185.330000,2264.372500)" id="shape231"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">锁的种类</tspan></text></g><g transform="translate(2285.330000,2224.172500)" id="shape232"><path d="M.0,.0L62.0,.0L62.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L62.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">行级锁</tspan></text></g><g transform="translate(2285.330000,2264.372500)" id="shape233"><path d="M.0,.0L62.0,.0L62.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L62.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">间隙锁</tspan></text></g><g transform="translate(2285.330000,2304.572500)" id="shape234"><path d="M.0,.0L116.0,.0L116.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L116.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">Nexy-Key Lock</tspan></text></g><g transform="translate(2185.330000,2625.622500)" id="shape235"><path d="M.0,.0L62.0,.0L62.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L62.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">锁模式</tspan></text></g><g transform="translate(2272.330000,2545.772500)" id="shape236"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">写锁</tspan></text></g><g transform="translate(2346.330000,2505.572500)" id="shape237"><path d="M.0,.0L217.0,.0L217.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L217.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">Update 根据where 条件索引加锁</tspan></text></g><g transform="translate(2346.330000,2545.772500)" id="shape238"><path d="M.0,.0L211.0,.0L211.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L211.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">Delete 根据where 条件索引加锁</tspan></text></g><g transform="translate(2346.330000,2585.972500)" id="shape239"><path d="M.0,.0L207.0,.0L207.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L207.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">Insert 根据where 条件索引加锁</tspan></text></g><g transform="translate(2272.330000,2705.472500)" id="shape240"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">读锁</tspan></text></g><g transform="translate(2346.330000,2655.772500)" id="shape241"><path d="M.0,.0L168.0,.0L168.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L168.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">SELECT … FOR UPDATE</tspan></text></g><g transform="translate(2539.330000,2666.372500)" id="shape242"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.5" y="21.3">MySQL会对查询结果集中每行数据都添加排他锁，其他线程对该记录的更新与删除操</tspan><tspan style="font-size:10.00pt" x="148.0" y="40.3">作都会阻塞。排他锁包含行锁、表锁。</tspan></text></g><g transform="translate(2426.330000,2304.572500)" id="shape243"><path d="M.0,.0L288.0,.0L288.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L288.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">锁定一个索引记录以及该记录之前的间隙(gap)</tspan></text></g><g transform="translate(2539.330000,2626.172500)" id="shape244"><path d="M.0,.0L88.0,.0L88.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L88.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">意向排它锁</tspan></text></g><g transform="translate(2346.330000,2755.172500)" id="shape245"><path d="M.0,.0L230.0,.0L230.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L230.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">SELECT ... LOCK IN SHARE MODE</tspan></text></g><g transform="translate(2601.330000,2725.572500)" id="shape246"><path d="M.0,.0L88.0,.0L88.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L88.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">意向共享锁</tspan></text></g><g transform="translate(2601.330000,2765.772500)" id="shape247"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.0" y="21.3">在符合条件的rows上都加了共享锁，这样的话，其他session可以读取这些记录，也可</tspan><tspan style="font-size:10.00pt" x="213.5" y="40.3">以继续添加IS锁</tspan></text></g><g transform="translate(2185.330000,3023.772500)" id="shape248"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">加锁顺序</tspan></text></g><g transform="translate(2344.330000,341.372500)" id="shape249"><path d="M.0,.0L403.0,.0L403.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L403.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">redo log 是物理日志，记录的是“在某个数据页上做了什么修改”</tspan></text></g><g transform="translate(2344.330000,381.572500)" id="shape250"><path d="M.0,.0L251.0,.0L251.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L251.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">binlog 是逻辑日志，把sql追加到日志里</tspan></text></g><g transform="translate(2344.330000,492.122500)" id="shape251"><path d="M.0,.0L101.0,.0L101.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L101.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">崩溃恢复原理</tspan></text></g><g transform="translate(2470.330000,421.772500)" id="shape252"><path d="M.0,.0L357.0,.0L357.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L357.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">1.  将数据更新操作更新到redolog里，此时为prepare状态</tspan></text></g><g transform="translate(2470.330000,461.972500)" id="shape253"><path d="M.0,.0L141.0,.0L141.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L141.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">2. 日志写入到binlog</tspan></text></g><g transform="translate(2470.330000,502.172500)" id="shape254"><path d="M.0,.0L215.0,.0L215.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L215.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">3. 将redolog的状态设为提交状态</tspan></text></g><g transform="translate(1952.330000,3182.372500)" id="shape255"><path d="M.0,.0L156.0,.0L156.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L156.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">持久性由redo log 实现</tspan></text></g><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.0C-0.2,10.0,-0.4,-10.1,12.5,-10.1" transform="translate(2272.83,2866.52)" fill="none" id="shape256"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.0C-0.2,-10.0,-0.4,10.1,12.5,10.1" transform="translate(2272.83,2886.62)" fill="none" id="shape257"/><g transform="translate(2185.330000,2845.072500)" id="shape258"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">俩阶段锁</tspan></text></g><g transform="translate(2285.330000,2824.972500)" id="shape259"><path d="M.0,.0L168.0,.0L168.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L168.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">1. 事务过程中对索引加锁</tspan></text></g><g transform="translate(2285.330000,2865.172500)" id="shape260"><path d="M.0,.0L174.0,.0L174.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L174.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">2. 事务提交/回滚时释放锁</tspan></text></g><g transform="translate(2185.330000,2405.072500)" id="shape261"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">加锁方式</tspan></text></g><g transform="translate(2285.330000,2344.772500)" id="shape262"><path d="M.0,.0L62.0,.0L62.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L62.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">排他锁</tspan></text></g><g transform="translate(2285.330000,2384.972500)" id="shape263"><path d="M.0,.0L62.0,.0L62.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L62.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">共享锁</tspan></text></g><g transform="translate(2285.330000,2425.172500)" id="shape264"><path d="M.0,.0L88.0,.0L88.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L88.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">意向排他锁</tspan></text></g><g transform="translate(2285.330000,2465.372500)" id="shape265"><path d="M.0,.0L88.0,.0L88.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L88.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">意向共享锁</tspan></text></g><g transform="translate(2285.330000,2905.372500)" id="shape266"><path d="M.0,.0L298.0,.0L298.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L298.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">1. 通过聚簇索引更新时，会在聚簇索引上加锁。</tspan></text></g><g transform="translate(2285.330000,2945.572500)" id="shape267"><path d="M.0,.0L454.0,.0L454.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L454.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">2. 通过二级索引进行更新时，会先对二级索引加锁，然后对聚簇索引加锁。</tspan></text></g><g transform="translate(2285.330000,2985.772500)" id="shape268"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.0" y="21.3">3. 使用聚簇索引更新二级索引时，会先对聚簇加锁，再对二级索引加锁。此结论的前</tspan><tspan style="font-size:10.00pt" x="209.0" y="40.3">提条件为结论4。</tspan></text></g><g transform="translate(2285.330000,3044.972500)" id="shape269"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.0" y="21.3">4. 更新二级索引时，只有二级索引所在的列产生实际变化的更新，才会对二级索引加</tspan><tspan style="font-size:10.00pt" x="167.5" y="40.3">锁，否则仅会对聚簇索引加锁。</tspan></text></g><g transform="translate(2285.330000,3104.172500)" id="shape270"><path d="M.0,.0L515.0,.0L515.0,69.5L.0,69.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,69.5L515.0,69.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.0" y="21.3">5. 在REPEATABLE_READ级别下，对索引的加锁范围是索引所确定的范围，而不是最</tspan><tspan style="font-size:10.00pt" x="24.5" y="40.3">终结果集范围。也就是说需要回表查询才能剔除的行的聚簇索引依然会被加锁。而</tspan><tspan style="font-size:10.00pt" x="152.5" y="59.3">READ_COMMITTED级别下则不会。</tspan></text></g><g transform="translate(2470.330000,562.472500)" id="shape271"><path d="M.0,.0L43.0,.0L43.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L43.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">QA</tspan></text></g><g transform="translate(2538.330000,542.372500)" id="shape272"><path d="M.0,.0L217.0,.0L217.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L217.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">执行顺序1->3->2，执行到3崩溃</tspan></text></g><g transform="translate(2780.330000,542.372500)" id="shape273"><path d="M.0,.0L374.0,.0L374.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L374.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">崩溃重启后，主库可能是最新数据，从库却比主库少一条数据</tspan></text></g><g transform="translate(2538.330000,582.572500)" id="shape274"><path d="M.0,.0L217.0,.0L217.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L217.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">执行顺序2->1->3，执行到3崩溃</tspan></text></g><g transform="translate(2780.330000,582.572500)" id="shape275"><path d="M.0,.0L374.0,.0L374.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L374.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">崩溃重启后，主库可能是最新数据，从库却比主库多一条数据</tspan></text></g><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,29.6C3.5,29.6,-9.0,-29.6,12.5,-29.6" transform="translate(2444.83,683.87)" fill="none" id="shape276"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2444.83,713.47)" fill="none" id="shape277"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-29.6C3.5,-29.6,-9.0,29.6,12.5,29.6" transform="translate(2444.83,743.07)" fill="none" id="shape278"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2584.83,713.47)" fill="none" id="shape279"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2718.83,772.67)" fill="none" id="shape280"/><g transform="translate(2344.330000,681.972500)" id="shape281"><path d="M.0,.0L88.0,.0L88.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L88.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">俩阶段提交</tspan></text></g><g transform="translate(2457.330000,622.772500)" id="shape282"><path d="M.0,.0L210.0,.0L210.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L210.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">1. 写redolog日志，prepare状态</tspan></text></g><g transform="translate(2457.330000,681.972500)" id="shape283"><path d="M.0,.0L115.0,.0L115.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L115.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">2. 写binlog日志</tspan></text></g><g transform="translate(2457.330000,741.172500)" id="shape284"><path d="M.0,.0L249.0,.0L249.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L249.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">3. 提交事务，redolog处于commit状态</tspan></text></g><g transform="translate(2597.330000,662.972500)" id="shape285"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.5" y="21.3">写binlog之前崩溃，数据库重启后，redolog处于prepare状态且binlog里没找到提交</tspan><tspan style="font-size:10.00pt" x="157.0" y="40.3">日志，则将第一阶段的redolog回滚</tspan></text></g><g transform="translate(2731.330000,722.172500)" id="shape286"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.0" y="21.3">提交事务之前崩溃，数据库重启后，redolog处于prepare状态且binlog里找到提交操</tspan><tspan style="font-size:10.00pt" x="213.0" y="40.3">作，则提交日志</tspan></text></g><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,46.4C5.0,46.4,-12.4,-46.4,12.5,-46.4" transform="translate(2273.83,1843.09)" fill="none" id="shape287"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,76.0C5.0,76.0,-12.5,-76.0,12.5,-76.0" transform="translate(2273.83,1813.49)" fill="none" id="shape288"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,16.3C1.2,16.3,-3.6,-16.3,12.5,-16.3" transform="translate(2273.83,1873.24)" fill="none" id="shape289"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-76.0C5.0,-76.0,-12.5,76.0,12.5,76.0" transform="translate(2273.83,1965.51)" fill="none" id="shape290"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,52.1C5.0,52.1,-12.5,-52.1,12.5,-52.1" transform="translate(2373.83,1989.45)" fill="none" id="shape291"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.0C-0.2,10.0,-0.4,-10.0,12.5,-10.0" transform="translate(2412.83,1846.92)" fill="none" id="shape292"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.1C-0.2,-10.1,-0.4,10.0,12.5,10.0" transform="translate(2412.83,1867.02)" fill="none" id="shape293"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,12.4C.4,12.4,-1.7,-12.4,12.5,-12.4" transform="translate(2373.83,2029.10)" fill="none" id="shape294"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-52.1C5.0,-52.1,-12.5,52.1,12.5,52.1" transform="translate(2373.83,2093.60)" fill="none" id="shape295"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,34.9C4.2,34.9,-10.6,-34.9,12.5,-34.9" transform="translate(2682.83,2110.77)" fill="none" id="shape296"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,14.8C.9,14.8,-2.8,-14.8,12.5,-14.8" transform="translate(2682.83,2130.87)" fill="none" id="shape297"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-5.3C-1.3,-5.3,2.1,5.3,12.5,5.3" transform="translate(2682.83,2150.97)" fill="none" id="shape298"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-34.9C4.2,-34.9,-10.6,34.9,12.5,34.9" transform="translate(2682.83,2180.57)" fill="none" id="shape299"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.0C-0.2,10.0,-0.4,-10.0,12.5,-10.0" transform="translate(2525.83,1927.32)" fill="none" id="shape300"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.1C-0.2,-10.1,-0.4,10.0,12.5,10.0" transform="translate(2525.83,1947.42)" fill="none" id="shape301"/><g transform="translate(2286.330000,1746.172500)" id="shape302"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="11.5" y="21.3">可以理解为行级锁的变种，在很多情况下实现了加锁操作，其实现方式是通过保存数据</tspan><tspan style="font-size:10.00pt" x="174.0" y="40.3">在某个时间点的快照来实现的</tspan></text></g><g transform="translate(2286.330000,1705.972500)" id="shape303"><path d="M.0,.0L104.0,.0L104.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L104.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">undo log实现</tspan></text></g><g transform="translate(2198.330000,1857.997500)" id="shape304"><path d="M.0,.0L63.0,.0L63.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L63.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">MVCC</tspan></text></g><g transform="translate(2286.330000,1825.472500)" id="shape305"><path d="M.0,.0L114.0,.0L114.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L114.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">生效地隔离级别</tspan></text></g><g transform="translate(2286.330000,2010.022500)" id="shape306"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">实现方式</tspan></text></g><g transform="translate(2386.330000,1905.872500)" id="shape307"><path d="M.0,.0L127.0,.0L127.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L127.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">每行都有额外俩列</tspan></text></g><g transform="translate(2425.330000,1805.372500)" id="shape308"><path d="M.0,.0L207.0,.0L207.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L207.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">READ COMMITTED（提交读）</tspan></text></g><g transform="translate(2425.330000,1845.572500)" id="shape309"><path d="M.0,.0L216.0,.0L216.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L216.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">REPEATABLE READ（可重复读）</tspan></text></g><g transform="translate(2386.330000,1966.172500)" id="shape310"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="11.5" y="21.3">每开启一个新的事务，系统版本号都会递增。增加的系统版本号会作为当前事务的版本</tspan><tspan style="font-size:10.00pt" x="252.0" y="40.3">号</tspan></text></g><g transform="translate(2386.330000,2114.172500)" id="shape311"><path d="M.0,.0L284.0,.0L284.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L284.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">InnoDB - REPEATABLE READ 隔离级别 实现</tspan></text></g><g transform="translate(2695.330000,2025.372500)" id="shape312"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.0" y="21.3">Select： 寻找行创建版本号小于等于当前事务版本号以及事务版本号小于行过期版本</tspan><tspan style="font-size:10.00pt" x="174.0" y="40.3">（或者过期版本为空）的数据</tspan></text></g><g transform="translate(2695.330000,2084.572500)" id="shape313"><path d="M.0,.0L426.0,.0L426.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L426.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">INSERT：InnoDB为新插入的每一行保存当前系统版本号作为行版本号</tspan></text></g><g transform="translate(2695.330000,2124.772500)" id="shape314"><path d="M.0,.0L443.0,.0L443.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L443.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">DELETE： InnoDB为删除的每一行保存当前系统版本号作为行删除标识。</tspan></text></g><g transform="translate(2695.330000,2164.972500)" id="shape315"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.0" y="21.3">UPDATE： InnoDB为插入一行新记录，保存当前系统版本号作为行版本号，同时保存</tspan><tspan style="font-size:10.00pt" x="128.5" y="40.3">当前系统版本号到原来的行作为行删除标识。</tspan></text></g><g transform="translate(2538.330000,1885.772500)" id="shape316"><path d="M.0,.0L101.0,.0L101.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L101.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">行的创建时间</tspan></text></g><g transform="translate(2538.330000,1925.972500)" id="shape317"><path d="M.0,.0L101.0,.0L101.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L101.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">行的过期时间</tspan></text></g><g transform="translate(3480.180000,1642.410000)" id="table318"><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,.0L170.0,.0L170.0,206.0L.0,206.0L.0,.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="9.0" y="108.5">ReadView</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M170.0,.0L340.0,.0L340.0,206.0L170.0,206.0L170.0,.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="179.0" y="71.0">ReadView所解决的问题是</tspan><tspan style="font-size:10.00pt" x="179.0" y="86.0">使用READ COMMITTED和</tspan><tspan style="font-size:10.00pt" x="179.0" y="101.0">REPEATABLE READ隔离级</tspan><tspan style="font-size:10.00pt" x="179.0" y="116.0">别的事务中，不能读到未</tspan><tspan style="font-size:10.00pt" x="179.0" y="131.0">提交的记录，这需要判断</tspan><tspan style="font-size:10.00pt" x="179.0" y="146.0">一下版本链中的哪个版本</tspan><tspan style="font-size:10.00pt" x="179.0" y="161.0">是当前事务可见的。</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,.0L510.0,.0L510.0,40.0L340.0,40.0L340.0,.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="24.0">creator_trx_id </tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,.0L680.0,.0L680.0,40.0L510.0,40.0L510.0,.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="24.0">创建这个ReadView事务id  </tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,40.0L510.0,40.0L510.0,82.0L340.0,82.0L340.0,40.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="65.0">trx_ids</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,40.0L680.0,40.0L680.0,82.0L510.0,82.0L510.0,40.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="57.0">创建当前ReadView时,所有活跃的</tspan><tspan style="font-size:7.50pt" x="519.0" y="73.0">事务的id列表</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,82.0L510.0,82.0L510.0,122.0L340.0,122.0L340.0,82.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="106.0">m_trx_ids</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,82.0L680.0,82.0L680.0,122.0L510.0,122.0L510.0,82.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="106.0">`trx_ids`列表长度</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,122.0L510.0,122.0L510.0,164.0L340.0,164.0L340.0,122.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="147.0">up_limit_id</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,122.0L680.0,122.0L680.0,164.0L510.0,164.0L510.0,122.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="139.0">创建当前ReadView时,活跃事务的</tspan><tspan style="font-size:7.50pt" x="519.0" y="155.0">最小id</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,164.0L510.0,164.0L510.0,206.0L340.0,206.0L340.0,164.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="189.0">low_limit_id</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,164.0L680.0,164.0L680.0,206.0L510.0,206.0L510.0,164.0z" fill="#acd0b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="181.0">创建当前ReadView时,活跃事务的</tspan><tspan style="font-size:7.50pt" x="519.0" y="197.0">最大id</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,206.0L170.0,206.0L170.0,328.0L.0,328.0L.0,206.0z" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="9.0" y="272.5">Innodb引擎隐藏字段</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M170.0,206.0L340.0,206.0L340.0,328.0L170.0,328.0L170.0,206.0z" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,206.0L510.0,206.0L510.0,246.0L340.0,246.0L340.0,206.0z" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="230.0">DATA _TRX_ID </tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,206.0L680.0,206.0L680.0,246.0L510.0,246.0L510.0,206.0z" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="230.0"> 表示产生当前记录项的事务ID</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,246.0L510.0,246.0L510.0,288.0L340.0,288.0L340.0,246.0z" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="271.0">DATA_ROLL_PTR </tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,246.0L680.0,246.0L680.0,288.0L510.0,288.0L510.0,246.0z" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="263.0">一个指向此条记录项的undo信息</tspan><tspan style="font-size:7.50pt" x="519.0" y="279.0">的指针</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,288.0L510.0,288.0L510.0,328.0L340.0,328.0L340.0,288.0z" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="312.0">DELETED_BIT   </tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,288.0L680.0,288.0L680.0,328.0L510.0,328.0L510.0,288.0z" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="312.0">用于标识该记录是否被删除。</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,328.0L170.0,328.0L170.0,412.0L.0,412.0L.0,328.0z" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="9.0" y="374.0">ReadView生成时机</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M170.0,328.0L340.0,328.0L340.0,412.0L170.0,412.0L170.0,328.0z" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,328.0L510.0,328.0L510.0,370.0L340.0,370.0L340.0,328.0z" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="353.0">READ COMMITTED</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,328.0L680.0,328.0L680.0,370.0L510.0,370.0L510.0,328.0z" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="353.0">select 时生成一个ReadView</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,370.0L510.0,370.0L510.0,412.0L340.0,412.0L340.0,370.0z" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="395.0">REPEATABLE READ</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,370.0L680.0,370.0L680.0,412.0L510.0,412.0L510.0,370.0z" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="395.0">事务启动时生成一个ReadView</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,412.0L170.0,412.0L170.0,524.0L.0,524.0L.0,412.0z" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="9.0" y="472.0">事务启动时机</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M170.0,412.0L340.0,412.0L340.0,524.0L170.0,524.0L170.0,412.0z" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,412.0L510.0,412.0L510.0,482.0L340.0,482.0L340.0,412.0z" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="451.0">begin/start transaction </tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,412.0L680.0,412.0L680.0,482.0L510.0,482.0L510.0,412.0z" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="427.0">命令并不是一个事务的起点，在执</tspan><tspan style="font-size:7.50pt" x="519.0" y="443.0">行到它们之后的第一个操作 </tspan><tspan style="font-size:7.50pt" x="519.0" y="459.0">InnoDB 表的语句，事务才真正启</tspan><tspan style="font-size:7.50pt" x="519.0" y="475.0">动</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M340.0,482.0L510.0,482.0L510.0,524.0L340.0,524.0L340.0,482.0z" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="349.0" y="499.0">start transaction with </tspan><tspan style="font-size:7.50pt" x="349.0" y="515.0">consistent snapshot</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M510.0,482.0L680.0,482.0L680.0,524.0L510.0,524.0L510.0,482.0z" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="519.0" y="507.0">马上启动一个事务</tspan></text></g></g><g transform="translate(4189.495000,1532.327000)" id="group319"><g id="shape320"><path stroke="#323232" stroke-width="1" d="M1001.4,717.9L1001.4,.0L.0,.0L.0,717.9L1001.4,717.9z" fill-rule="nonzero" fill="#ffdcac"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:16.88pt"><tspan style="font-size:13.50pt" x="4.2" y="22.0">mvvc查找数据过程</tspan></text></g><g transform="translate(539.435000,165.963000)" id="shape321"><path stroke="#ca3d3e" stroke-width="1" d="M29.0,58.0L160.0,58.0L160.0,58.0C176.0,58.0,189.0,45.0,189.0,29.0C189.0,13.0,176.0,.0,160.0,.0L29.0,.0L29.0,.0C13.0,.0,.0,13.0,.0,29.0C.0,45.0,13.0,58.0,29.0,58.0z" fill-rule="nonzero" fill="#ffede9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="19.5" y="25.0">根据当前事务视图判断行数据上的</tspan><tspan style="font-size:7.50pt" x="40.0" y="41.0">trx_id 版本数据是否可见</tspan></text></g><g transform="translate(822.685000,421.063000)" id="shape322"><path stroke="#ca3d3e" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffede9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="40.0" y="26.0">可见</tspan></text></g><g transform="translate(746.185000,293.588000)" id="shape323"><path stroke="#ca3d3e" stroke-width="1" d="M.0,.0L126.5,.0L126.5,123.1" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M126.5,127.5L129.5,122.3C128.6,122.8,127.6,123.1,126.5,123.1C125.4,123.1,124.4,122.8,123.5,122.3L126.5,127.5" fill="#ca3d3e"/><rect width="20.0" height="16.0" x="69.3" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="69.3" y="4.0">true</tspan></text></g><g transform="translate(633.935000,223.963000)" id="shape324"><path stroke="#ca3d3e" stroke-width="1" d="M.0,.0L.0,33.9" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M.0,38.3L3.0,33.1C2.1,33.6,1.1,33.9,.0,33.9C-1.1,33.9,-2.1,33.6,-3.0,33.1L.0,38.3" fill="#ca3d3e"/></g><g transform="translate(746.185000,443.063000)" id="shape325"><path stroke="#ca3d3e" stroke-width="1" d="M.0,.0L72.1,.0" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M76.5,.0L71.3,-3.0C71.8,-2.1,72.1,-1.1,72.1,.0C72.1,1.1,71.8,2.1,71.3,3.0L76.5,.0" fill="#ca3d3e"/><rect width="20.0" height="16.0" x="38.3" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="38.3" y="4.0">true</tspan></text></g><g transform="translate(633.935000,324.963000)" id="shape326"><path stroke="#ca3d3e" stroke-width="1" d="M.0,.0L.0,82.5" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M.0,86.8L3.0,81.7C2.1,82.2,1.1,82.5,.0,82.5C-1.1,82.5,-2.1,82.2,-3.0,81.7L.0,86.8" fill="#ca3d3e"/><rect width="23.0" height="16.0" x="-10.5" y="21.8" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-10.5" y="33.8">false</tspan></text></g><g transform="translate(520.935000,522.013000)" id="shape327"><path stroke="#ca3d3e" stroke-width="1" d="M112.3,62.5L224.5,31.3L112.3,.0L.0,31.3L112.3,62.5z" fill-rule="nonzero" fill="#ffede9"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="84.3" y="29.3">trx_id > </tspan><tspan style="font-size:10.00pt" x="70.3" y="44.3">low_limit_id</tspan></text></g><g transform="translate(633.935000,474.313000)" id="shape328"><path stroke="#ca3d3e" stroke-width="1" d="M.0,.0L.0,15.7L-0.8,15.7L-0.8,43.3" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M-0.8,47.7L2.3,42.5C1.4,43.0,.3,43.3,-0.8,43.3C-1.8,43.3,-2.9,43.0,-3.7,42.5L-0.8,47.7" fill="#ca3d3e"/><rect width="23.0" height="16.0" x="-11.3" y="18.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-11.3" y="30.5">false</tspan></text></g><g transform="translate(520.935000,553.263000)" id="shape329"><path stroke="#ca3d3e" stroke-width="1" d="M.0,.0L-108.3,.0L-108.3,31.3" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M-108.3,35.7L-105.3,30.5C-106.1,31.0,-107.2,31.3,-108.3,31.3C-109.3,31.3,-110.4,31.0,-111.3,30.5L-108.3,35.7" fill="#ca3d3e"/><rect width="20.0" height="16.0" x="-40.4" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-40.4" y="4.0">true</tspan></text></g><g transform="translate(521.685000,632.213000)" id="shape330"><path stroke="#ca3d3e" stroke-width="1" d="M112.3,62.5L224.5,31.3L112.3,.0L.0,31.3L112.3,62.5z" fill-rule="nonzero" fill="#ffede9"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.3" y="36.8">trx_id is in m_ids</tspan></text></g><g transform="translate(362.685000,588.963000)" id="shape331"><path stroke="#ca3d3e" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffede9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="35.0" y="26.0">不可见</tspan></text></g><g transform="translate(633.185000,584.513000)" id="shape332"><path stroke="#ca3d3e" stroke-width="1" d="M.0,.0L.0,15.7L.8,15.7L.8,43.3" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M.8,47.7L3.8,42.5C2.9,43.0,1.8,43.3,.8,43.3C-0.3,43.3,-1.4,43.0,-2.2,42.5L.8,47.7" fill="#ca3d3e"/><rect width="23.0" height="16.0" x="-9.8" y="13.6" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-9.8" y="25.6">false</tspan></text></g><g transform="translate(521.685000,663.463000)" id="shape333"><path stroke="#ca3d3e" stroke-width="1" d="M.0,.0L-109.0,.0L-109.0,-26.1" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M-109.0,-30.5L-112.0,-25.3C-111.1,-25.8,-110.1,-26.1,-109.0,-26.1C-107.9,-26.1,-106.9,-25.8,-106.0,-25.3L-109.0,-30.5" fill="#ca3d3e"/><rect width="20.0" height="16.0" x="-35.7" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-35.7" y="4.0">true</tspan></text></g><g transform="translate(746.185000,663.463000)" id="shape334"><path stroke="#ca3d3e" stroke-width="1" d="M.0,.0L126.5,.0L126.5,-194.0" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M126.5,-198.4L123.5,-193.2C124.4,-193.7,125.4,-194.0,126.5,-194.0C127.6,-194.0,128.6,-193.7,129.5,-193.2L126.5,-198.4" fill="#ca3d3e"/><rect width="23.0" height="16.0" x="65.5" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="65.5" y="4.0">false</tspan></text></g><g transform="translate(167.685000,474.963000)" id="shape335"><path stroke="#323232" stroke-width="1" d="M100.0,53.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L93.0,60.0C96.9,60.0,100.0,56.9,100.0,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="10.0" y="26.0">查到当前数据行的</tspan><tspan style="font-size:7.50pt" x="10.0" y="42.0">DATA_ROLL_PTR</tspan></text></g><g transform="translate(362.685000,610.963000)" id="shape336"><path stroke="#323232" stroke-width="1" d="M.0,.0L-90.6,.0" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M-95.0,.0L-89.8,3.0C-90.3,2.1,-90.6,1.1,-90.6,.0C-90.6,-1.1,-90.3,-2.1,-89.8,-3.0L-95.0,.0" fill="#323232"/></g><g transform="translate(167.685000,580.838000)" id="shape337"><path stroke="#323232" stroke-width="1" d="M50.0,60.3L100.0,30.1L50.0,.0L.0,30.1L50.0,60.3z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="35.0" y="26.1">是否在</tspan><tspan style="font-size:7.50pt" x="30.5" y="42.1">undolog</tspan></text></g><g transform="translate(217.685000,580.838000)" id="shape338"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,-41.5" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,-45.9L-3.0,-40.7C-2.1,-41.2,-1.1,-41.5,.0,-41.5C1.1,-41.5,2.1,-41.2,3.0,-40.7L.0,-45.9" fill="#323232"/><rect width="10.0" height="16.0" x="-4.0" y="-26.6" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-4.0" y="-14.6">否</tspan></text></g><g transform="translate(22.685000,474.963000)" id="shape339"><path stroke="#323232" stroke-width="1" d="M100.0,53.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L93.0,60.0C96.9,60.0,100.0,56.9,100.0,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="5.5" y="26.0">执行undolog中的反</tspan><tspan style="font-size:7.50pt" x="40.0" y="42.0">操作</tspan></text></g><g transform="translate(167.685000,610.963000)" id="shape340"><path stroke="#323232" stroke-width="1" d="M.0,.0L-95.0,.0L-95.0,-71.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M-95.0,-76.0L-98.0,-70.8C-97.1,-71.3,-96.1,-71.6,-95.0,-71.6C-93.9,-71.6,-92.9,-71.3,-92.0,-70.8L-95.0,-76.0" fill="#323232"/></g><g transform="translate(72.685000,474.963000)" id="shape341"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,-181.4L90.6,-181.4" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M95.0,-181.4L89.8,-184.4C90.3,-183.5,90.6,-182.5,90.6,-181.4C90.6,-180.3,90.3,-179.3,89.8,-178.4L95.0,-181.4" fill="#323232"/></g><g transform="translate(267.685000,293.588000)" id="shape342"><path stroke="#323232" stroke-width="1" d="M.0,.0L249.6,.0" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M254.0,.0L248.8,-3.0C249.3,-2.1,249.6,-1.1,249.6,.0C249.6,1.1,249.3,2.1,248.8,3.0L254.0,.0" fill="#323232"/></g><g transform="translate(217.685000,474.963000)" id="shape343"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,-147.0" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,-151.4L-3.0,-146.2C-2.1,-146.7,-1.1,-147.0,.0,-147.0C1.1,-147.0,2.1,-146.7,3.0,-146.2L.0,-151.4" fill="#323232"/></g><g transform="translate(167.685000,263.588000)" id="shape344"><path stroke="#323232" stroke-width="1" d="M100.0,53.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L93.0,60.0C96.9,60.0,100.0,56.9,100.0,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="5.5" y="26.0">找到下一个undolog</tspan><tspan style="font-size:7.50pt" x="17.0" y="42.0">所关联的trx_id</tspan></text></g><g transform="translate(922.685000,443.063000)" id="shape345"><path stroke="#323232" stroke-width="1" d="M.0,.0L32.0,.0L32.0,-337.4L-4.5,-337.4" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M-8.9,-337.4L-3.7,-334.4C-4.2,-335.2,-4.5,-336.3,-4.5,-337.4C-4.5,-338.4,-4.2,-339.5,-3.7,-340.4L-8.9,-337.4" fill="#323232"/><rect width="40.0" height="16.0" x="3.9" y="-345.4" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="3.9" y="-333.4">返回数据</tspan></text></g><g transform="translate(633.935000,134.713000)" id="shape346"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,26.9" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,31.3L3.0,26.1C2.1,26.6,1.1,26.9,.0,26.9C-1.1,26.9,-2.1,26.6,-3.0,26.1L.0,31.3" fill="#323232"/></g><g transform="translate(813.775000,105.713000)" id="shape347"><path stroke="#323232" stroke-width="1" d="M.0,.0L-125.4,.0" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M-129.8,.0L-124.6,3.0C-125.2,2.1,-125.4,1.1,-125.4,.0C-125.4,-1.1,-125.2,-2.1,-124.6,-3.0L-129.8,.0" fill="#323232"/></g><g transform="translate(583.935000,76.713000)" id="shape348"><path stroke="#323232" stroke-width="1" d="M100.0,51.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,51.0C.0,54.9,3.1,58.0,7.0,58.0L93.0,58.0C96.9,58.0,100.0,54.9,100.0,51.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="5.0" y="25.0">查到聚簇索引的隐藏</tspan><tspan style="font-size:7.50pt" x="4.0" y="41.0">列的DATA _TRX_ID </tspan></text></g><g transform="translate(813.775000,83.713000)" id="shape349"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="16.5" y="26.0">事务A查找数据</tspan></text></g><g transform="translate(521.685000,411.813000)" id="shape350"><path stroke="#ca3d3e" stroke-width="1" d="M112.3,62.5L224.5,31.3L112.3,.0L.0,31.3L112.3,62.5z" fill-rule="nonzero" fill="#ffede9"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="42.3" y="36.8">trx_id &lt; up_limit_id</tspan></text></g><g transform="translate(521.685000,262.213000)" id="shape351"><path stroke="#ca3d3e" stroke-width="1" d="M112.3,62.8L224.5,31.4L112.3,.0L.0,31.4L112.3,62.8z" fill-rule="nonzero" fill="#ffede9"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="80.8" y="29.4">trx_id == </tspan><tspan style="font-size:10.00pt" x="63.3" y="44.4">creator_trx_id</tspan></text></g></g><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,160.7C5.0,160.7,-12.5,-160.7,12.5,-160.7" transform="translate(1842.83,4186.93)" fill="none" id="shape352"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-35.0C4.2,-35.0,-10.6,35.0,12.5,35.0" transform="translate(1842.83,4382.64)" fill="none" id="shape353"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-95.3C5.0,-95.3,-12.5,95.3,12.5,95.3" transform="translate(1842.83,4442.93)" fill="none" id="shape354"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-160.7C5.0,-160.7,-12.5,160.7,12.5,160.7" transform="translate(1842.83,4508.26)" fill="none" id="shape355"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,155.5C5.0,155.5,-12.5,-155.5,12.5,-155.5" transform="translate(1942.83,3870.77)" fill="none" id="shape356"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-115.3C5.0,-115.3,-12.5,115.3,12.5,115.3" transform="translate(1942.83,4141.57)" fill="none" id="shape357"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-135.4C5.0,-135.4,-12.5,135.4,12.5,135.4" transform="translate(1942.83,4161.67)" fill="none" id="shape358"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-155.5C5.0,-155.5,-12.5,155.5,12.5,155.5" transform="translate(1942.83,4181.77)" fill="none" id="shape359"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,20.1C1.9,20.1,-5.3,-20.1,12.5,-20.1" transform="translate(1942.83,4397.57)" fill="none" id="shape360"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(1942.83,4417.67)" fill="none" id="shape361"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-20.1C1.9,-20.1,-5.3,20.1,12.5,20.1" transform="translate(1942.83,4437.77)" fill="none" id="shape362"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,20.1C1.9,20.1,-5.3,-20.1,12.5,-20.1" transform="translate(1942.83,4518.17)" fill="none" id="shape363"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(1942.83,4538.27)" fill="none" id="shape364"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-20.1C1.9,-20.1,-5.3,20.1,12.5,20.1" transform="translate(1942.83,4558.37)" fill="none" id="shape365"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.1C-0.2,10.1,-0.4,-10.1,12.5,-10.1" transform="translate(2233.83,4628.72)" fill="none" id="shape366"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.0C-0.2,-10.0,-0.4,10.1,12.5,10.1" transform="translate(2233.83,4648.82)" fill="none" id="shape367"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,15.1C.9,15.1,-3.0,-15.1,12.5,-15.1" transform="translate(1916.83,4653.85)" fill="none" id="shape368"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-15.1C.9,-15.1,-3.0,15.1,12.5,15.1" transform="translate(1916.83,4684.00)" fill="none" id="shape369"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-155.5C5.0,-155.5,-12.5,155.5,12.5,155.5" transform="translate(2030.83,3870.77)" fill="none" id="shape370"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,14.8C.9,14.8,-2.8,-14.8,12.5,-14.8" transform="translate(2472.83,4011.47)" fill="none" id="shape371"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-14.8C.9,-14.8,-2.8,14.8,12.5,14.8" transform="translate(2472.83,4041.07)" fill="none" id="shape372"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,220.6C5.0,220.6,-12.5,-220.5,12.5,-220.5" transform="translate(2030.83,3494.72)" fill="none" id="shape373"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,190.4C5.0,190.4,-12.5,-190.4,12.5,-190.4" transform="translate(2030.83,3524.87)" fill="none" id="shape374"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,145.2C5.0,145.2,-12.5,-145.2,12.5,-145.2" transform="translate(2030.83,3570.10)" fill="none" id="shape375"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-25.7C2.9,-25.7,-7.6,25.7,12.5,25.7" transform="translate(2030.83,3740.95)" fill="none" id="shape376"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-91.0C5.0,-91.0,-12.5,91.0,12.5,91.0" transform="translate(2030.83,3806.27)" fill="none" id="shape377"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.0C-0.2,10.0,-0.4,-10.1,12.5,-10.1" transform="translate(2093.83,3264.12)" fill="none" id="shape378"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.0C-0.2,-10.0,-0.4,10.1,12.5,10.1" transform="translate(2093.83,3284.22)" fill="none" id="shape379"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2130.83,3334.47)" fill="none" id="shape380"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,25.1C2.8,25.1,-7.4,-25.1,12.5,-25.1" transform="translate(2156.83,3399.80)" fill="none" id="shape381"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,5.0C-1.3,5.0,2.2,-5.0,12.5,-5.0" transform="translate(2156.83,3419.90)" fill="none" id="shape382"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-25.1C2.8,-25.1,-7.4,25.1,12.5,25.1" transform="translate(2156.83,3450.05)" fill="none" id="shape383"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,15.1C.9,15.1,-3.0,-15.1,12.5,-15.1" transform="translate(2143.83,3751.55)" fill="none" id="shape384"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-15.1C.9,-15.1,-3.0,15.1,12.5,15.1" transform="translate(2143.83,3781.70)" fill="none" id="shape385"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,20.1C1.9,20.1,-5.3,-20.1,12.5,-20.1" transform="translate(2182.83,3877.17)" fill="none" id="shape386"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2182.83,3897.27)" fill="none" id="shape387"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-220.6C5.0,-220.6,-12.5,220.6,12.5,220.6" transform="translate(2030.83,3935.82)" fill="none" id="shape388"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.1C-0.2,10.1,-0.4,-10.0,12.5,-10.0" transform="translate(2386.83,3465.12)" fill="none" id="shape389"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.1C-0.2,-10.1,-0.4,10.0,12.5,10.0" transform="translate(2386.83,3485.22)" fill="none" id="shape390"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.1C-0.2,10.1,-0.4,-10.0,12.5,-10.0" transform="translate(2217.83,3786.72)" fill="none" id="shape391"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.1C-0.2,-10.1,-0.4,10.0,12.5,10.0" transform="translate(2217.83,3806.82)" fill="none" id="shape392"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-10.0C-0.2,-10.0,-0.4,10.0,12.5,10.0" transform="translate(2130.83,4166.42)" fill="none" id="shape393"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,-30.1C3.6,-30.1,-9.2,30.1,12.5,30.1" transform="translate(2130.83,4186.52)" fill="none" id="shape394"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,.0C-2.5,.0,5.0,.0,12.5,.0" transform="translate(2133.83,4638.77)" fill="none" id="shape395"/><g transform="translate(1781.330000,4316.097500)" id="shape396"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">索引</tspan></text></g><g transform="translate(1855.330000,3994.772500)" id="shape397"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">数据结构</tspan></text></g><g transform="translate(1855.330000,4386.172500)" id="shape398"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">索引类型</tspan></text></g><g transform="translate(1855.330000,4506.772500)" id="shape399"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">索引优点</tspan></text></g><g transform="translate(1855.330000,4637.422500)" id="shape400"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">规则</tspan></text></g><g transform="translate(1955.330000,3683.772500)" id="shape401"><path d="M.0,.0L63.0,.0L63.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L63.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">B-Tree</tspan></text></g><g transform="translate(1955.330000,4225.372500)" id="shape402"><path d="M.0,.0L80.0,.0L80.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L80.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">Hash索引</tspan></text></g><g transform="translate(1955.330000,4265.572500)" id="shape403"><path d="M.0,.0L101.0,.0L101.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L101.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">空间数据索引</tspan></text></g><g transform="translate(1955.330000,4305.772500)" id="shape404"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">全文索引</tspan></text></g><g transform="translate(1955.330000,4345.972500)" id="shape405"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">单列索引</tspan></text></g><g transform="translate(1955.330000,4386.172500)" id="shape406"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">组合索引</tspan></text></g><g transform="translate(1955.330000,4426.372500)" id="shape407"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">唯一索引</tspan></text></g><g transform="translate(1955.330000,4466.572500)" id="shape408"><path d="M.0,.0L205.0,.0L205.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L205.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">减少了服务器需要扫描的数据量</tspan></text></g><g transform="translate(1955.330000,4506.772500)" id="shape409"><path d="M.0,.0L192.0,.0L192.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L192.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">帮助服务器避免排序和临时表</tspan></text></g><g transform="translate(1955.330000,4546.972500)" id="shape410"><path d="M.0,.0L144.0,.0L144.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L144.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">将随机IO变为顺序IO</tspan></text></g><g transform="translate(2246.330000,4587.172500)" id="shape411"><path d="M.0,.0L393.0,.0L393.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L393.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">SELECT actor_id FROM sakila.actor WHERE actor_id + 1 = 5;</tspan></text></g><g transform="translate(2246.330000,4627.372500)" id="shape412"><path d="M.0,.0L479.0,.0L479.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L479.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">SELECT ... WHERE TO_DAYS(CURRENT_DATE) - TO_DAYS(date_col) &lt;= 10;</tspan></text></g><g transform="translate(1929.330000,4607.272500)" id="shape413"><path d="M.0,.0L192.0,.0L192.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L192.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">始终将索引放在比较符的一侧</tspan></text></g><g transform="translate(1929.330000,4667.572500)" id="shape414"><path d="M.0,.0L341.0,.0L341.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L341.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">针对BLOB/ TEXT/ 很长的VARCHAR 必须使用前缀索引</tspan></text></g><g transform="translate(2043.330000,3994.772500)" id="shape415"><path d="M.0,.0L417.0,.0L417.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L417.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">在多个列上建立独立索引, 大部分情况下并不能提高MySQL查询性能.</tspan></text></g><g transform="translate(2485.330000,3946.172500)" id="shape416"><path d="M.0,.0L355.0,.0L355.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L355.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="30.5" y="21.3">MySQL5.0及以上版本, 引入了一种索引合并的策略,</tspan><tspan style="font-size:10.00pt" x="12.5" y="40.3"> 可以再一定程度上使用表上多个单列索引来定位指定的行.</tspan></text></g><g transform="translate(2485.330000,4005.372500)" id="shape417"><path d="M.0,.0L419.0,.0L419.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L419.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">通过explain看到type: index_merge的话就表示使用了索引合并策略, </tspan><tspan style="font-size:10.00pt" x="113.0" y="40.3">但是这时候其实应该使用联合索引</tspan></text></g><g transform="translate(2043.330000,3244.672500)" id="shape418"><path d="M.0,.0L38.0,.0L38.0,29.5L.0,29.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,29.5L38.0,29.5" fill="none"/></g><g transform="translate(2043.330000,3302.972500)" id="shape419"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">全值匹配</tspan></text></g><g transform="translate(2043.330000,3393.422500)" id="shape420"><path d="M.0,.0L101.0,.0L101.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L101.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">匹配最左前缀</tspan></text></g><g transform="translate(2043.330000,3735.122500)" id="shape421"><path d="M.0,.0L88.0,.0L88.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L88.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">匹配列前缀</tspan></text></g><g transform="translate(2043.330000,3865.772500)" id="shape422"><path d="M.0,.0L127.0,.0L127.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L127.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">只访问索引的查询</tspan></text></g><g transform="translate(2106.330000,3222.572500)" id="shape423"><path d="M.0,.0L218.0,.0L218.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L218.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">按照索引声明顺序来创建索引顺序</tspan></text></g><g transform="translate(2106.330000,3262.772500)" id="shape424"><path d="M.0,.0L475.0,.0L475.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L475.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">索引先按照last_name进行排序, 然后再按照first_name排序, 最后按照date排序</tspan></text></g><g transform="translate(2143.330000,3302.972500)" id="shape425"><path d="M.0,.0L281.0,.0L281.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L281.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">last_name, first_name, dob 都参与索引查找</tspan></text></g><g transform="translate(2169.330000,3343.172500)" id="shape426"><path d="M.0,.0L136.0,.0L136.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L136.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">根据last_name查找</tspan></text></g><g transform="translate(2169.330000,3383.372500)" id="shape427"><path d="M.0,.0L207.0,.0L207.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L207.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">根据last_name, first_name查找</tspan></text></g><g transform="translate(2169.330000,3443.672500)" id="shape428"><path d="M.0,.0L205.0,.0L205.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L205.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">不能跳过查找索引列的左侧索引</tspan></text></g><g transform="translate(2156.330000,3704.972500)" id="shape429"><path d="M.0,.0L289.0,.0L289.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L289.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">某个列模糊匹配, 例如last_name, 以A开头的列</tspan></text></g><g transform="translate(2156.330000,3765.272500)" id="shape430"><path d="M.0,.0L49.0,.0L49.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L49.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">限制</tspan></text></g><g transform="translate(2195.330000,3825.572500)" id="shape431"><path d="M.0,.0L186.0,.0L186.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L186.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">只访问索引, 而不访问数据行</tspan></text></g><g transform="translate(2195.330000,3865.772500)" id="shape432"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">覆盖索引</tspan></text></g><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,30.2C3.6,30.2,-9.2,-30.2,12.5,-30.2" transform="translate(2130.83,4126.22)" fill="none" id="shape433"/><path stroke="#454545" stroke-width="1" stroke-linecap="round" d="M-12.5,10.1C-0.2,10.1,-0.4,-10.1,12.5,-10.1" transform="translate(2130.83,4146.32)" fill="none" id="shape434"/><g transform="translate(2043.330000,4124.872500)" id="shape435"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">支持SQL</tspan></text></g><g transform="translate(2143.330000,4064.572500)" id="shape436"><path d="M.0,.0L60.0,.0L60.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L60.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">where</tspan></text></g><g transform="translate(2143.330000,4104.772500)" id="shape437"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">order by</tspan></text></g><g transform="translate(2399.330000,3423.572500)" id="shape438"><path d="M.0,.0L206.0,.0L206.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L206.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">无效索引1: 根据first_name查找</tspan></text></g><g transform="translate(2399.330000,3463.772500)" id="shape439"><path d="M.0,.0L182.0,.0L182.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L182.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">无效索引2: 只使用date查找</tspan></text></g><g transform="translate(2230.330000,3745.172500)" id="shape440"><path d="M.0,.0L433.0,.0L433.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L433.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">在联合索引中，列前缀匹配索引左侧必须是精确匹配, 右侧不再使用索引</tspan></text></g><g transform="translate(2230.330000,3785.372500)" id="shape441"><path d="M.0,.0L386.0,.0L386.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L386.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">last_name 为 Water, first_name以A开头, date不参与索引运算</tspan></text></g><g transform="translate(2143.330000,4144.972500)" id="shape442"><path d="M.0,.0L79.0,.0L79.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L79.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">group by</tspan></text></g><g transform="translate(2143.330000,4185.172500)" id="shape443"><path d="M.0,.0L68.0,.0L68.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L68.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">distinct</tspan></text></g><g transform="translate(2146.330000,4607.272500)" id="shape444"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">错误示例</tspan></text></g><g transform="translate(2043.330000,3564.272500)" id="shape445"><path d="M.0,.0L125.0,.0L125.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L125.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">MySQL索引下推 </tspan></text></g><g transform="translate(2195.330000,3905.972500)" id="shape446"><path d="M.0,.0L187.0,.0L187.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L187.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">以上2种策略能避免索引回表</tspan></text></g><g transform="translate(2193.330000,3503.972500)" id="shape447"><path d="M.0,.0L392.0,.0L392.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L392.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">在联合索引里，同时多个列生效过滤. 避免回表再去server层过滤</tspan></text></g><g transform="translate(2193.330000,3544.172500)" id="shape448"><path d="M.0,.0L66.0,.0L66.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L66.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">explain</tspan></text></g><g transform="translate(2193.330000,3624.572500)" id="shape449"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">使用条件</tspan></text></g><g transform="translate(2284.330000,3544.172500)" id="shape450"><path d="M.0,.0L231.0,.0L231.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L231.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">Extra一列里 Using index condition</tspan></text></g><g transform="translate(2293.330000,3584.372500)" id="shape451"><path d="M.0,.0L341.0,.0L341.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L341.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">只能用于range、 ref、 eq_ref、ref_or_null访问方法；</tspan></text></g><g transform="translate(2293.330000,3624.572500)" id="shape452"><path d="M.0,.0L322.0,.0L322.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L322.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">只能用于InnoDB和 MyISAM存储引擎及其分区表；</tspan></text></g><g transform="translate(2293.330000,3664.772500)" id="shape453"><path d="M.0,.0L436.0,.0L436.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L436.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">对InnoDB存储引擎来说，索引下推只适用于二级索引（也叫辅助索引）;</tspan></text></g><g transform="translate(759.982000,2713.885000)" id="shape454"><path d="M.0,.0L481.0,.0L481.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L481.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">不唯一普通索引 先Insert buffer中，进行合并操作，操作完之后再插入索引页中</tspan></text></g><g transform="translate(741.029000,2754.085000)" id="shape455"><path d="M.0,.0L515.0,.0L515.0,69.5L.0,69.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,69.5L515.0,69.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.5" y="21.3">InnoDB 索引页一般 16KB 大小，而操作系统写文件以 4KB 为单位，这就导致同一页</tspan><tspan style="font-size:10.00pt" x="11.5" y="40.3">需要分四块分别写入。此时就存在写完一块系统崩溃或者断电等特殊情况，此时就导致</tspan><tspan style="font-size:10.00pt" x="193.5" y="59.3">写入数据不完整的问题</tspan></text></g><g transform="translate(741.029000,2832.285000)" id="shape456"><path d="M.0,.0L515.0,.0L515.0,88.5L.0,88.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,88.5L515.0,88.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.0" y="21.3">在写数据页之前，先把这个数据页写到一块独立的物理文件位置（ibdata），然后再写</tspan><tspan style="font-size:10.00pt" x="12.0" y="40.3">到数据页。这样在宕机重启时，如果出现数据页损坏，那么在应用redo log之前，需要</tspan><tspan style="font-size:10.00pt" x="11.5" y="59.3">通过该页的副本来还原该页，然后再进行redo log重做，这就是double write。double </tspan><tspan style="font-size:10.00pt" x="111.5" y="78.3">write技术带给innodb存储引擎的是数据页的可靠性</tspan></text></g><g transform="translate(719.326000,2968.685000)" id="shape457"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.0" y="21.3">当 InnoDB 预计某些页很快就要被访问时，会异步加载对应页数据到缓冲池。该思路</tspan><tspan style="font-size:10.00pt" x="24.5" y="40.3">就类似空间局部性：如果某块内存被访问，那么它周围的内存大概率也会被访问。</tspan></text></g><g transform="translate(719.326000,3076.485000)" id="shape458"><path d="M.0,.0L271.0,.0L271.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L271.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">InnoDB 采用两种预读算法提高 I/O 性能：</tspan></text></g><g transform="translate(1015.326000,3046.885000)" id="shape459"><path d="M.0,.0L75.0,.0L75.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L75.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3">线性预读</tspan></text></g><g transform="translate(1015.326000,3106.085000)" id="shape460"><path d="M.0,.0L79.0,.0L79.0,31.5L.0,31.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,31.5L79.0,31.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="21.3"> 随机预读</tspan></text></g><g transform="translate(1115.326000,3027.885000)" id="shape461"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.5" y="21.3">以块为单位，一块等于64页。如果某一块中的被顺序读取的页数超过预定值，则 </tspan><tspan style="font-size:10.00pt" x="110.5" y="40.3">InnoDB 将会异步的将下一块读取到 buffer pool 中</tspan></text></g><g transform="translate(1119.326000,3087.085000)" id="shape462"><path d="M.0,.0L515.0,.0L515.0,50.5L.0,50.5L.0,.0z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#454545" stroke-width="1" d="M.0,50.5L515.0,50.5" fill="none"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.0" y="21.3">以页为单位，当某一个块中的一些页在 buffer pool 中被发现时，InnoDB 会将该块中</tspan><tspan style="font-size:10.00pt" x="122.5" y="40.3">的剩余页一并读到 buffer pool 中，目前已废弃</tspan></text></g></g></svg>