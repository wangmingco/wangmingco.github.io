<svg xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="0 0 2255 1597" width="2255" xmlns:xlink="http://www.w3.org/1999/xlink" height="1597"><defs/><g transform="translate(5.5,5.5)" id="page4"><rect width="2245" height="1587" x="0" y="0" fill="#fbfcfb"/><g transform="translate(107.480000,120.000000)" id="shape1"><path stroke="#2e8d5d" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="39.0" y="26.0">put()</tspan></text></g><g transform="translate(72.480000,211.000000)" id="shape2"><path stroke="#2e8d5d" stroke-width="1" d="M170.0,37.0L170.0,7.0C170.0,3.1,166.9,.0,163.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L163.0,44.0C166.9,44.0,170.0,40.9,170.0,37.0z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:10.00pt" x="64.0" y="19.5">c = -1</tspan><tspan style="font-size:7.50pt" x="23.0" y="33.5">putLock.lockInterruptibly()</tspan></text></g><g transform="translate(72.480000,303.000000)" id="shape3"><path stroke="#2e8d5d" stroke-width="1" d="M.0,86.0L170.0,86.0L170.0,20.0L150.0,.0L20.0,.0L.0,20.0L.0,86.0z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="29.5" y="15.0">count.get() == capacity</tspan><tspan style="font-size:7.50pt" x="7.5" y="47.0">如果队列满了, 可能所有的线程都会</tspan><tspan style="font-size:7.50pt" x="7.5" y="63.0">等待在这里, 需要在出列的时候进行</tspan><tspan style="font-size:7.50pt" x="75.0" y="79.0">唤醒</tspan></text></g><g transform="translate(72.480000,437.850000)" id="shape4"><path stroke="#2e8d5d" stroke-width="1" d="M170.0,37.0L170.0,7.0C170.0,3.1,166.9,.0,163.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L163.0,44.0C166.9,44.0,170.0,40.9,170.0,37.0z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="48.0" y="18.0">enqueue(node);</tspan><tspan style="font-size:7.50pt" x="29.5" y="34.0">last = last.next = node;</tspan></text></g><g transform="translate(72.480000,513.000000)" id="shape5"><path stroke="#2e8d5d" stroke-width="1" d="M170.0,37.0L170.0,7.0C170.0,3.1,166.9,.0,163.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L163.0,44.0C166.9,44.0,170.0,40.9,170.0,37.0z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="16.5" y="26.0">c = count.getAndIncrement()</tspan></text></g><g transform="translate(72.480000,586.900000)" id="shape6"><path stroke="#2e8d5d" stroke-width="1" d="M85.0,62.5L170.0,31.3L85.0,.0L.0,31.3L85.0,62.5z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="46.5" y="29.3">if (c + 1 &lt; </tspan><tspan style="font-size:10.00pt" x="53.5" y="44.3">capacity)</tspan></text></g><g transform="translate(72.480000,699.000000)" id="shape7"><path stroke="#2e8d5d" stroke-width="1" d="M170.0,37.0L170.0,7.0C170.0,3.1,166.9,.0,163.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L163.0,44.0C166.9,44.0,170.0,40.9,170.0,37.0z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="46.0" y="26.0">putLock.unlock();</tspan></text></g><g transform="translate(72.480000,781.875000)" id="shape8"><path stroke="#2e8d5d" stroke-width="1" d="M85.0,62.5L170.0,31.3L85.0,.0L.0,31.3L85.0,62.5z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="46.5" y="36.8">if (c == 0)</tspan></text></g><g transform="translate(356.480000,319.362500)" id="shape9"><path stroke="#2e8d5d" stroke-width="1" d="M134.0,46.3L134.0,7.0C134.0,3.1,130.9,.0,127.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,46.3C.0,50.1,3.1,53.3,7.0,53.3L127.0,53.3C130.9,53.3,134.0,50.1,134.0,46.3z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="32.0" y="30.6">notFull.await();</tspan></text></g><g transform="translate(356.480000,578.012500)" id="shape10"><path stroke="#2e8d5d" stroke-width="1" d="M134.0,73.3L134.0,7.0C134.0,3.1,130.9,.0,127.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,73.3C.0,77.1,3.1,80.3,7.0,80.3L127.0,80.3C130.9,80.3,134.0,77.1,134.0,73.3z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="32.0" y="20.1">notFull.signal()</tspan><tspan style="font-size:7.50pt" x="7.0" y="36.1">因为入列出列是俩把锁，当</tspan><tspan style="font-size:7.50pt" x="7.0" y="52.1">有出列操作之后，这里需要</tspan><tspan style="font-size:7.50pt" x="47.0" y="68.1">唤醒一下</tspan></text></g><g transform="translate(334.480000,756.000000)" id="shape11"><path stroke="#2e8d5d" stroke-width="1" d="M194.0,107.3L194.0,7.0C194.0,3.1,190.9,.0,187.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,107.3C.0,111.1,3.1,114.3,7.0,114.3L187.0,114.3C190.9,114.3,194.0,111.1,194.0,107.3z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="61.5" y="13.1">takeLock.lock();</tspan><tspan style="font-size:7.50pt" x="54.5" y="29.1">notEmpty.signal();</tspan><tspan style="font-size:7.50pt" x="55.5" y="45.1">takeLock.unlock();</tspan><tspan style="font-size:7.50pt" x="5.0" y="77.1">入列成功,现在队列至少有一个元素,唤醒一</tspan><tspan style="font-size:7.50pt" x="7.5" y="93.1">个await处的出列等待线程,可以继续出列</tspan><tspan style="font-size:7.50pt" x="91.0" y="109.1">了.</tspan></text></g><g transform="translate(157.480000,164.000000)" id="shape12"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L.0,42.6" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M.0,47.0L3.0,41.8C2.1,42.3,1.1,42.6,.0,42.6C-1.1,42.6,-2.1,42.3,-3.0,41.8L.0,47.0" fill="#2e8d5d"/></g><g transform="translate(157.480000,255.000000)" id="shape13"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L.0,43.6" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M.0,48.0L3.0,42.8C2.1,43.3,1.1,43.6,.0,43.6C-1.1,43.6,-2.1,43.3,-3.0,42.8L.0,48.0" fill="#2e8d5d"/></g><g transform="translate(157.480000,389.000000)" id="shape14"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L.0,43.6" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M.0,48.0L3.0,42.8C2.1,43.3,1.1,43.6,.0,43.6C-1.1,43.6,-2.1,43.3,-3.0,42.8L.0,48.0" fill="#2e8d5d"/><rect width="10.0" height="16.0" x="-4.0" y="12.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-4.0" y="24.5">否</tspan></text></g><g transform="translate(157.480000,481.850000)" id="shape15"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L.0,27.6" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M.0,32.0L3.0,26.8C2.1,27.3,1.1,27.6,.0,27.6C-1.1,27.6,-2.1,27.3,-3.0,26.8L.0,32.0" fill="#2e8d5d"/></g><g transform="translate(157.480000,557.000000)" id="shape16"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L.0,24.6" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M.0,29.0L3.0,23.8C2.1,24.3,1.1,24.6,.0,24.6C-1.1,24.6,-2.1,24.3,-3.0,23.8L.0,29.0" fill="#2e8d5d"/></g><g transform="translate(157.480000,649.400000)" id="shape17"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L.0,44.6" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M.0,49.0L3.0,43.8C2.1,44.3,1.1,44.6,.0,44.6C-1.1,44.6,-2.1,44.3,-3.0,43.8L.0,49.0" fill="#2e8d5d"/><rect width="10.0" height="16.0" x="-4.0" y="14.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-4.0" y="26.0">否</tspan></text></g><g transform="translate(157.480000,743.000000)" id="shape18"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L.0,33.6" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M.0,38.0L3.0,32.8C2.1,33.3,1.1,33.6,.0,33.6C-1.1,33.6,-2.1,33.3,-3.0,32.8L.0,38.0" fill="#2e8d5d"/></g><g transform="translate(157.480000,844.375000)" id="shape19"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L.0,84.0L219.6,84.0" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M224.0,84.0L218.8,81.0C219.3,81.9,219.6,82.9,219.6,84.0C219.6,85.1,219.3,86.1,218.8,87.0L224.0,84.0" fill="#2e8d5d"/><rect width="10.0" height="16.0" x="46.4" y="76.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="46.4" y="88.0">否</tspan></text></g><g transform="translate(242.480000,618.150000)" id="shape20"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L109.6,.0" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M114.0,.0L108.8,-3.0C109.3,-2.1,109.6,-1.1,109.6,.0C109.6,1.1,109.3,2.1,108.8,3.0L114.0,.0" fill="#2e8d5d"/><rect width="10.0" height="16.0" x="55.8" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="55.8" y="4.0">是</tspan></text></g><g transform="translate(242.480000,813.125000)" id="shape21"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L87.6,.0" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M92.0,.0L86.8,-3.0C87.3,-2.1,87.6,-1.1,87.6,.0C87.6,1.1,87.3,2.1,86.8,3.0L92.0,.0" fill="#2e8d5d"/><rect width="10.0" height="16.0" x="36.3" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="36.3" y="4.0">是</tspan></text></g><g transform="translate(381.480000,907.000000)" id="shape22"><path stroke="#2e8d5d" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="20.0" y="26.0">返回入列结果</tspan></text></g><g transform="translate(431.480000,870.250000)" id="shape23"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L.0,32.6" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M.0,37.0L3.0,31.8C2.1,32.3,1.1,32.6,.0,32.6C-1.1,32.6,-2.1,32.3,-3.0,31.8L.0,37.0" fill="#2e8d5d"/></g><g transform="translate(423.480000,578.012000)" id="shape24"><path stroke="#2e8d5d" stroke-width="3.6666700839996338" stroke-dasharray="40.3334,18.3334" d="M.0,.0L.0,-197.6" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M.0,-206.0L-5.7,-196.1C-4.1,-197.0,-2.1,-197.6,.0,-197.6C2.1,-197.6,4.1,-197.0,5.7,-196.1L.0,-206.0" fill="#2e8d5d"/><rect width="128.0" height="16.0" x="-63.0" y="-124.5" fill="#ffffff"/><rect width="112.0" height="16.0" x="-55.0" y="-108.5" fill="#ffffff"/><rect width="60.0" height="16.0" x="-29.0" y="-92.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-63.0" y="-112.5">队列非满, 通知阻塞在await()</tspan><tspan style="font-size:7.50pt" x="-55.0" y="-96.5">处的入列线程尝试获取锁,</tspan><tspan style="font-size:7.50pt" x="-29.0" y="-80.5">继续入列操作</tspan></text></g><g transform="translate(242.480000,346.000000)" id="shape25"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0L109.6,.0" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M114.0,.0L108.8,-3.0C109.3,-2.1,109.6,-1.1,109.6,.0C109.6,1.1,109.3,2.1,108.8,3.0L114.0,.0" fill="#2e8d5d"/><rect width="10.0" height="16.0" x="51.8" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="51.8" y="4.0">是</tspan></text></g><g transform="translate(423.480000,319.363000)" id="shape26"><path stroke="#007faf" stroke-width="3.6666700839996338" stroke-dasharray="7.33334,18.3334" d="M.0,.0C-20.2,-9.7,-40.5,-19.5,-62.6,-24.9C-84.7,-30.3,-108.8,-31.4,-130.9,-28.0C-150.7,-25.0,-168.9,-18.4,-186.9,-11.4" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M-193.5,-8.9L-182.2,-7.1C-183.7,-8.3,-184.9,-10.0,-185.7,-11.9C-186.4,-13.9,-186.6,-15.9,-186.3,-17.8L-193.5,-8.9" fill="#007faf"/><rect width="80.0" height="16.0" x="-132.6" y="-45.6" fill="#ffffff"/><rect width="80.0" height="16.0" x="-132.6" y="-29.6" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-132.6" y="-33.6">一个线程被唤醒后</tspan><tspan style="font-size:7.50pt" x="-132.6" y="-17.6">继续循环判断非满</tspan></text></g><g transform="translate(922.480000,120.000000)" id="shape27"><path stroke="#007faf" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="36.5" y="26.0">take()</tspan></text></g><g transform="translate(887.480000,211.000000)" id="shape28"><path stroke="#007faf" stroke-width="1" d="M170.0,37.0L170.0,7.0C170.0,3.1,166.9,.0,163.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L163.0,44.0C166.9,44.0,170.0,40.9,170.0,37.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:10.00pt" x="64.0" y="19.5">c = -1</tspan><tspan style="font-size:7.50pt" x="19.5" y="33.5">takeLock.lockInterruptibly();</tspan></text></g><g transform="translate(887.480000,303.000000)" id="shape29"><path stroke="#007faf" stroke-width="1" d="M.0,86.0L170.0,86.0L170.0,20.0L150.0,.0L20.0,.0L.0,20.0L.0,86.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="46.5" y="23.0">count.get() == 0</tspan><tspan style="font-size:7.50pt" x="7.5" y="55.0">等队列为空的时候, 可能所有线程都</tspan><tspan style="font-size:7.50pt" x="7.5" y="71.0">会等在这里, 需要入列线程进行唤醒</tspan></text></g><g transform="translate(887.480000,437.850000)" id="shape30"><path stroke="#007faf" stroke-width="1" d="M170.0,37.0L170.0,7.0C170.0,3.1,166.9,.0,163.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L163.0,44.0C166.9,44.0,170.0,40.9,170.0,37.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="60.0" y="26.0">dequeue();</tspan></text></g><g transform="translate(887.480000,513.000000)" id="shape31"><path stroke="#007faf" stroke-width="1" d="M170.0,37.0L170.0,7.0C170.0,3.1,166.9,.0,163.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L163.0,44.0C166.9,44.0,170.0,40.9,170.0,37.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="13.0" y="26.0">c = count.getAndDecrement();</tspan></text></g><g transform="translate(887.480000,586.900000)" id="shape32"><path stroke="#007faf" stroke-width="1" d="M85.0,62.5L170.0,31.3L85.0,.0L.0,31.3L85.0,62.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="50.0" y="36.8">if (c > 1)</tspan></text></g><g transform="translate(887.480000,699.000000)" id="shape33"><path stroke="#007faf" stroke-width="1" d="M170.0,37.0L170.0,7.0C170.0,3.1,166.9,.0,163.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L163.0,44.0C166.9,44.0,170.0,40.9,170.0,37.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="43.5" y="26.0">takeLock.unlock();</tspan></text></g><g transform="translate(887.480000,781.875000)" id="shape34"><path stroke="#007faf" stroke-width="1" d="M85.0,62.5L170.0,31.3L85.0,.0L.0,31.3L85.0,62.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:宋体,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="57.0" y="29.3">if (c == </tspan><tspan style="font-size:10.00pt" x="53.5" y="44.3">capacity)</tspan></text></g><g transform="translate(678.480000,319.362500)" id="shape35"><path stroke="#007faf" stroke-width="1" d="M134.0,46.3L134.0,7.0C134.0,3.1,130.9,.0,127.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,46.3C.0,50.1,3.1,53.3,7.0,53.3L127.0,53.3C130.9,53.3,134.0,50.1,134.0,46.3z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="25.5" y="31.0">notEmpty.await();</tspan></text></g><g transform="translate(678.480000,591.512500)" id="shape36"><path stroke="#007faf" stroke-width="1" d="M134.0,46.3L134.0,7.0C134.0,3.1,130.9,.0,127.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,46.3C.0,50.1,3.1,53.3,7.0,53.3L127.0,53.3C130.9,53.3,134.0,50.1,134.0,46.3z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="25.5" y="30.6">notEmpty.signal()</tspan></text></g><g transform="translate(654.480000,762.000000)" id="shape37"><path stroke="#007faf" stroke-width="1" d="M194.0,95.3L194.0,7.0C194.0,3.1,190.9,.0,187.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,95.3C.0,99.1,3.1,102.3,7.0,102.3L187.0,102.3C190.9,102.3,194.0,99.1,194.0,95.3z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="64.0" y="15.5">putLock.lock();</tspan><tspan style="font-size:7.50pt" x="61.0" y="31.5">notFull.signal();</tspan><tspan style="font-size:7.50pt" x="55.0" y="47.5"> putLock.unlock(); </tspan><tspan style="font-size:7.50pt" x="10.0" y="79.5">出列成功,现在队列非满了,唤醒一个等在</tspan><tspan style="font-size:7.50pt" x="7.5" y="95.5">await处的入列等待线程,可以继续入列了</tspan></text></g><g transform="translate(972.480000,164.000000)" id="shape38"><path stroke="#007faf" stroke-width="1" d="M.0,.0L.0,42.6" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M.0,47.0L3.0,41.8C2.1,42.3,1.1,42.6,.0,42.6C-1.1,42.6,-2.1,42.3,-3.0,41.8L.0,47.0" fill="#007faf"/></g><g transform="translate(972.480000,255.000000)" id="shape39"><path stroke="#007faf" stroke-width="1" d="M.0,.0L.0,43.6" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M.0,48.0L3.0,42.8C2.1,43.3,1.1,43.6,.0,43.6C-1.1,43.6,-2.1,43.3,-3.0,42.8L.0,48.0" fill="#007faf"/></g><g transform="translate(972.480000,389.000000)" id="shape40"><path stroke="#007faf" stroke-width="1" d="M.0,.0L.0,43.6" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M.0,48.0L3.0,42.8C2.1,43.3,1.1,43.6,.0,43.6C-1.1,43.6,-2.1,43.3,-3.0,42.8L.0,48.0" fill="#007faf"/><rect width="10.0" height="16.0" x="-4.0" y="12.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-4.0" y="24.5">否</tspan></text></g><g transform="translate(972.480000,481.850000)" id="shape41"><path stroke="#007faf" stroke-width="1" d="M.0,.0L.0,27.6" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M.0,32.0L3.0,26.8C2.1,27.3,1.1,27.6,.0,27.6C-1.1,27.6,-2.1,27.3,-3.0,26.8L.0,32.0" fill="#007faf"/></g><g transform="translate(972.480000,557.000000)" id="shape42"><path stroke="#007faf" stroke-width="1" d="M.0,.0L.0,24.6" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M.0,29.0L3.0,23.8C2.1,24.3,1.1,24.6,.0,24.6C-1.1,24.6,-2.1,24.3,-3.0,23.8L.0,29.0" fill="#007faf"/></g><g transform="translate(972.480000,649.400000)" id="shape43"><path stroke="#007faf" stroke-width="1" d="M.0,.0L.0,44.6" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M.0,49.0L3.0,43.8C2.1,44.3,1.1,44.6,.0,44.6C-1.1,44.6,-2.1,44.3,-3.0,43.8L.0,49.0" fill="#007faf"/><rect width="10.0" height="16.0" x="-4.0" y="14.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-4.0" y="26.0">否</tspan></text></g><g transform="translate(972.480000,743.000000)" id="shape44"><path stroke="#007faf" stroke-width="1" d="M.0,.0L.0,33.6" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M.0,38.0L3.0,32.8C2.1,33.3,1.1,33.6,.0,33.6C-1.1,33.6,-2.1,33.3,-3.0,32.8L.0,38.0" fill="#007faf"/></g><g transform="translate(972.480000,844.375000)" id="shape45"><path stroke="#007faf" stroke-width="1" d="M.0,.0L.0,84.0L-166.6,84.0" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M-171.0,84.0L-165.8,87.0C-166.3,86.1,-166.6,85.1,-166.6,84.0C-166.6,82.9,-166.3,81.9,-165.8,81.0L-171.0,84.0" fill="#007faf"/><rect width="10.0" height="16.0" x="-31.3" y="76.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-31.3" y="88.0">否</tspan></text></g><g transform="translate(887.480000,618.150000)" id="shape46"><path stroke="#007faf" stroke-width="1" d="M.0,.0L-70.6,.0" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M-75.0,.0L-69.8,3.0C-70.3,2.1,-70.6,1.1,-70.6,.0C-70.6,-1.1,-70.3,-2.1,-69.8,-3.0L-75.0,.0" fill="#007faf"/><rect width="10.0" height="16.0" x="-43.3" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-43.3" y="4.0">是</tspan></text></g><g transform="translate(887.480000,813.125000)" id="shape47"><path stroke="#007faf" stroke-width="1" d="M.0,.0L-34.6,.0" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M-39.0,.0L-33.8,3.0C-34.3,2.1,-34.6,1.1,-34.6,.0C-34.6,-1.1,-34.3,-2.1,-33.8,-3.0L-39.0,.0" fill="#007faf"/><rect width="10.0" height="16.0" x="-21.1" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-21.1" y="4.0">是</tspan></text></g><g transform="translate(701.480000,907.000000)" id="shape48"><path stroke="#007faf" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="20.0" y="26.0">返回入列结果</tspan></text></g><g transform="translate(751.480000,864.250000)" id="shape49"><path stroke="#007faf" stroke-width="1" d="M.0,.0L.0,38.6" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M.0,43.0L3.0,37.8C2.1,38.3,1.1,38.6,.0,38.6C-1.1,38.6,-2.1,38.3,-3.0,37.8L.0,43.0" fill="#007faf"/></g><g transform="translate(745.480000,591.512000)" id="shape50"><path stroke="#007faf" stroke-width="3.6666700839996338" stroke-dasharray="40.3334,18.3334" d="M.0,.0L.0,-210.6" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M.0,-219.0L-5.7,-209.1C-4.1,-210.0,-2.1,-210.6,.0,-210.6C2.1,-210.6,4.1,-210.0,5.7,-209.1L.0,-219.0" fill="#007faf"/><rect width="125.0" height="16.0" x="-61.5" y="-127.9" fill="#ffffff"/><rect width="142.0" height="16.0" x="-70.0" y="-111.9" fill="#ffffff"/><rect width="60.0" height="16.0" x="-29.0" y="-95.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-61.5" y="-115.9">队列非空,通知阻塞在await()</tspan><tspan style="font-size:7.50pt" x="-70.0" y="-99.9">处出列线程可以继续尝试获取锁,</tspan><tspan style="font-size:7.50pt" x="-29.0" y="-83.9">进行出列操作</tspan></text></g><g transform="translate(887.480000,346.000000)" id="shape51"><path stroke="#007faf" stroke-width="1" d="M.0,.0L-70.6,.0" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M-75.0,.0L-69.8,3.0C-70.3,2.1,-70.6,1.1,-70.6,.0C-70.6,-1.1,-70.3,-2.1,-69.8,-3.0L-75.0,.0" fill="#007faf"/><rect width="10.0" height="16.0" x="-40.7" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-40.7" y="4.0">是</tspan></text></g><g transform="translate(745.480000,319.363000)" id="shape52"><path stroke="#2e8d5d" stroke-width="3.6666700839996338" stroke-dasharray="7.33334,18.3334" d="M.0,.0C-1.4,-0.4,-2.7,-0.8,10.5,-7.4C23.8,-13.9,51.6,-26.6,76.5,-26.4C99.0,-26.2,119.1,-15.6,139.0,-3.9" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M145.6,.0L140.0,-10.0C140.0,-8.1,139.5,-6.1,138.4,-4.3C137.3,-2.5,135.9,-1.1,134.1,-0.1L145.6,.0" fill="#2e8d5d"/><rect width="80.0" height="16.0" x="31.5" y="-42.2" fill="#ffffff"/><rect width="82.0" height="16.0" x="30.5" y="-26.2" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="31.5" y="-30.2">一个线程被唤醒后</tspan><tspan style="font-size:7.50pt" x="30.5" y="-14.2">继续循环,判断非空</tspan></text></g><g transform="translate(654.480000,813.743000)" id="shape53"><path stroke="#007faf" stroke-width="3.6666700839996338" stroke-dasharray="7.33334,18.3334" d="M.0,.0C-20.2,-20.2,-40.5,-40.3,-55.5,-112.7C-70.5,-185.2,-80.3,-309.9,-97.5,-377.7C-113.2,-439.8,-135.1,-454.3,-157.6,-464.8" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M-164.0,-467.7L-157.3,-458.4C-157.5,-460.3,-157.2,-462.4,-156.3,-464.3C-155.5,-466.2,-154.2,-467.7,-152.6,-468.9L-164.0,-467.7" fill="#007faf"/><rect width="20.0" height="16.0" x="-72.5" y="-166.7" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-72.5" y="-154.7">唤醒</tspan></text></g><g transform="translate(528.480000,813.125000)" id="shape54"><path stroke="#2e8d5d" stroke-width="3.6666700839996338" stroke-dasharray="7.33334,18.3334" d="M.0,.0C22.7,-18.3,45.5,-36.6,56.5,-103.1C67.6,-169.7,66.9,-284.4,80.5,-353.1C93.1,-416.7,118.0,-440.9,143.8,-462.1" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M150.0,-467.1L138.7,-465.3C140.5,-464.6,142.2,-463.4,143.5,-461.8C144.8,-460.2,145.6,-458.3,145.9,-456.4L150.0,-467.1" fill="#2e8d5d"/><rect width="20.0" height="16.0" x="53.9" y="-167.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="53.9" y="-155.0">唤醒</tspan></text></g><g transform="translate(641.000000,37.000000)" id="shape55"><path stroke="#323232" stroke-width="1" d="M.0,22.0C.0,9.8,22.4,.0,50.0,.0C77.6,.0,100.0,9.8,100.0,22.0C100.0,34.2,77.6,44.0,50.0,44.0C22.4,44.0,.0,34.2,.0,22.0z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="24.0" y="26.5">takeLock</tspan></text></g><g transform="translate(624.000000,126.000000)" id="shape56"><path stroke="#323232" stroke-width="1" d="M.0,.0L134.0,.0L134.0,38.0L.0,38.0L.0,.0z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="9.5" y="23.5">Condition notEmpty</tspan></text></g><g transform="translate(691.000000,81.000000)" id="shape57"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,40.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,45.0L3.0,39.8C2.1,40.3,1.1,40.6,.0,40.6C-1.1,40.6,-2.1,40.3,-3.0,39.8L.0,45.0" fill="#323232"/><rect width="151.0" height="19.0" x="-74.5" y="12.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-74.5" y="27.9">takeLock.newCondition()</tspan></text></g><g transform="translate(328.000000,37.000000)" id="shape58"><path stroke="#323232" stroke-width="1" d="M.0,22.0C.0,9.8,22.4,.0,50.0,.0C77.6,.0,100.0,9.8,100.0,22.0C100.0,34.2,77.6,44.0,50.0,44.0C22.4,44.0,.0,34.2,.0,22.0z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="27.0" y="26.5">putLock</tspan></text></g><g transform="translate(311.000000,126.000000)" id="shape59"><path stroke="#323232" stroke-width="1" d="M.0,.0L134.0,.0L134.0,38.0L.0,38.0L.0,.0z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="18.0" y="23.5">Condition notFull</tspan></text></g><g transform="translate(378.000000,81.000000)" id="shape60"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,40.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,45.0L3.0,39.8C2.1,40.3,1.1,40.6,.0,40.6C-1.1,40.6,-2.1,40.3,-3.0,39.8L.0,45.0" fill="#323232"/><rect width="146.0" height="19.0" x="-72.0" y="12.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-72.0" y="27.9">putLock.newCondition()</tspan></text></g><g transform="translate(1776.000000,450.000000)" id="shape61"><path stroke="#323232" stroke-width="1" d="M432.0,350.0L432.0,.0L.0,.0L.0,350.0L432.0,350.0z" stroke-dasharray="2,5" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.5" y="19.0">继续取出1个元素</tspan></text></g><g transform="translate(1990.380000,510.375000)" id="shape62"><path stroke="#323232" stroke-width="1" d="M.0,22.5C.0,10.1,22.4,.0,50.0,.0C77.6,.0,100.0,10.1,100.0,22.5C100.0,34.9,77.6,45.0,50.0,45.0C22.4,45.0,.0,34.9,.0,22.5z" fill-rule="nonzero" fill="#edf6ea"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.0" y="28.0">head</tspan></text></g><g transform="translate(1990.380000,732.375000)" id="shape63"><path stroke="#323232" stroke-width="1" d="M.0,24.5C.0,11.0,22.4,.0,50.0,.0C77.6,.0,100.0,11.0,100.0,24.5C100.0,38.0,77.6,49.0,50.0,49.0C22.4,49.0,.0,38.0,.0,24.5z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="40.0" y="29.0">last</tspan></text></g><g transform="translate(2040.380000,555.375000)" id="shape64"><path stroke="#e54648" stroke-width="3.6666700839996338" d="M.0,.0L.0,21.1L1.3,21.1L1.3,39.8" fill="none"/><path stroke="#e54648" stroke-width="1" stroke-linecap="round" d="M1.3,48.3L7.0,38.3C5.3,39.3,3.3,39.8,1.3,39.8C-0.8,39.8,-2.8,39.3,-4.5,38.3L1.3,48.3" fill="#e54648"/></g><g transform="translate(2040.380000,732.375000)" id="shape65"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,-11.5L1.3,-11.5L1.3,-37.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M1.3,-42.0L-1.8,-36.8C-0.9,-37.3,.2,-37.6,1.3,-37.6C2.3,-37.6,3.4,-37.3,4.3,-36.8L1.3,-42.0" fill="#323232"/></g><g transform="translate(1978.880000,603.630000)" id="shape66"><path stroke="#323232" stroke-width="1" d="M125.5,86.8L125.5,.0L.0,.0L.0,86.8L125.5,86.8z" fill-rule="nonzero" fill="#fedad0"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="19.0">Node</tspan></text></g><g transform="translate(1992.380000,630.375000)" id="shape67"><path stroke="#323232" stroke-width="1" d="M62.0,14.5L62.0,7.0C62.0,3.1,58.9,.0,55.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,14.5C.0,18.4,3.1,21.5,7.0,21.5L55.0,21.5C58.9,21.5,62.0,18.4,62.0,14.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.0" y="16.3">E item</tspan></text></g><g transform="translate(1990.380000,656.125000)" id="shape68"><path stroke="#323232" stroke-width="1" d="M107.0,15.5L107.0,7.0C107.0,3.1,103.9,.0,100.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,15.5C.0,19.4,3.1,22.5,7.0,22.5L100.0,22.5C103.9,22.5,107.0,19.4,107.0,15.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="16.8">Node&lt;E> next</tspan></text></g><g transform="translate(2132.380000,647.375000)" id="shape69"><path stroke="#323232" stroke-width="1" d="M.0,20.0C.0,9.0,9.0,.0,20.0,.0C31.0,.0,40.0,9.0,40.0,20.0C40.0,31.0,31.0,40.0,20.0,40.0C9.0,40.0,.0,31.0,.0,20.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="25.5">Null</tspan></text></g><g transform="translate(2097.380000,667.375000)" id="shape70"><path stroke="#323232" stroke-width="1" d="M.0,.0L30.6,.0" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M35.0,.0L29.8,-3.0C30.3,-2.1,30.6,-1.1,30.6,.0C30.6,1.1,30.3,2.1,29.8,3.0L35.0,.0" fill="#323232"/></g><g transform="translate(1794.998000,568.445600)" id="shape71"><path stroke="#088fa3" stroke-width="1" d="M14.9,.0L14.9,.0L14.9,.0L134.7,.0C142.9,.0,149.6,6.7,149.6,14.9L149.6,14.9L149.6,14.9L149.6,84.5C149.6,92.7,142.9,99.4,134.7,99.4L107.0,124.3L109.8,99.4L14.9,99.4C6.7,99.4,.0,92.7,.0,84.5L.0,14.9L.0,14.9L.0,14.9C.0,6.7,6.7,.0,14.9,.0z" fill-rule="nonzero" fill="#088fa3"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="8.3" y="36.2">此时count值为0，无</tspan><tspan style="font-size:10.00pt" x="8.3" y="55.2">法继续出列只能返回空</tspan><tspan style="font-size:10.00pt" x="8.3" y="74.2">或者等待入列操作了</tspan></text></g><g transform="translate(1057.480000,535.000000)" id="shape72"><path stroke="#323232" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0C23.1,14.2,46.3,28.4,56.5,67.0C66.8,105.6,64.1,168.7,52.5,208.0C41.5,245.5,22.3,261.2,2.8,276.0" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,278.1L6.0,277.4C5.0,277.0,4.2,276.4,3.5,275.5C2.8,274.6,2.5,273.6,2.3,272.6L.0,278.1" fill="#323232"/><rect width="52.0" height="19.0" x="37.6" y="102.0" fill="#ffffff"/><rect width="78.0" height="19.0" x="24.6" y="121.0" fill="#ffffff"/><rect width="104.0" height="19.0" x="11.6" y="140.0" fill="#ffffff"/><rect width="78.0" height="19.0" x="24.6" y="159.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="37.6" y="117.0">当先数量</tspan><tspan style="font-size:10.00pt" x="24.6" y="136.0">先获取再减一</tspan><tspan style="font-size:10.00pt" x="11.6" y="155.0">此时数量如果等于</tspan><tspan style="font-size:10.00pt" x="24.6" y="174.0">容量，则说明</tspan></text></g><g transform="translate(72.480000,535.000000)" id="shape73"><path stroke="#323232" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0C-10.7,29.1,-21.4,58.1,-26.7,90.0C-32.1,121.8,-32.1,156.3,-26.7,188.2C-21.5,219.0,-11.3,247.3,-0.9,275.5" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,278.1L1.0,272.2C.4,273.0,-0.5,273.6,-1.5,274.0C-2.5,274.4,-3.6,274.5,-4.6,274.3L.0,278.1" fill="#323232"/></g><g transform="translate(423.480000,319.363000)" id="shape74"><path stroke="#2e8d5d" stroke-width="1" d="M.0,.0C.1,-17.3,.3,-34.7,-11.7,-49.1C-23.7,-63.5,-47.8,-75.0,-78.0,-80.8C-107.5,-86.3,-142.7,-86.4,-178.1,-86.4" fill="none"/><path stroke="#2e8d5d" stroke-width="1" stroke-linecap="round" d="M-181.0,-86.4L-175.8,-83.4C-176.3,-84.3,-176.6,-85.3,-176.6,-86.4C-176.6,-87.5,-176.3,-88.5,-175.8,-89.4L-181.0,-86.4" fill="#2e8d5d"/><rect width="97.0" height="16.0" x="-126.7" y="-97.0" fill="#ffffff"/><rect width="85.0" height="16.0" x="-120.7" y="-81.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#e54648;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-126.7" y="-85.0">当前线程阻塞, 释放锁,</tspan><tspan style="font-size:7.50pt" x="-120.7" y="-69.0">让其他线程获得锁, </tspan></text></g><g transform="translate(1708.000000,58.000000)" id="group75"><g id="shape76"><path stroke="#323232" stroke-width="1" d="M500.0,350.0L500.0,.0L.0,.0L.0,350.0L500.0,350.0z" stroke-dasharray="2,5" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="211.0" y="19.0">插入一个元素</tspan></text></g><g transform="translate(51.750000,62.995000)" id="shape77"><path stroke="#323232" stroke-width="1" d="M.0,22.5C.0,10.1,22.4,.0,50.0,.0C77.6,.0,100.0,10.1,100.0,22.5C100.0,34.9,77.6,45.0,50.0,45.0C22.4,45.0,.0,34.9,.0,22.5z" fill-rule="nonzero" fill="#edf6ea"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.0" y="28.0">head</tspan></text></g><g transform="translate(244.500000,282.000000)" id="shape78"><path stroke="#323232" stroke-width="1" d="M.0,24.5C.0,11.0,22.4,.0,50.0,.0C77.6,.0,100.0,11.0,100.0,24.5C100.0,38.0,77.6,49.0,50.0,49.0C22.4,49.0,.0,38.0,.0,24.5z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="40.0" y="29.0">last</tspan></text></g><g transform="translate(101.750000,107.995000)" id="shape79"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,21.1L.3,21.1L.3,37.9" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.3,42.3L3.3,37.1C2.4,37.6,1.3,37.9,.3,37.9C-0.8,37.9,-1.9,37.6,-2.7,37.1L.3,42.3" fill="#323232"/></g><g transform="translate(294.500000,282.000000)" id="shape80"><path stroke="#e54648" stroke-width="3.6666700839996338" d="M.0,.0L.0,-11.5L1.3,-11.5L1.3,-33.6" fill="none"/><path stroke="#e54648" stroke-width="1" stroke-linecap="round" d="M1.3,-42.0L-4.5,-32.0C-2.8,-33.0,-0.8,-33.6,1.3,-33.6C3.3,-33.6,5.3,-33.0,7.0,-32.0L1.3,-42.0" fill="#e54648"/><rect width="8.0" height="19.0" x="-1.8" y="-25.4" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-1.8" y="-10.4">2</tspan></text></g><g transform="translate(39.250000,150.250000)" id="shape81"><path stroke="#323232" stroke-width="1" d="M125.5,86.8L125.5,.0L.0,.0L.0,86.8L125.5,86.8z" fill-rule="nonzero" fill="#ffdcac"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="19.0">Node</tspan></text></g><g transform="translate(52.750000,176.995000)" id="shape82"><path stroke="#323232" stroke-width="1" d="M62.0,14.5L62.0,7.0C62.0,3.1,58.9,.0,55.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,14.5C.0,18.4,3.1,21.5,7.0,21.5L55.0,21.5C58.9,21.5,62.0,18.4,62.0,14.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.0" y="16.3">E item</tspan></text></g><g transform="translate(50.750000,202.745000)" id="shape83"><path stroke="#323232" stroke-width="1" d="M107.0,15.5L107.0,7.0C107.0,3.1,103.9,.0,100.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,15.5C.0,19.4,3.1,22.5,7.0,22.5L100.0,22.5C103.9,22.5,107.0,19.4,107.0,15.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="16.8">Node&lt;E> next</tspan></text></g><g transform="translate(233.000000,153.255000)" id="shape84"><path stroke="#323232" stroke-width="1" d="M125.5,86.8L125.5,.0L.0,.0L.0,86.8L125.5,86.8z" fill-rule="nonzero" fill="#fedad0"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="19.0">Node</tspan></text></g><g transform="translate(246.500000,180.000000)" id="shape85"><path stroke="#323232" stroke-width="1" d="M62.0,14.5L62.0,7.0C62.0,3.1,58.9,.0,55.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,14.5C.0,18.4,3.1,21.5,7.0,21.5L55.0,21.5C58.9,21.5,62.0,18.4,62.0,14.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.0" y="16.3">E item</tspan></text></g><g transform="translate(244.500000,205.750000)" id="shape86"><path stroke="#323232" stroke-width="1" d="M107.0,15.5L107.0,7.0C107.0,3.1,103.9,.0,100.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,15.5C.0,19.4,3.1,22.5,7.0,22.5L100.0,22.5C103.9,22.5,107.0,19.4,107.0,15.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="16.8">Node&lt;E> next</tspan></text></g><g transform="translate(386.500000,197.000000)" id="shape87"><path stroke="#323232" stroke-width="1" d="M.0,20.0C.0,9.0,9.0,.0,20.0,.0C31.0,.0,40.0,9.0,40.0,20.0C40.0,31.0,31.0,40.0,20.0,40.0C9.0,40.0,.0,31.0,.0,20.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="25.5">Null</tspan></text></g><g transform="translate(351.500000,217.000000)" id="shape88"><path stroke="#323232" stroke-width="1" d="M.0,.0L30.6,.0" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M35.0,.0L29.8,-3.0C30.3,-2.1,30.6,-1.1,30.6,.0C30.6,1.1,30.3,2.1,29.8,3.0L35.0,.0" fill="#323232"/></g><g transform="translate(157.750000,213.995000)" id="shape89"><path stroke="#e54648" stroke-width="3.6666700839996338" d="M.0,.0C9.2,-0.3,18.5,-0.6,26.4,-3.3C34.3,-6.1,40.9,-11.3,48.8,-14.0C54.8,-16.1,61.5,-16.8,68.5,-17.1" fill="none"/><path stroke="#e54648" stroke-width="1" stroke-linecap="round" d="M75.3,-17.4L65.1,-22.7C66.1,-21.1,66.8,-19.2,66.8,-17.1C66.9,-15.0,66.4,-13.0,65.5,-11.3L75.3,-17.4" fill="#e54648"/><rect width="8.0" height="19.0" x="44.3" y="-23.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="44.3" y="-8.0">1</tspan></text></g><g transform="translate(169.000000,29.000000)" id="shape90"><path stroke="#088fa3" stroke-width="1" d="M14.9,.0L14.9,.0L14.9,.0L306.1,.0C314.3,.0,321.0,6.7,321.0,14.9L321.0,14.9L321.0,14.9L321.0,84.5C321.0,92.7,314.3,99.4,306.1,99.4L39.8,99.4L106.0,124.3L14.9,99.4C6.7,99.4,.0,92.7,.0,84.5L.0,14.9L.0,14.9L.0,14.9C.0,6.7,6.7,.0,14.9,.0z" fill-rule="nonzero" fill="#088fa3"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="8.0" y="17.2">1. 将新Node连接到last.next指针(此时last,head指向</tspan><tspan style="font-size:10.00pt" x="8.0" y="36.2">原始node)</tspan><tspan style="font-size:10.00pt" x="8.0" y="55.2">2. 将last指针指向新Node</tspan><tspan style="font-size:10.00pt" x="8.0" y="74.2">这个更新操作在putLock临界区中，只此时只保护last</tspan><tspan style="font-size:10.00pt" x="8.0" y="93.2">指针更新，head不会发生数据安全问题</tspan></text></g></g><g transform="translate(1398.000000,58.000000)" id="group91"><g id="shape92"><path stroke="#323232" stroke-width="1" d="M226.0,350.0L226.0,.0L.0,.0L.0,350.0L226.0,350.0z" stroke-dasharray="2,5" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="93.5" y="19.0">初始化</tspan></text></g><g transform="translate(38.000000,66.000000)" id="shape93"><path stroke="#323232" stroke-width="1" d="M.0,22.5C.0,10.1,22.4,.0,50.0,.0C77.6,.0,100.0,10.1,100.0,22.5C100.0,34.9,77.6,45.0,50.0,45.0C22.4,45.0,.0,34.9,.0,22.5z" fill-rule="nonzero" fill="#edf6ea"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.0" y="28.0">head</tspan></text></g><g transform="translate(38.000000,263.000000)" id="shape94"><path stroke="#323232" stroke-width="1" d="M.0,24.5C.0,11.0,22.4,.0,50.0,.0C77.6,.0,100.0,11.0,100.0,24.5C100.0,38.0,77.6,49.0,50.0,49.0C22.4,49.0,.0,38.0,.0,24.5z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="40.0" y="29.0">last</tspan></text></g><g transform="translate(25.500000,153.250000)" id="shape95"><path stroke="#323232" stroke-width="1" d="M125.5,86.8L125.5,.0L.0,.0L.0,86.8L125.5,86.8z" fill-rule="nonzero" fill="#ffdcac"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="19.0">Node</tspan></text></g><g transform="translate(88.000000,111.000000)" id="shape96"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,36.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,41.0L3.0,35.8C2.1,36.3,1.1,36.6,.0,36.6C-1.1,36.6,-2.1,36.3,-3.0,35.8L.0,41.0" fill="#323232"/></g><g transform="translate(88.000000,263.000000)" id="shape97"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,-17.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,-22.0L-3.0,-16.8C-2.1,-17.3,-1.1,-17.6,.0,-17.6C1.1,-17.6,2.1,-17.3,3.0,-16.8L.0,-22.0" fill="#323232"/></g><g transform="translate(39.000000,180.000000)" id="shape98"><path stroke="#323232" stroke-width="1" d="M62.0,14.5L62.0,7.0C62.0,3.1,58.9,.0,55.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,14.5C.0,18.4,3.1,21.5,7.0,21.5L55.0,21.5C58.9,21.5,62.0,18.4,62.0,14.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.0" y="16.3">E item</tspan></text></g><g transform="translate(37.000000,205.750000)" id="shape99"><path stroke="#323232" stroke-width="1" d="M107.0,15.5L107.0,7.0C107.0,3.1,103.9,.0,100.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,15.5C.0,19.4,3.1,22.5,7.0,22.5L100.0,22.5C103.9,22.5,107.0,19.4,107.0,15.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="16.8">Node&lt;E> next</tspan></text></g><g transform="translate(144.000000,217.000000)" id="shape100"><path stroke="#323232" stroke-width="1" d="M.0,.0L28.6,.0" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M33.0,.0L27.8,-3.0C28.3,-2.1,28.6,-1.1,28.6,.0C28.6,1.1,28.3,2.1,27.8,3.0L33.0,.0" fill="#323232"/></g><g transform="translate(177.000000,197.000000)" id="shape101"><path stroke="#323232" stroke-width="1" d="M.0,20.0C.0,9.0,9.0,.0,20.0,.0C31.0,.0,40.0,9.0,40.0,20.0C40.0,31.0,31.0,40.0,20.0,40.0C9.0,40.0,.0,31.0,.0,20.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="25.5">Null</tspan></text></g></g><g transform="translate(1251.500000,450.000000)" id="group102"><g id="shape103"><path stroke="#323232" stroke-width="1" d="M519.0,350.0L519.0,.0L.0,.0L.0,350.0L519.0,350.0z" stroke-dasharray="2,5" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="223.0" y="19.0">取出1个元素</tspan></text></g><g transform="translate(317.625000,60.375000)" id="shape104"><path stroke="#323232" stroke-width="1" d="M.0,22.5C.0,10.1,22.4,.0,50.0,.0C77.6,.0,100.0,10.1,100.0,22.5C100.0,34.9,77.6,45.0,50.0,45.0C22.4,45.0,.0,34.9,.0,22.5z" fill-rule="nonzero" fill="#edf6ea"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.0" y="28.0">head</tspan></text></g><g transform="translate(317.625000,282.375000)" id="shape105"><path stroke="#323232" stroke-width="1" d="M.0,24.5C.0,11.0,22.4,.0,50.0,.0C77.6,.0,100.0,11.0,100.0,24.5C100.0,38.0,77.6,49.0,50.0,49.0C22.4,49.0,.0,38.0,.0,24.5z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="40.0" y="29.0">last</tspan></text></g><g transform="translate(367.625000,105.375000)" id="shape106"><path stroke="#e54648" stroke-width="3.6666700839996338" d="M.0,.0L.0,21.1L1.3,21.1L1.3,39.8" fill="none"/><path stroke="#e54648" stroke-width="1" stroke-linecap="round" d="M1.3,48.3L7.0,38.3C5.3,39.3,3.3,39.8,1.3,39.8C-0.8,39.8,-2.8,39.3,-4.5,38.3L1.3,48.3" fill="#e54648"/><rect width="8.0" height="19.0" x="-3.0" y="6.1" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-3.0" y="21.1">1</tspan></text></g><g transform="translate(367.625000,282.375000)" id="shape107"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,-11.5L1.3,-11.5L1.3,-37.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M1.3,-42.0L-1.8,-36.8C-0.9,-37.3,.2,-37.6,1.3,-37.6C2.3,-37.6,3.4,-37.3,4.3,-36.8L1.3,-42.0" fill="#323232"/></g><g transform="translate(100.875000,150.250000)" id="shape108"><path stroke="#323232" stroke-width="1" d="M125.5,86.8L125.5,.0L.0,.0L.0,86.8L125.5,86.8z" fill-rule="nonzero" fill="#ffdcac"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="19.0">Node</tspan></text></g><g transform="translate(114.375000,176.995000)" id="shape109"><path stroke="#323232" stroke-width="1" d="M62.0,14.5L62.0,7.0C62.0,3.1,58.9,.0,55.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,14.5C.0,18.4,3.1,21.5,7.0,21.5L55.0,21.5C58.9,21.5,62.0,18.4,62.0,14.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.0" y="16.3">E item</tspan></text></g><g transform="translate(112.375000,202.745000)" id="shape110"><path stroke="#323232" stroke-width="1" d="M107.0,15.5L107.0,7.0C107.0,3.1,103.9,.0,100.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,15.5C.0,19.4,3.1,22.5,7.0,22.5L100.0,22.5C103.9,22.5,107.0,19.4,107.0,15.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="16.8">Node&lt;E> next</tspan></text></g><g transform="translate(306.125000,153.630000)" id="shape111"><path stroke="#323232" stroke-width="1" d="M125.5,86.8L125.5,.0L.0,.0L.0,86.8L125.5,86.8z" fill-rule="nonzero" fill="#fedad0"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="19.0">Node</tspan></text></g><g transform="translate(319.625000,180.375000)" id="shape112"><path stroke="#323232" stroke-width="1" d="M62.0,14.5L62.0,7.0C62.0,3.1,58.9,.0,55.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,14.5C.0,18.4,3.1,21.5,7.0,21.5L55.0,21.5C58.9,21.5,62.0,18.4,62.0,14.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.0" y="16.3">E item</tspan></text></g><g transform="translate(317.625000,206.125000)" id="shape113"><path stroke="#323232" stroke-width="1" d="M107.0,15.5L107.0,7.0C107.0,3.1,103.9,.0,100.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,15.5C.0,19.4,3.1,22.5,7.0,22.5L100.0,22.5C103.9,22.5,107.0,19.4,107.0,15.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="16.8">Node&lt;E> next</tspan></text></g><g transform="translate(459.625000,197.375000)" id="shape114"><path stroke="#323232" stroke-width="1" d="M.0,20.0C.0,9.0,9.0,.0,20.0,.0C31.0,.0,40.0,9.0,40.0,20.0C40.0,31.0,31.0,40.0,20.0,40.0C9.0,40.0,.0,31.0,.0,20.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="25.5">Null</tspan></text></g><g transform="translate(424.625000,217.375000)" id="shape115"><path stroke="#323232" stroke-width="1" d="M.0,.0L30.6,.0" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M35.0,.0L29.8,-3.0C30.3,-2.1,30.6,-1.1,30.6,.0C30.6,1.1,30.3,2.1,29.8,3.0L35.0,.0" fill="#323232"/></g><g transform="translate(219.375000,213.995000)" id="shape116"><path stroke="#e54648" stroke-width="3.6666700839996338" d="M.0,.0C15.3,3.0,30.7,6.1,34.6,16.0C38.6,25.9,31.2,42.7,15.6,45.0C1.5,47.1,-19.3,37.3,-40.7,26.5" fill="none"/><path stroke="#e54648" stroke-width="1" stroke-linecap="round" d="M-47.5,23.0L-41.2,32.6C-41.3,30.7,-40.9,28.7,-40.0,26.8C-39.0,25.0,-37.6,23.5,-36.0,22.4L-47.5,23.0" fill="#e54648"/><rect width="8.0" height="19.0" x="-1.8" y="34.4" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-1.8" y="49.4">2</tspan></text></g><g transform="translate(13.412000,25.995000)" id="shape117"><path stroke="#088fa3" stroke-width="1" d="M14.9,.0L14.9,.0L14.9,.0L272.7,.0C280.9,.0,287.6,6.7,287.6,14.9L287.6,14.9L287.6,14.9L287.6,84.5C287.6,92.7,280.9,99.4,272.7,99.4L39.8,99.4L107.0,124.3L14.9,99.4C6.7,99.4,.0,92.7,.0,84.5L.0,14.9L.0,14.9L.0,14.9C.0,6.7,6.7,.0,14.9,.0z" fill-rule="nonzero" fill="#088fa3"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="8.3" y="17.2">将head指针指向第二个元素，然后将第一个元</tspan><tspan style="font-size:10.00pt" x="8.3" y="36.2">素的next指向自身，最后返回第二个元素的</tspan><tspan style="font-size:10.00pt" x="8.3" y="55.2">item值之后将其置空，这样就完成了出列操</tspan><tspan style="font-size:10.00pt" x="8.3" y="74.2">作。</tspan><tspan style="font-size:10.00pt" x="8.3" y="93.2">此时就到了初始状态，首尾相同，next为空</tspan></text></g></g><g transform="translate(745.480000,319.363000)" id="shape118"><path stroke="#007faf" stroke-width="1" d="M.0,.0C.4,-15.8,.8,-31.6,9.2,-49.1C17.6,-66.6,34.1,-85.9,57.5,-92.4C80.2,-98.6,109.4,-93.0,138.9,-87.0" fill="none"/><path stroke="#007faf" stroke-width="1" stroke-linecap="round" d="M142.0,-86.4L137.5,-90.3C137.8,-89.4,137.9,-88.3,137.7,-87.2C137.5,-86.2,137.0,-85.2,136.3,-84.5L142.0,-86.4" fill="#007faf"/><rect width="97.0" height="16.0" x="-24.3" y="-86.2" fill="#ffffff"/><rect width="92.0" height="16.0" x="-21.8" y="-70.2" fill="#ffffff"/><text xml:space="preserve" style="fill:#e54648;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-24.3" y="-74.2">当前线程阻塞,释放锁, </tspan><tspan style="font-size:7.50pt" x="-21.8" y="-58.2">让其他出列线程进入,</tspan></text></g><g transform="translate(479.980000,167.000000)" id="group119"><path stroke="#868686" stroke-width="1" d="M127.0,128.6L100.2,110.9L85.4,132.0L72.6,113.2L44.4,129.0L45.8,106.8L16.8,113.2L29.9,88.0L.0,77.1L24.5,66.9L6.3,50.8L36.3,42.4L30.3,19.7L58.0,29.0L63.0,.0L88.0,25.9L116.1,3.4L122.0,30.5L144.2,22.2L133.8,47.4L164.6,53.0L141.0,65.4L170.0,79.7L136.9,86.1L151.9,108.3L122.5,104.9L127.0,128.6z" fill-rule="nonzero" fill="#ffff00" id="shape120"/><g transform="translate(32.454500,38.866700)" id="shape121"><text xml:space="preserve" style="fill:#e54648;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt;font-weight:bold"><tspan style="font-size:9.00pt" x="9.0" y="19.4">此时多个入列或</tspan><tspan style="font-size:9.00pt" x="9.0" y="36.4">者多个出列线程</tspan><tspan style="font-size:9.00pt" x="9.0" y="53.4">都会阻塞再这里</tspan></text></g></g><g transform="translate(482.000000,246.000000)" id="shape122"><path stroke="#e54648" stroke-width="1" stroke-dasharray="6,4" d="M.0,.0C-5.0,-0.1,-10.0,-0.1,-14.2,4.8C-18.3,9.6,-21.7,19.4,-23.3,31.6C-24.8,43.0,-24.9,56.6,-24.9,70.2" fill="none"/><path stroke="#e54648" stroke-width="1" stroke-linecap="round" d="M-24.9,73.4L-21.9,68.2C-22.8,68.7,-23.8,69.0,-24.9,69.0C-26.0,69.0,-27.0,68.7,-27.9,68.2L-24.9,73.4" fill="#e54648"/></g><g transform="translate(652.000000,246.000000)" id="shape123"><path stroke="#e54648" stroke-width="1" stroke-dasharray="6,4" d="M.0,.0C9.1,-0.1,18.1,-0.1,25.7,4.8C33.2,9.6,39.2,19.4,42.2,31.6C44.9,42.9,45.1,56.2,45.1,69.8" fill="none"/><path stroke="#e54648" stroke-width="1" stroke-linecap="round" d="M45.1,73.4L48.1,68.2C47.2,68.7,46.2,69.0,45.1,69.0C44.0,69.0,43.0,68.7,42.1,68.2L45.1,73.4" fill="#e54648"/></g><g transform="translate(779.000000,520.000500)" id="shape124"><path stroke="#e54648" stroke-width="5.6666698455810547" d="M7.0,.0L83.0,.0C86.9,.0,90.0,3.1,90.0,7.0L90.0,55.3C90.0,59.1,86.9,62.3,83.0,62.3L7.0,62.3C3.1,62.3,.0,59.1,.0,55.3L.0,7.0C.0,3.1,3.1,.0,7.0,.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#000000;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="6.0" y="17.6">通过这种循环</tspan><tspan style="font-size:10.00pt" x="6.0" y="36.6">的方式，唤醒</tspan><tspan style="font-size:10.00pt" x="6.0" y="55.6">所有出列线程</tspan></text></g><g transform="translate(276.000000,503.862500)" id="shape125"><path stroke="#e54648" stroke-width="5.6666698455810547" d="M7.0,.0L83.0,.0C86.9,.0,90.0,3.1,90.0,7.0L90.0,55.3C90.0,59.1,86.9,62.3,83.0,62.3L7.0,62.3C3.1,62.3,.0,59.1,.0,55.3L.0,7.0C.0,3.1,3.1,.0,7.0,.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#000000;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="6.0" y="17.6">通过这种循环</tspan><tspan style="font-size:10.00pt" x="6.0" y="36.6">的方式，唤醒</tspan><tspan style="font-size:10.00pt" x="6.0" y="55.6">所有入列线程</tspan></text></g></g></svg>