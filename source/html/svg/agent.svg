<svg xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="0 0 2255 1597" width="2255" xmlns:xlink="http://www.w3.org/1999/xlink" height="1597"><defs/><g transform="translate(5.5,5.5)" id="page1"><rect width="2245" height="1587" x="0" y="0" fill="none"/><g transform="translate(42.000000,138.500000)" id="shape1"><path stroke="#191919" stroke-width="1" d="M152.0,288.0L152.0,7.0C152.0,3.1,148.9,.0,145.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,288.0C.0,291.9,3.1,295.0,7.0,295.0L145.0,295.0C148.9,295.0,152.0,291.9,152.0,288.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.0" y="124.5">系统启动时通过agent</tspan><tspan style="font-size:10.00pt" x="13.5" y="162.5">调用Instrumentation</tspan><tspan style="font-size:10.00pt" x="19.0" y="181.5">#addTransformer()</tspan></text></g><g transform="translate(398.667000,138.500000)" id="shape2"><path stroke="#191919" stroke-width="1" d="M286.3,53.0L286.3,7.0C286.3,3.1,283.2,.0,279.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L279.3,60.0C283.2,60.0,286.3,56.9,286.3,53.0z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.00pt" x="113.2" y="25.0">进行类加载</tspan><tspan style="font-size:10.00pt" x="51.2" y="44.0">Class.forName("SimpleClass");</tspan></text></g><g transform="translate(398.667000,255.500000)" id="shape3"><path stroke="#191919" stroke-width="1" d="M286.3,53.0L286.3,7.0C286.3,3.1,283.2,.0,279.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L279.3,60.0C283.2,60.0,286.3,56.9,286.3,53.0z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.00pt" x="119.2" y="25.0">重定义类</tspan><tspan style="font-size:10.00pt" x="8.2" y="44.0">redefineClasses(ClassDefinition... definitions)</tspan></text></g><g transform="translate(398.667000,365.350000)" id="shape4"><path stroke="#191919" stroke-width="1" d="M286.3,53.0L286.3,7.0C286.3,3.1,283.2,.0,279.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L279.3,60.0C283.2,60.0,286.3,56.9,286.3,53.0z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.00pt" x="96.7" y="25.0">调用retransform</tspan><tspan style="font-size:10.00pt" x="24.7" y="44.0">retransformClasses(Class&lt;?>... classes)</tspan></text></g><g transform="translate(943.000000,138.000000)" id="shape5"><path stroke="#191919" stroke-width="1" d="M346.0,295.0L346.0,.0L.0,.0L.0,295.0L346.0,295.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">retransformation</tspan></text></g><g transform="translate(971.333000,172.000000)" id="shape6"><path stroke="#191919" stroke-width="1" d="M289.3,61.0L289.3,7.0C289.3,3.1,286.2,.0,282.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,61.0C.0,64.9,3.1,68.0,7.0,68.0L282.3,68.0C286.2,68.0,289.3,64.9,289.3,61.0z" fill-rule="nonzero" fill="#ffce80"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.2" y="19.0">ClassFileTransformer1</tspan></text></g><g transform="translate(1118.996700,199.000000)" id="shape7"><path stroke="#191919" stroke-width="1" d="M129.7,27.0L129.7,7.0C129.7,3.1,126.5,.0,122.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,27.0C.0,30.9,3.1,34.0,7.0,34.0L122.7,34.0C126.5,34.0,129.7,30.9,129.7,27.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.8" y="22.5">byte[] transform()</tspan></text></g><g transform="translate(971.333000,263.000000)" id="shape8"><path stroke="#191919" stroke-width="1" d="M289.3,61.0L289.3,7.0C289.3,3.1,286.2,.0,282.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,61.0C.0,64.9,3.1,68.0,7.0,68.0L282.3,68.0C286.2,68.0,289.3,64.9,289.3,61.0z" fill-rule="nonzero" fill="#ffce80"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.2" y="19.0">ClassFileTransformer2</tspan></text></g><g transform="translate(1119.004700,290.000000)" id="shape9"><path stroke="#191919" stroke-width="1" d="M129.7,27.0L129.7,7.0C129.7,3.1,126.5,.0,122.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,27.0C.0,30.9,3.1,34.0,7.0,34.0L122.7,34.0C126.5,34.0,129.7,30.9,129.7,27.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.8" y="22.5">byte[] transform()</tspan></text></g><g transform="translate(971.333000,351.000000)" id="shape10"><path stroke="#191919" stroke-width="1" d="M289.3,61.0L289.3,7.0C289.3,3.1,286.2,.0,282.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,61.0C.0,64.9,3.1,68.0,7.0,68.0L282.3,68.0C286.2,68.0,289.3,64.9,289.3,61.0z" fill-rule="nonzero" fill="#ffce80"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.2" y="19.0">ClassFileTransformerN</tspan></text></g><g transform="translate(1119.004800,378.000000)" id="shape11"><path stroke="#191919" stroke-width="1" d="M129.7,27.0L129.7,7.0C129.7,3.1,126.5,.0,122.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,27.0C.0,30.9,3.1,34.0,7.0,34.0L122.7,34.0C126.5,34.0,129.7,30.9,129.7,27.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.8" y="22.5">byte[] transform()</tspan></text></g><g transform="translate(1116.000000,240.000000)" id="shape12"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,17.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,17.0L.0,23.0L-3.0,17.0L3.0,17.0" fill="#191919"/></g><g transform="translate(1116.000000,331.000000)" id="shape13"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,14.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,14.0L.0,20.0L-3.0,14.0L3.0,14.0" fill="#191919"/></g><g transform="translate(685.000000,168.500000)" id="shape14"><path stroke="#191919" stroke-width="1" d="M.0,.0L251.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M251.0,-3.0L257.0,.0L251.0,3.0L251.0,-3.0" fill="#191919"/><rect width="78.0" height="19.0" x="104.5" y="-19.0" fill="#ffffff"/><rect width="165.0" height="19.0" x="61.0" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="104.5" y="-4.0">类加载的时候</tspan><tspan style="font-size:10.00pt" x="61.0" y="15.0">会调用ClassFileTransformer</tspan></text></g><g transform="translate(685.000000,285.500000)" id="shape15"><path stroke="#191919" stroke-width="1" d="M.0,.0L251.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M251.0,-3.0L257.0,.0L251.0,3.0L251.0,-3.0" fill="#191919"/><rect width="89.0" height="19.0" x="84.1" y="-19.0" fill="#ffffff"/><rect width="165.0" height="19.0" x="46.1" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="84.1" y="-4.0">每次类redefine</tspan><tspan style="font-size:10.00pt" x="46.1" y="15.0">会调用ClassFileTransformer</tspan></text></g><g transform="translate(685.000000,395.350000)" id="shape16"><path stroke="#191919" stroke-width="1" d="M.0,.0L251.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M251.0,-3.0L257.0,.0L251.0,3.0L251.0,-3.0" fill="#191919"/><rect width="126.0" height="19.0" x="69.3" y="-19.0" fill="#ffffff"/><rect width="165.0" height="19.0" x="49.8" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="69.3" y="-4.0">没有transform过的类</tspan><tspan style="font-size:10.00pt" x="49.8" y="15.0">会调用ClassFileTransformer</tspan></text></g><g transform="translate(1473.000000,138.000000)" id="shape17"><path stroke="#191919" stroke-width="1" d="M289.0,295.0L289.0,.0L.0,.0L.0,295.0L289.0,295.0z" fill-rule="nonzero" fill="#f5cfcf"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">transform() 方法</tspan></text></g><g transform="translate(1248.660000,216.000000)" id="shape18"><path stroke="#000000" stroke-width="1.6666699647903442" stroke-dasharray="18.3334,8.33335,4.16667,8.33335" d="M6.2,.0L216.3,.0" fill="none"/><path stroke="#000000" stroke-width="1" stroke-linecap="round" d="M6.2,6.2L.0,.0L6.2,-6.2L6.2,6.2" fill="#000000"/><path stroke="#000000" stroke-width="1" stroke-linecap="round" d="M216.3,-3.9L224.0,.0L216.3,3.9L216.3,-3.9" fill="#000000"/><rect width="26.0" height="19.0" x="117.7" y="-19.0" fill="#ffffff"/><rect width="124.0" height="19.0" x="68.7" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="117.7" y="-4.0">参数</tspan><tspan style="font-size:10.00pt" x="68.7" y="15.0">byte[] classfileBuffer</tspan></text></g><g transform="translate(1523.000000,191.000000)" id="shape19"><path stroke="#191919" stroke-width="1" d="M210.0,37.0L210.0,7.0C210.0,3.1,206.9,.0,203.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L203.0,44.0C206.9,44.0,210.0,40.9,210.0,37.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="92.0" y="18.0">参数</tspan><tspan style="font-size:10.00pt" x="43.0" y="37.0">byte[] classfileBuffer</tspan></text></g><g transform="translate(1524.000000,271.000000)" id="shape20"><path stroke="#191919" stroke-width="1" d="M210.0,56.0L210.0,7.0C210.0,3.1,206.9,.0,203.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,56.0C.0,59.9,3.1,63.0,7.0,63.0L203.0,63.0C206.9,63.0,210.0,59.9,210.0,56.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="46.5" y="27.5">通过字节码工具修改</tspan><tspan style="font-size:10.00pt" x="7.5" y="46.5">classfileBuffer->modifyClassFile</tspan></text></g><g transform="translate(1523.000000,372.000000)" id="shape21"><path stroke="#191919" stroke-width="1" d="M210.0,37.0L210.0,7.0C210.0,3.1,206.9,.0,203.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L203.0,44.0C206.9,44.0,210.0,40.9,210.0,37.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="43.0" y="27.5">返回 modifyClassFile</tspan></text></g><g transform="translate(1628.000000,235.000000)" id="shape22"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,30.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,30.0L.0,36.0L-3.0,30.0L3.0,30.0" fill="#191919"/></g><g transform="translate(1629.000000,334.000000)" id="shape23"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,32.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,32.0L.0,38.0L-3.0,32.0L3.0,32.0" fill="#191919"/></g><g transform="translate(1248.680000,307.000000)" id="shape24"><path stroke="#000000" stroke-width="1.6666699647903442" stroke-dasharray="18.3334,8.33335,4.16667,8.33335" d="M6.2,.0L217.3,.0" fill="none"/><path stroke="#000000" stroke-width="1" stroke-linecap="round" d="M6.2,6.2L.0,.0L6.2,-6.2L6.2,6.2" fill="#000000"/><path stroke="#000000" stroke-width="1" stroke-linecap="round" d="M217.3,-3.9L225.0,.0L217.3,3.9L217.3,-3.9" fill="#000000"/><rect width="26.0" height="19.0" x="111.6" y="-19.0" fill="#ffffff"/><rect width="124.0" height="19.0" x="62.6" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="111.6" y="-4.0">参数</tspan><tspan style="font-size:10.00pt" x="62.6" y="15.0">byte[] classfileBuffer</tspan></text></g><g transform="translate(1248.670000,397.960000)" id="shape25"><path stroke="#000000" stroke-width="1.6666699647903442" stroke-dasharray="18.3334,8.33335,4.16667,8.33335" d="M6.2,.0L217.3,.0" fill="none"/><path stroke="#000000" stroke-width="1" stroke-linecap="round" d="M6.2,6.2L.0,.0L6.2,-6.2L6.2,6.2" fill="#000000"/><path stroke="#000000" stroke-width="1" stroke-linecap="round" d="M217.3,-3.9L225.0,.0L217.3,3.9L217.3,-3.9" fill="#000000"/><rect width="26.0" height="19.0" x="112.3" y="-19.0" fill="#ffffff"/><rect width="124.0" height="19.0" x="63.3" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="112.3" y="-4.0">参数</tspan><tspan style="font-size:10.00pt" x="63.3" y="15.0">byte[] classfileBuffer</tspan></text></g><g transform="translate(192.834000,529.000000)" id="table26"><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,.0L614.0,.0L614.0,46.0L.0,46.0L.0,.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="9.0" y="19.0">transform(ClassLoader loader, String className, Class&lt;?> classBeingRedefined, ProtectionDomain </tspan><tspan style="font-size:9.00pt" x="9.0" y="36.0">protectionDomain, byte[] classfileBuffer)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,46.0L204.7,46.0L204.7,86.0L.0,86.0L.0,46.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="9.0" y="71.5">调用方式</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,46.0L465.5,46.0L465.5,86.0L204.7,86.0L204.7,46.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="71.5">参数</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,46.0L614.0,46.0L614.0,86.0L465.5,86.0L465.5,46.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="71.5">值</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,86.0L204.7,86.0L204.7,286.0L.0,286.0L.0,86.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="9.0" y="191.5">LoadClass</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,86.0L465.5,86.0L465.5,126.0L204.7,126.0L204.7,86.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="111.5">ClassLoader loader</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,86.0L614.0,86.0L614.0,126.0L465.5,126.0L465.5,86.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,126.0L465.5,126.0L465.5,166.0L204.7,166.0L204.7,126.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="151.5">String className</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,126.0L614.0,126.0L614.0,166.0L465.5,166.0L465.5,126.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="151.5">非空</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,166.0L465.5,166.0L465.5,206.0L204.7,206.0L204.7,166.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="191.5">Class&lt;?> classBeingRedefined</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,166.0L614.0,166.0L614.0,206.0L465.5,206.0L465.5,166.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="191.5">为空</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,206.0L465.5,206.0L465.5,246.0L204.7,246.0L204.7,206.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="231.5">ProtectionDomain protectionDomain</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,206.0L614.0,206.0L614.0,246.0L465.5,246.0L465.5,206.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,246.0L465.5,246.0L465.5,286.0L204.7,286.0L204.7,246.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="271.5">byte[] classfileBuffer</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,246.0L614.0,246.0L614.0,286.0L465.5,286.0L465.5,246.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="271.5">非空</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,286.0L204.7,286.0L204.7,486.0L.0,486.0L.0,286.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="9.0" y="391.5">redefineClass</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,286.0L465.5,286.0L465.5,326.0L204.7,326.0L204.7,286.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="311.5">ClassLoader loader</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,286.0L614.0,286.0L614.0,326.0L465.5,326.0L465.5,286.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,326.0L465.5,326.0L465.5,366.0L204.7,366.0L204.7,326.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="351.5">String className</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,326.0L614.0,326.0L614.0,366.0L465.5,366.0L465.5,326.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="351.5">非空</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,366.0L465.5,366.0L465.5,406.0L204.7,406.0L204.7,366.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="391.5">Class&lt;?> classBeingRedefined</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,366.0L614.0,366.0L614.0,406.0L465.5,406.0L465.5,366.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="391.5">非空</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,406.0L465.5,406.0L465.5,446.0L204.7,446.0L204.7,406.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="431.5">ProtectionDomain protectionDomain</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,406.0L614.0,406.0L614.0,446.0L465.5,446.0L465.5,406.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,446.0L465.5,446.0L465.5,486.0L204.7,486.0L204.7,446.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="471.5">byte[] classfileBuffer</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,446.0L614.0,446.0L614.0,486.0L465.5,486.0L465.5,446.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="471.5">非空</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,486.0L204.7,486.0L204.7,686.0L.0,686.0L.0,486.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="9.0" y="591.5">retransformClass</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,486.0L465.5,486.0L465.5,526.0L204.7,526.0L204.7,486.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="511.5">ClassLoader loader</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,486.0L614.0,486.0L614.0,526.0L465.5,526.0L465.5,486.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,526.0L465.5,526.0L465.5,566.0L204.7,566.0L204.7,526.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="551.5">String className</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,526.0L614.0,526.0L614.0,566.0L465.5,566.0L465.5,526.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="551.5">为空</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,566.0L465.5,566.0L465.5,606.0L204.7,606.0L204.7,566.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="591.5">Class&lt;?> classBeingRedefined</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,566.0L614.0,566.0L614.0,606.0L465.5,606.0L465.5,566.0z" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="591.5">为空</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,606.0L465.5,606.0L465.5,646.0L204.7,646.0L204.7,606.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="631.5">ProtectionDomain protectionDomain</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,606.0L614.0,606.0L614.0,646.0L465.5,646.0L465.5,606.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M204.7,646.0L465.5,646.0L465.5,686.0L204.7,686.0L204.7,646.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="213.7" y="671.5">byte[] classfileBuffer</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M465.5,646.0L614.0,646.0L614.0,686.0L465.5,686.0L465.5,646.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="474.5" y="671.5">非空</tspan></text></g></g><path stroke="#999999" stroke-width="2.6666700839996338" d="M.0,.0L5.0,.0C6.4,-0.2,7.8,.3,8.8,1.2C9.7,2.2,10.2,3.6,10.0,5.0L10.0,142.5C9.8,143.9,10.3,145.3,11.2,146.3C12.2,147.2,13.6,147.7,15.0,147.5C13.6,147.3,12.2,147.8,11.2,148.7C10.3,149.7,9.8,151.1,10.0,152.5L10.0,290.0C10.2,291.4,9.7,292.8,8.8,293.8C7.8,294.7,6.4,295.2,5.0,295.0L.0,295.0" transform="matrix(-1.000000,0.000000,0.000000,1.000000,392.000000,138.500000)" fill="none" id="shape27"/><g transform="translate(208.000000,260.500000)" id="shape28"><path stroke="#808080" stroke-width="1" d="M2.0,15.8L130.0,15.8L130.0,2.0L163.0,29.5L130.0,57.0L130.0,43.3L2.0,43.3L2.0,15.8z" stroke-opacity="0.20" fill="#808080" fill-opacity="0.20"/><path stroke="#42c181" stroke-width="1" d="M.0,13.8L128.0,13.8L128.0,.0L161.0,27.5L128.0,55.0L128.0,41.3L.0,41.3L.0,13.8z" fill-rule="nonzero" fill="#42c181"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="11.5" y="33.0">接着系统里调用三类API</tspan></text></g><g transform="translate(118.000000,138.500000)" id="shape29"><path stroke="#191919" stroke-width="1.3333300352096558" stroke-dasharray="14.6666,6.66665" d="M.0,.0L.0,-62.0L998.0,-62.0L998.0,-7.4" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M1001.5,-7.4L998.0,-0.5L994.5,-7.4L1001.5,-7.4" fill="#191919"/><rect width="140.0" height="19.0" x="453.5" y="-71.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="453.5" y="-56.5">会依次调用Transformer</tspan></text></g></g></svg>