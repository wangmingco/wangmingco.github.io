<svg xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="0 0 11235 3979" width="11235" xmlns:xlink="http://www.w3.org/1999/xlink" height="3979"><defs/><g transform="translate(5.5,5.5)" id="page4"><rect width="11225" height="3969" x="0" y="0" fill="none"/><g transform="translate(3290.270000,33.055000)" id="shape1"><path d="M.0,.0L317.0,.0L317.0,220.0L.0,220.0L.0,.0zM.0,56.0L317.0,56.0L.0,56.0z" fill-rule="nonzero" fill="#ffede9"/><path stroke="#323232" stroke-width="1" d="M.0,.0L317.0,.0L317.0,220.0L.0,220.0L.0,.0zM.0,56.0L317.0,56.0L.0,56.0z" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="111.5" y="24.0">&lt;&lt;interface>></tspan><tspan style="font-size:10.00pt" x="107.0" y="43.0">ByteBufAllocator</tspan></text><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="86.5">+    buffer() : ByteBuf</tspan><tspan style="font-size:10.00pt" x="4.0" y="105.5">+    compositeBuffer() : CompositeByteBuf</tspan><tspan style="font-size:10.00pt" x="4.0" y="124.5">+    compositeDirectBuffer(): CompositeByteBuf</tspan><tspan style="font-size:10.00pt" x="4.0" y="143.5">+    compositeHeapBuffer() : ByteBuf</tspan><tspan style="font-size:10.00pt" x="4.0" y="162.5">+    directBuffer() : ByteBuf</tspan><tspan style="font-size:10.00pt" x="4.0" y="181.5">+    heapBuffer() : ByteBuf</tspan><tspan style="font-size:10.00pt" x="4.0" y="200.5">+    ioBuffer() : ByteBuf</tspan></text></g><g transform="translate(3059.520000,860.090000)" id="shape2"><path d="M.0,.0L747.0,.0L747.0,793.1L.0,793.1L.0,.0zM.0,60.7L747.0,60.7L.0,60.7zM.0,152.7L747.0,152.7L.0,152.7z" fill-rule="nonzero" fill="#fff4e8"/><path stroke="#323232" stroke-width="1" d="M.0,.0L747.0,.0L747.0,793.1L.0,793.1L.0,.0zM.0,60.7L747.0,60.7L.0,60.7zM.0,152.7L747.0,152.7L.0,152.7z" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="274.5" y="35.9">Class UnpooledByteBufAllocator</tspan></text><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="83.7">+   UnpooledByteBufAllocatorMetric metric</tspan><tspan style="font-size:10.00pt" x="4.0" y="102.7">+   boolean disableLeakDetector</tspan><tspan style="font-size:10.00pt" x="4.0" y="121.7">+   boolean noCleaner</tspan><tspan style="font-size:10.00pt" x="4.0" y="140.7">+   UnpooledByteBufAllocator DEFAULT</tspan></text><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="478.4">+   </tspan></text></g><g transform="translate(3450.050000,336.055000)" id="shape3"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,-77.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-3.0,-77.0L.0,-83.0L3.0,-77.0L-3.0,-77.0" fill="#191919"/></g><g transform="translate(3919.520000,447.515000)" id="shape4"><path stroke="#191919" stroke-width="1" d="M.0,.0L-218.0,.0L-218.0,138.0L-240.0,138.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-240.0,141.0L-246.0,138.0L-240.0,135.0L-240.0,141.0" fill="#191919"/></g><g transform="translate(3435.150000,860.089000)" id="shape5"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,-131.0L-5.0,-131.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-5.0,-128.0L-11.0,-131.0L-5.0,-134.0L-5.0,-128.0" fill="#191919"/></g><g transform="translate(3224.270000,336.055000)" id="group6"><g id="shape7"><path d="M.0,.0L449.0,.0L449.0,393.0L.0,393.0L.0,.0zM.0,66.4L449.0,66.4L.0,66.4zM.0,106.6L449.0,106.6L.0,106.6z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#323232" stroke-width="1" d="M.0,.0L449.0,.0L449.0,393.0L.0,393.0L.0,.0zM.0,66.4L449.0,66.4L.0,66.4zM.0,106.6L449.0,106.6L.0,106.6z" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="129.5" y="38.7">Class AbstractByteBufAllocator</tspan></text><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="92.0">+   </tspan></text><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="255.3">+   </tspan></text></g><g transform="translate(173.000000,129.500000)" id="shape8"><path stroke="#323232" stroke-width="1" d="M20.0,27.0L83.0,27.0L103.0,13.5L83.0,.0L20.0,.0L.0,13.5L20.0,27.0z" fill-rule="nonzero" fill="#fedad0"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="28.5" y="19.0">buffer()</tspan></text></g><g transform="translate(150.500000,177.375000)" id="shape9"><path stroke="#323232" stroke-width="1" d="M74.0,38.3L148.0,19.1L74.0,.0L.0,19.1L74.0,38.3z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="30.0" y="23.6">directByDefault</tspan></text></g><g transform="translate(41.500000,236.500000)" id="shape10"><path stroke="#323232" stroke-width="1" d="M20.0,27.0L106.5,27.0L126.5,13.5L106.5,.0L20.0,.0L.0,13.5L20.0,27.0z" fill-rule="nonzero" fill="#fedad0"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="22.8" y="19.0">directBuffer()</tspan></text></g><g transform="translate(273.000000,236.500000)" id="shape11"><path stroke="#323232" stroke-width="1" d="M20.0,27.0L106.5,27.0L126.5,13.5L106.5,.0L20.0,.0L.0,13.5L20.0,27.0z" fill-rule="nonzero" fill="#fedad0"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.3" y="19.0">heapBuffer()</tspan></text></g><g transform="translate(224.500000,156.500000)" id="shape12"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,15.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,15.0L.0,21.0L-3.0,15.0L3.0,15.0" fill="#191919"/></g><g transform="translate(150.500000,196.500000)" id="shape13"><path stroke="#191919" stroke-width="1" d="M.0,.0L-45.0,.0L-45.0,34.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-42.0,34.0L-45.0,40.0L-48.0,34.0L-42.0,34.0" fill="#191919"/><rect width="25.0" height="19.0" x="-56.5" y="1.1" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-56.5" y="16.1">true</tspan></text></g><g transform="translate(298.500000,196.500000)" id="shape14"><path stroke="#191919" stroke-width="1" d="M.0,.0L38.0,.0L38.0,34.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M41.0,34.0L38.0,40.0L35.0,34.0L41.0,34.0" fill="#191919"/><rect width="28.0" height="19.0" x="25.0" y="2.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.0" y="17.3">false</tspan></text></g><g transform="translate(10.500000,306.000000)" id="shape15"><path stroke="#323232" stroke-width="1" d="M188.5,41.5L188.5,7.0C188.5,3.1,185.4,.0,181.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,41.5C.0,45.4,3.1,48.5,7.0,48.5L181.5,48.5C185.4,48.5,188.5,45.4,188.5,41.5z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="42.3" y="20.3">newDirectBuffer( </tspan><tspan style="font-size:10.00pt" x="6.8" y="39.3">initialCapacity, maxCapacity)</tspan></text></g><g transform="translate(242.000000,306.000000)" id="shape16"><path stroke="#323232" stroke-width="1" d="M188.5,41.5L188.5,7.0C188.5,3.1,185.4,.0,181.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,41.5C.0,45.4,3.1,48.5,7.0,48.5L181.5,48.5C185.4,48.5,188.5,45.4,188.5,41.5z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="44.8" y="20.3">newHeapBuffer( </tspan><tspan style="font-size:10.00pt" x="6.8" y="39.3">initialCapacity, maxCapacity)</tspan></text></g><g transform="translate(104.750000,263.500000)" id="shape17"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,37.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,37.0L.0,43.0L-3.0,37.0L3.0,37.0" fill="#191919"/></g><g transform="translate(336.250000,263.500000)" id="shape18"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,37.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,37.0L.0,43.0L-3.0,37.0L3.0,37.0" fill="#191919"/></g></g><g transform="translate(3064.270000,1126.093300)" id="shape19"><path stroke="#323232" stroke-width="1" d="M20.0,46.6L113.0,46.6L133.0,23.3L113.0,.0L20.0,.0L.0,23.3L20.0,46.6z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.0" y="28.8">newHeapBuffer()</tspan></text></g><g transform="translate(3224.770000,1120.331600)" id="shape20"><path stroke="#323232" stroke-width="1" d="M66.5,58.1L133.0,29.0L66.5,.0L.0,29.0L66.5,58.1z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="32.5" y="33.5">hasUnsafe()</tspan></text></g><g transform="translate(3197.270000,1149.380000)" id="shape21"><path stroke="#191919" stroke-width="1" d="M.0,.0L21.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M21.0,-3.0L27.0,.0L21.0,3.0L21.0,-3.0" fill="#191919"/></g><g transform="translate(3241.270000,1035.824700)" id="shape22"><path stroke="#323232" stroke-width="1" d="M324.5,29.5L324.5,7.0C324.5,3.1,321.4,.0,317.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,29.5C.0,33.4,3.1,36.5,7.0,36.5L317.5,36.5C321.4,36.5,324.5,33.4,324.5,29.5z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.8" y="23.7">new InstrumentedUnpooledUnsafeHeapByteBuf()</tspan></text></g><g transform="translate(3241.270000,1226.443300)" id="shape23"><path stroke="#323232" stroke-width="1" d="M324.5,39.1L324.5,7.0C324.5,3.1,321.4,.0,317.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,39.1C.0,43.0,3.1,46.1,7.0,46.1L317.5,46.1C321.4,46.1,324.5,43.0,324.5,39.1z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.3" y="28.5">new InstrumentedUnpooledHeapByteBuf()</tspan></text></g><g transform="translate(3291.270000,1120.330000)" id="shape24"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,-41.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-3.0,-41.0L.0,-47.0L3.0,-41.0L-3.0,-41.0" fill="#191919"/><rect width="25.0" height="19.0" x="-11.5" y="-34.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-11.5" y="-19.9">true</tspan></text></g><g transform="translate(3291.270000,1178.430000)" id="shape25"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,42.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,42.0L.0,48.0L-3.0,42.0L3.0,42.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="17.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="32.3">false</tspan></text></g><g transform="translate(3064.275000,1392.083300)" id="shape26"><path stroke="#323232" stroke-width="1" d="M20.0,46.6L127.3,46.6L147.3,23.3L127.3,.0L20.0,.0L.0,23.3L20.0,46.6z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="19.6" y="28.8">newDirectBuffer()</tspan></text></g><g transform="translate(3241.270000,1386.321600)" id="shape27"><path stroke="#323232" stroke-width="1" d="M66.5,58.1L133.0,29.0L66.5,.0L.0,29.0L66.5,58.1z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="32.5" y="33.5">hasUnsafe()</tspan></text></g><g transform="translate(3211.520000,1415.370000)" id="shape28"><path stroke="#191919" stroke-width="1" d="M.0,.0L24.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M24.0,-3.0L30.0,.0L24.0,3.0L24.0,-3.0" fill="#191919"/></g><g transform="translate(3351.275000,1290.293300)" id="shape29"><path stroke="#323232" stroke-width="1" d="M389.3,39.1L389.3,7.0C389.3,3.1,386.1,.0,382.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,39.1C.0,43.0,3.1,46.1,7.0,46.1L382.3,46.1C386.1,46.1,389.3,43.0,389.3,39.1z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="8.1" y="28.5">new InstrumentedUnpooledUnsafeNoCleanerDirectByteBuf()</tspan></text></g><g transform="translate(3258.520000,1557.394600)" id="shape30"><path stroke="#323232" stroke-width="1" d="M324.5,30.5L324.5,7.0C324.5,3.1,321.4,.0,317.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,30.5C.0,34.3,3.1,37.5,7.0,37.5L317.5,37.5C321.4,37.5,324.5,34.3,324.5,30.5z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="24.2">new InstrumentedUnpooledDirectByteBuf()</tspan></text></g><g transform="translate(3374.270000,1415.370000)" id="shape31"><path stroke="#191919" stroke-width="1" d="M.0,.0L99.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M99.0,-3.0L105.0,.0L99.0,3.0L99.0,-3.0" fill="#191919"/><rect width="25.0" height="19.0" x="45.2" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.2" y="5.5">true</tspan></text></g><g transform="translate(3307.770000,1444.420000)" id="shape32"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,107.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,107.0L.0,113.0L-3.0,107.0L3.0,107.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="53.7" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="68.7">false</tspan></text></g><g transform="translate(3479.400000,1386.321600)" id="shape33"><path stroke="#323232" stroke-width="1" d="M66.5,58.1L133.0,29.0L66.5,.0L.0,29.0L66.5,58.1z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="37.0" y="33.5">noCleaner</tspan></text></g><g transform="translate(3383.650000,1477.873300)" id="shape34"><path stroke="#323232" stroke-width="1" d="M324.5,39.1L324.5,7.0C324.5,3.1,321.4,.0,317.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,39.1C.0,43.0,3.1,46.1,7.0,46.1L317.5,46.1C321.4,46.1,324.5,43.0,324.5,39.1z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="8.3" y="28.5">new InstrumentedUnpooledUnsafeDirectByteBuf()</tspan></text></g><g transform="translate(3545.900000,1444.420000)" id="shape35"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,27.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,27.0L.0,33.0L-3.0,27.0L3.0,27.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="4.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="19.0">false</tspan></text></g><g transform="translate(3545.900000,1386.330000)" id="shape36"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,-44.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-3.0,-44.0L.0,-50.0L3.0,-44.0L-3.0,-44.0" fill="#191919"/><rect width="25.0" height="19.0" x="-11.5" y="-37.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-11.5" y="-22.0">true</tspan></text></g><g transform="translate(3919.520000,113.000000)" id="shape37"><path d="M.0,.0L2289.1,.0L2289.1,2231.0L.0,2231.0L.0,.0zM.0,185.6L2289.1,185.6L.0,185.6zM.0,483.4L2289.1,483.4L.0,483.4z" fill-rule="nonzero" fill="#fae9e9"/><path stroke="#323232" stroke-width="1" d="M.0,.0L2289.1,.0L2289.1,2231.0L.0,2231.0L.0,.0zM.0,185.6L2289.1,185.6L.0,185.6zM.0,483.4L2289.1,483.4L.0,483.4z" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="1054.5" y="98.3">Class PooledByteBufAllocator</tspan></text><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="245.0">+   UnpooledByteBufAllocator DEFAULT</tspan><tspan style="font-size:10.00pt" x="4.0" y="264.0">+   PoolArena&lt;byte[]>[] heapArenas</tspan><tspan style="font-size:10.00pt" x="4.0" y="283.0">+   PoolArena&lt;ByteBuffer>[] directArenas</tspan><tspan style="font-size:10.00pt" x="4.0" y="302.0">+   int tinyCacheSize</tspan><tspan style="font-size:10.00pt" x="4.0" y="321.0">+   int smallCacheSize</tspan><tspan style="font-size:10.00pt" x="4.0" y="340.0">+   int normalCacheSize</tspan><tspan style="font-size:10.00pt" x="4.0" y="359.0">+   List&lt;PoolArenaMetric> heapArenaMetrics</tspan><tspan style="font-size:10.00pt" x="4.0" y="378.0">+   List&lt;PoolArenaMetric> directArenaMetrics</tspan><tspan style="font-size:10.00pt" x="4.0" y="397.0">+   PoolThreadLocalCache threadCache</tspan><tspan style="font-size:10.00pt" x="4.0" y="416.0">+   int chunkSize</tspan><tspan style="font-size:10.00pt" x="4.0" y="435.0">+   PooledByteBufAllocatorMetric metric</tspan></text><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="1362.7">+   </tspan></text></g><g transform="translate(5701.043000,655.270000)" id="shape38"><path stroke="#323232" stroke-width="1" d="M20.0,48.5L123.0,48.5L143.0,24.3L123.0,.0L20.0,.0L.0,24.3L20.0,48.5z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.5" y="29.8">newDirectBuffer()</tspan></text></g><g transform="translate(5602.580000,730.490000)" id="shape39"><path stroke="#323232" stroke-width="1" d="M340.0,47.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,47.0C.0,50.9,3.1,54.0,7.0,54.0L333.0,54.0C336.9,54.0,340.0,50.9,340.0,47.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="23.0">PoolThreadCache cache = threadCache.get();</tspan><tspan style="font-size:10.00pt" x="4.0" y="42.0">PoolArena&lt;byte[]> directArena = cache.directArena;</tspan></text></g><g transform="translate(5772.560000,703.770000)" id="shape40"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,21.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,21.0L.0,27.0L-3.0,21.0L3.0,21.0" fill="#191919"/></g><g transform="translate(5680.615000,816.820000)" id="shape41"><path stroke="#323232" stroke-width="1" d="M91.0,62.5L182.0,31.3L91.0,.0L.0,31.3L91.0,62.5z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="37.0" y="35.8">directArena != null</tspan></text></g><g transform="translate(5772.580000,784.490000)" id="shape42"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,26.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,26.0L.0,32.0L-3.0,26.0L3.0,26.0" fill="#191919"/></g><g transform="translate(5755.580000,900.080000)" id="shape43"><path stroke="#323232" stroke-width="1" d="M359.0,41.0L359.0,7.0C359.0,3.1,355.9,.0,352.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,41.0C.0,44.9,3.1,48.0,7.0,48.0L352.0,48.0C355.9,48.0,359.0,44.9,359.0,41.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="8.0" y="29.5">directArena.allocate(cache, initialCapacity, maxCapacity)</tspan></text></g><g transform="translate(5862.590000,848.070000)" id="shape44"><path stroke="#191919" stroke-width="1" d="M.0,.0L71.0,.0L71.0,46.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M74.0,46.0L71.0,52.0L68.0,46.0L74.0,46.0" fill="#191919"/><rect width="25.0" height="19.0" x="59.5" y="15.4" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.5" y="30.4">true</tspan></text></g><g transform="translate(5535.080000,973.310000)" id="shape45"><path stroke="#323232" stroke-width="1" d="M66.5,60.5L133.0,30.3L66.5,.0L.0,30.3L66.5,60.5z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="32.5" y="34.8">hasUnsafe()</tspan></text></g><g transform="translate(5680.620000,848.070000)" id="shape46"><path stroke="#191919" stroke-width="1" d="M.0,.0L-79.0,.0L-79.0,119.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-76.0,119.0L-79.0,125.0L-82.0,119.0L-76.0,119.0" fill="#191919"/><rect width="28.0" height="19.0" x="-92.0" y="89.6" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-92.0" y="104.6">false</tspan></text></g><g transform="translate(5755.580000,978.080000)" id="shape47"><path stroke="#323232" stroke-width="1" d="M359.0,41.0L359.0,7.0C359.0,3.1,355.9,.0,352.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,41.0C.0,44.9,3.1,48.0,7.0,48.0L352.0,48.0C355.9,48.0,359.0,44.9,359.0,41.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="31.0" y="20.0">UnsafeByteBufUtil.newUnsafeDirectByteBuf(this, </tspan><tspan style="font-size:10.00pt" x="92.0" y="39.0">initialCapacity, maxCapacity)</tspan></text></g><g transform="translate(5755.580000,1059.030000)" id="shape48"><path stroke="#323232" stroke-width="1" d="M359.0,41.0L359.0,7.0C359.0,3.1,355.9,.0,352.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,41.0C.0,44.9,3.1,48.0,7.0,48.0L352.0,48.0C355.9,48.0,359.0,44.9,359.0,41.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="88.5" y="29.5">new UnpooledDirectByteBuf()</tspan></text></g><g transform="translate(5668.080000,1003.560000)" id="shape49"><path stroke="#191919" stroke-width="1" d="M.0,.0L81.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M81.0,-3.0L87.0,.0L81.0,3.0L81.0,-3.0" fill="#191919"/><rect width="25.0" height="19.0" x="30.0" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="30.0" y="5.5">true</tspan></text></g><g transform="translate(5601.580000,1033.810000)" id="shape50"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,50.0L148.0,50.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M148.0,47.0L154.0,50.0L148.0,53.0L148.0,47.0" fill="#191919"/><rect width="28.0" height="19.0" x="73.6" y="40.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="73.6" y="55.5">false</tspan></text></g><g transform="translate(5706.080000,1138.420000)" id="shape51"><path stroke="#323232" stroke-width="1" d="M20.0,48.5L113.0,48.5L133.0,24.3L113.0,.0L20.0,.0L.0,24.3L20.0,48.5z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.0" y="29.8">newHeapBuffer()</tspan></text></g><g transform="translate(5602.580000,1219.220000)" id="shape52"><path stroke="#323232" stroke-width="1" d="M340.0,47.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,47.0C.0,50.9,3.1,54.0,7.0,54.0L333.0,54.0C336.9,54.0,340.0,50.9,340.0,47.0z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="23.0">PoolThreadCache cache = threadCache.get();</tspan><tspan style="font-size:10.00pt" x="4.0" y="42.0">PoolArena&lt;byte[]> heapArena = cache.heapArena;</tspan></text></g><g transform="translate(5772.580000,1186.920000)" id="shape53"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,27.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,27.0L.0,33.0L-3.0,27.0L3.0,27.0" fill="#191919"/></g><g transform="translate(5685.080000,1303.190000)" id="shape54"><path stroke="#323232" stroke-width="1" d="M88.3,48.0L176.5,24.0L88.3,.0L.0,24.0L88.3,48.0z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="36.2" y="28.5">heapArena != null</tspan></text></g><g transform="translate(5772.580000,1273.220000)" id="shape55"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,24.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,24.0L.0,30.0L-3.0,24.0L3.0,24.0" fill="#191919"/></g><g transform="translate(5755.580000,1376.820000)" id="shape56"><path stroke="#323232" stroke-width="1" d="M359.0,41.0L359.0,7.0C359.0,3.1,355.9,.0,352.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,41.0C.0,44.9,3.1,48.0,7.0,48.0L352.0,48.0C355.9,48.0,359.0,44.9,359.0,41.0z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.5" y="29.5">heapArena.allocate(cache, initialCapacity, maxCapacity)</tspan></text></g><g transform="translate(5861.580000,1327.190000)" id="shape57"><path stroke="#191919" stroke-width="1" d="M.0,.0L73.0,.0L73.0,43.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M76.0,43.0L73.0,49.0L70.0,43.0L76.0,43.0" fill="#191919"/><rect width="25.0" height="19.0" x="61.5" y="12.6" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="61.5" y="27.6">true</tspan></text></g><g transform="translate(5535.080000,1437.940000)" id="shape58"><path stroke="#323232" stroke-width="1" d="M66.5,60.5L133.0,30.3L66.5,.0L.0,30.3L66.5,60.5z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="32.5" y="34.8">hasUnsafe()</tspan></text></g><g transform="translate(5685.080000,1327.190000)" id="shape59"><path stroke="#191919" stroke-width="1" d="M.0,.0L-84.0,.0L-84.0,104.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-81.0,104.0L-84.0,110.0L-87.0,104.0L-81.0,104.0" fill="#191919"/><rect width="28.0" height="19.0" x="-97.0" y="75.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-97.0" y="90.9">false</tspan></text></g><g transform="translate(5755.580000,1444.190000)" id="shape60"><path stroke="#323232" stroke-width="1" d="M359.0,41.0L359.0,7.0C359.0,3.1,355.9,.0,352.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,41.0C.0,44.9,3.1,48.0,7.0,48.0L352.0,48.0C355.9,48.0,359.0,44.9,359.0,41.0z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="69.5" y="29.5">new UnpooledUnsafeHeapByteBuf()</tspan></text></g><g transform="translate(5755.580000,1530.190000)" id="shape61"><path stroke="#323232" stroke-width="1" d="M359.0,41.0L359.0,7.0C359.0,3.1,355.9,.0,352.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,41.0C.0,44.9,3.1,48.0,7.0,48.0L352.0,48.0C355.9,48.0,359.0,44.9,359.0,41.0z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="91.0" y="29.5">new UnpooledHeapByteBuf()</tspan></text></g><g transform="translate(5668.080000,1468.190000)" id="shape62"><path stroke="#191919" stroke-width="1" d="M.0,.0L81.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M81.0,-3.0L87.0,.0L81.0,3.0L81.0,-3.0" fill="#191919"/><rect width="25.0" height="19.0" x="30.0" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="30.0" y="5.5">true</tspan></text></g><g transform="translate(5601.580000,1498.440000)" id="shape63"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,55.0L148.0,55.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M148.0,52.0L154.0,55.0L148.0,58.0L148.0,52.0" fill="#191919"/><rect width="28.0" height="19.0" x="72.0" y="45.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="72.0" y="60.5">false</tspan></text></g><g transform="translate(6376.520000,184.540000)" id="shape64"><path stroke="#323232" stroke-width="1" d="M4573.0,3718.9L4573.0,.0L.0,.0L.0,3718.9L4573.0,3718.9z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt"><tspan style="font-size:18.00pt" x="4.0" y="29.0">Pool 相关</tspan></text></g><g transform="translate(5923.580000,442.359000)" id="shape65"><path stroke="#c00000" stroke-width="5" d="M.0,.0L354.5,.0L354.5,-94.6L1111.0,-94.6" fill="none"/><path stroke="#c00000" stroke-width="1" stroke-linecap="round" d="M1111.0,-101.3L1124.5,-94.6L1111.0,-87.9L1111.0,-101.3" fill="#c00000"/><rect width="224.0" height="19.0" x="243.5" y="-16.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="243.5" y="-1.3">每个线程里都有一个PoolThreadCache</tspan></text></g><g transform="translate(7749.040000,265.108000)" id="shape66"><path stroke="#191919" stroke-width="1" d="M.0,.0L160.0,.0L160.0,198.0L182.0,198.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M182.0,195.0L188.0,198.0L182.0,201.0L182.0,195.0" fill="#191919"/><rect width="85.0" height="19.0" x="118.5" y="32.0" fill="#ffffff"/><rect width="53.0" height="19.0" x="134.5" y="51.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="118.5" y="47.0">sizeClass: Tiny</tspan><tspan style="font-size:10.00pt" x="134.5" y="66.0">size: 512</tspan></text></g><g transform="translate(8156.790000,528.638000)" id="shape67"><path stroke="#191919" stroke-width="1" d="M.0,.0L56.0,.0L56.0,-28.0L78.0,-28.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M78.0,-31.0L84.0,-28.0L78.0,-25.0L78.0,-31.0" fill="#191919"/></g><g transform="translate(8241.037000,473.840000)" id="group68"><g id="shape69"><path stroke="#323232" stroke-width="1" d="M61.3,52.5L61.3,.0L.0,.0L.0,52.5L61.3,52.5z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.6" y="31.8">Entry</tspan></text></g><g transform="translate(62.500000,0.000000)" id="shape70"><path stroke="#323232" stroke-width="1" d="M61.3,52.5L61.3,.0L.0,.0L.0,52.5L61.3,52.5z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.6" y="31.8">Entry</tspan></text></g><g transform="translate(124.500000,0.000000)" id="shape71"><path stroke="#323232" stroke-width="1" d="M61.3,52.5L61.3,.0L.0,.0L.0,52.5L61.3,52.5z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.6" y="31.8">Entry</tspan></text></g><g transform="translate(185.000000,0.000000)" id="shape72"><path stroke="#323232" stroke-width="1" d="M61.3,52.5L61.3,.0L.0,.0L.0,52.5L61.3,52.5z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.6" y="31.8">......</tspan></text></g><g transform="translate(244.255000,0.000000)" id="shape73"><path stroke="#323232" stroke-width="1" d="M61.3,52.5L61.3,.0L.0,.0L.0,52.5L61.3,52.5z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.6" y="31.8">Entry</tspan></text></g><g transform="translate(304.755000,0.000000)" id="shape74"><path stroke="#323232" stroke-width="1" d="M61.3,52.5L61.3,.0L.0,.0L.0,52.5L61.3,52.5z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.6" y="31.8">Entry</tspan></text></g><g transform="translate(155.125000,52.500000)" id="shape75"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,49.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,49.0L.0,55.0L-3.0,49.0L3.0,49.0" fill="#191919"/></g></g><g transform="matrix(0.000000,-1.000000,-1.000000,0.000000,8609.125000,469.340000)" id="shape76"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,176.1C17.6,178.6,18.5,181.1,20.2,182.8C22.0,184.6,24.5,185.4,27.0,185.1C24.5,184.7,22.0,185.6,20.2,187.3C18.5,189.1,17.6,191.6,18.0,194.1L18.0,361.2C18.4,363.6,17.5,366.1,15.8,367.9C14.0,369.7,11.5,370.5,9.0,370.2L.0,370.2" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt" transform="matrix(0.00,-1.00,-1.00,0.00,230.1,230.1)"><tspan style="font-size:10.00pt" x="9.5" y="190.6">大小为2的幂</tspan></text></g><g transform="translate(7533.540000,247.085000)" id="shape77"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.8" y="22.0">MemoryRegionCache(16B)</tspan></text></g><g transform="translate(7533.540000,279.235000)" id="shape78"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.8" y="22.0">MemoryRegionCache(32B)</tspan></text></g><g transform="translate(7533.540000,311.335000)" id="shape79"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.8" y="22.0">MemoryRegionCache(48B)</tspan></text></g><g transform="translate(7533.540000,343.060000)" id="shape80"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="69.3" y="22.0">...... 一共32个</tspan></text></g><g transform="translate(7533.540000,375.210000)" id="shape81"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.8" y="22.0">MemoryRegionCache(480B)</tspan></text></g><g transform="translate(7533.540000,406.310000)" id="shape82"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.8" y="22.0">MemoryRegionCache(496B)</tspan></text></g><g transform="translate(6451.520000,467.775000)" id="shape83"><path stroke="#323232" stroke-width="1" d="M472.0,207.3L472.0,7.0C472.0,3.1,468.9,.0,465.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,207.3C.0,211.2,3.1,214.3,7.0,214.3L465.0,214.3C468.9,214.3,472.0,211.2,472.0,207.3z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">createSubPageCaches(int cacheSize, int numCaches, SizeClass sizeClass)</tspan><tspan style="font-size:10.00pt" x="4.0" y="57.0">对PoolThreadCache里各个组件创建的方法。</tspan><tspan style="font-size:10.00pt" x="4.0" y="95.0">numCaches 用来设置创建 cahce数组的大小</tspan><tspan style="font-size:10.00pt" x="4.0" y="114.0">cacheSize 用来设置 MemoryRegionCache#queue 的大小</tspan><tspan style="font-size:10.00pt" x="4.0" y="133.0">sizeClass 用来设置 MemoryRegionCache#sizeClass 的的值</tspan><tspan style="font-size:10.00pt" x="4.0" y="171.0">cacheSize -> tiny 默认是 512</tspan><tspan style="font-size:10.00pt" x="4.0" y="190.0">cacheSize -> small 默认是 256</tspan><tspan style="font-size:10.00pt" x="4.0" y="209.0">cacheSize -> normal 默认是 64</tspan></text></g><g transform="translate(6923.520000,556.698000)" id="shape84"><path stroke="#191919" stroke-width="2" stroke-dasharray="4,10" d="M.0,.0L.0,-8.8C.0,-12.6,3.1,-15.8,7.0,-15.8L17.0,-15.8C26.4,-15.8,34.0,-23.4,34.0,-32.8L34.0,-41.1C34.0,-46.1,38.0,-50.1,43.0,-50.1L43.0,-50.1C48.0,-50.1,52.0,-54.1,52.0,-59.1L52.0,-87.0C52.0,-106.9,68.1,-123.0,88.0,-123.0L116.0,-123.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M116.0,-127.2L124.5,-123.0L116.0,-118.7L116.0,-127.2" fill="#191919"/></g><g transform="translate(8666.040000,378.690000)" id="shape85"><path stroke="#e54648" stroke-width="5.3333301544189453" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,239.9C17.6,242.4,18.5,244.9,20.2,246.7C22.0,248.4,24.5,249.3,27.0,248.9C24.5,248.5,22.0,249.4,20.2,251.1C18.5,252.9,17.6,255.4,18.0,257.9L18.0,488.8C18.4,491.3,17.5,493.8,15.8,495.6C14.0,497.3,11.5,498.2,9.0,497.8L.0,497.8" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:30.00pt"><tspan style="font-size:24.00pt" x="41.0" y="261.4">缓存</tspan></text></g><g transform="translate(7048.040000,282.290000)" id="shape86"><path stroke="#323232" stroke-width="1" d="M298.0,591.7L298.0,7.0C298.0,3.1,294.9,.0,291.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,591.7C.0,595.6,3.1,598.7,7.0,598.7L291.0,598.7C294.9,598.7,298.0,595.6,298.0,591.7z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolThreadCache</tspan></text></g><g transform="translate(7074.540000,341.840000)" id="shape87"><path stroke="#323232" stroke-width="1" d="M245.0,52.5L245.0,.0L.0,.0L.0,52.5L245.0,52.5z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.0" y="22.3">MemoryRegionCache&lt;byte[]>[] </tspan><tspan style="font-size:10.00pt" x="46.0" y="41.3">tinySubPageHeapCaches</tspan></text></g><g transform="translate(7074.540000,406.090000)" id="shape88"><path stroke="#323232" stroke-width="1" d="M245.0,52.5L245.0,.0L.0,.0L.0,52.5L245.0,52.5z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.0" y="22.3">MemoryRegionCache&lt;byte[]>[] </tspan><tspan style="font-size:10.00pt" x="42.0" y="41.3">smallSubPageHeapCaches</tspan></text></g><g transform="translate(7074.540000,473.840000)" id="shape89"><path stroke="#323232" stroke-width="1" d="M245.0,52.5L245.0,.0L.0,.0L.0,52.5L245.0,52.5z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.0" y="22.3">MemoryRegionCache&lt;ByteBuffer>[] </tspan><tspan style="font-size:10.00pt" x="43.5" y="41.3">tinySubPageDirectCaches</tspan></text></g><g transform="translate(7074.540000,549.840000)" id="shape90"><path stroke="#323232" stroke-width="1" d="M245.0,52.5L245.0,.0L.0,.0L.0,52.5L245.0,52.5z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.0" y="22.3">MemoryRegionCache&lt;ByteBuffer>[] </tspan><tspan style="font-size:10.00pt" x="39.5" y="41.3">smallSubPageDirectCaches</tspan></text></g><g transform="translate(7074.540000,614.090000)" id="shape91"><path stroke="#323232" stroke-width="1" d="M245.0,52.5L245.0,.0L.0,.0L.0,52.5L245.0,52.5z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.0" y="22.3">MemoryRegionCache&lt;byte[]>[] </tspan><tspan style="font-size:10.00pt" x="63.0" y="41.3">normalHeapCaches</tspan></text></g><g transform="translate(7074.540000,681.840000)" id="shape92"><path stroke="#323232" stroke-width="1" d="M245.0,52.5L245.0,.0L.0,.0L.0,52.5L245.0,52.5z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.0" y="22.3">MemoryRegionCache&lt;ByteBuffer>[] </tspan><tspan style="font-size:10.00pt" x="60.5" y="41.3">normalDirectCaches</tspan></text></g><g transform="translate(7533.540000,438.595000)" id="shape93"><path stroke="#323232" stroke-width="1" d="M215.5,67.2L215.5,.0L.0,.0L.0,67.2L215.5,67.2z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="61.3" y="20.5">tinyHeapCache</tspan><tspan style="font-size:10.00pt" x="14.8" y="39.5">SubPageMemoryRegionCache</tspan><tspan style="font-size:10.00pt" x="31.8" y="58.5">数组大小固定 512 >>> 4</tspan></text></g><g transform="translate(7319.540000,368.090000)" id="shape94"><path stroke="#191919" stroke-width="1" d="M.0,.0L186.0,.0L186.0,-73.0L208.0,-73.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M208.0,-76.0L214.0,-73.0L208.0,-70.0L208.0,-76.0" fill="#191919"/><rect width="62.0" height="19.0" x="94.0" y="-19.0" fill="#ffffff"/><rect width="82.0" height="19.0" x="84.0" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="94.0" y="-4.0">tiny类型的</tspan><tspan style="font-size:10.00pt" x="84.0" y="15.0">heap缓存数组</tspan></text></g><g transform="translate(8275.540000,582.340000)" id="group95"><g id="shape96"><path stroke="#323232" stroke-width="1" d="M239.0,182.0L239.0,7.0C239.0,3.1,235.9,.0,232.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,182.0C.0,185.9,3.1,189.0,7.0,189.0L232.0,189.0C235.9,189.0,239.0,185.9,239.0,182.0z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">Entry</tspan></text></g><g transform="translate(20.250000,44.581300)" id="shape97"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="30.3" y="31.8">Handle recyclerHandle</tspan></text></g><g transform="translate(20.250000,113.213000)" id="shape98"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="31.3" y="31.8">PoolChunk&lt;T> chunk</tspan></text></g></g><g transform="translate(7938.040000,393.140000)" id="group99"><g id="shape100"><path stroke="#323232" stroke-width="1" d="M239.0,334.8L239.0,7.0C239.0,3.1,235.9,.0,232.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,334.8C.0,338.7,3.1,341.8,7.0,341.8L232.0,341.8C235.9,341.8,239.0,338.7,239.0,334.8z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">MemoryRegionCache</tspan></text></g><g transform="translate(20.250000,44.300000)" id="shape101"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="78.3" y="22.3">int size</tspan><tspan style="font-size:10.00pt" x="62.8" y="41.3">大小为2的幂</tspan></text></g><g transform="translate(20.250000,108.250000)" id="shape102"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="18.3" y="31.8">Queue&lt;Entry&lt;T>> queue</tspan></text></g><g transform="translate(20.250000,171.800000)" id="shape103"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="43.3" y="31.8">SizeClass sizeClass</tspan></text></g><g transform="translate(20.250000,240.550000)" id="shape104"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="56.8" y="31.8">int allocations</tspan></text></g></g><g transform="translate(7533.540000,527.045000)" id="shape105"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.8" y="22.0">MemoryRegionCache(512B)</tspan></text></g><g transform="translate(7533.540000,558.775000)" id="shape106"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.0">MemoryRegionCache(1K)</tspan></text></g><g transform="translate(7533.540000,590.925000)" id="shape107"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.0">MemoryRegionCache(2K)</tspan></text></g><g transform="translate(7533.540000,622.025000)" id="shape108"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.0">MemoryRegionCache(4K)</tspan></text></g><g transform="translate(7533.540000,653.802800)" id="shape109"><path stroke="#323232" stroke-width="1" d="M215.5,70.5L215.5,.0L.0,.0L.0,70.5L215.5,70.5z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="57.3" y="21.7">smallHeapCache</tspan><tspan style="font-size:10.00pt" x="14.8" y="40.7">SubPageMemoryRegionCache</tspan><tspan style="font-size:10.00pt" x="64.8" y="59.7">数组大小固定4</tspan></text></g><g transform="translate(7533.540000,729.979000)" id="shape110"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.0">MemoryRegionCache(8K)</tspan></text></g><g transform="translate(7533.540000,762.129000)" id="shape111"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.8" y="22.0">MemoryRegionCache(16K)</tspan></text></g><g transform="translate(7533.540000,794.229000)" id="shape112"><path stroke="#323232" stroke-width="1" d="M215.5,32.3L215.5,.0L.0,.0L.0,32.3L215.5,32.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.8" y="22.0">MemoryRegionCache(32K)</tspan></text></g><g transform="translate(7533.540000,825.002700)" id="shape113"><path stroke="#323232" stroke-width="1" d="M215.5,70.5L215.5,.0L.0,.0L.0,70.5L215.5,70.5z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="51.3" y="21.7">normalHeapCache</tspan><tspan style="font-size:10.00pt" x="18.8" y="40.7">NormalMemoryRegionCache</tspan><tspan style="font-size:10.00pt" x="64.8" y="59.7">数组大小固定3</tspan></text></g><g transform="translate(7319.540000,432.340000)" id="shape114"><path stroke="#191919" stroke-width="1" d="M.0,.0L186.0,.0L186.0,111.0L208.0,111.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M208.0,108.0L214.0,111.0L208.0,114.0L208.0,108.0" fill="#191919"/><rect width="70.0" height="19.0" x="64.7" y="-19.0" fill="#ffffff"/><rect width="82.0" height="19.0" x="58.7" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="64.7" y="-4.0">small类型的</tspan><tspan style="font-size:10.00pt" x="58.7" y="15.0">heap缓存数组</tspan></text></g><g transform="translate(7319.540000,640.340000)" id="shape115"><path stroke="#191919" stroke-width="1" d="M.0,.0L186.0,.0L186.0,105.0L208.0,105.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M208.0,102.0L214.0,105.0L208.0,108.0L208.0,102.0" fill="#191919"/><rect width="82.0" height="19.0" x="58.3" y="-19.0" fill="#ffffff"/><rect width="82.0" height="19.0" x="58.3" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="58.3" y="-4.0">normal类型的</tspan><tspan style="font-size:10.00pt" x="58.3" y="15.0">heap缓存数组</tspan></text></g><g transform="translate(7074.540000,745.090000)" id="shape116"><path stroke="#323232" stroke-width="1" d="M245.0,52.5L245.0,.0L.0,.0L.0,52.5L245.0,52.5z" fill-rule="nonzero" fill="#f5cfcf"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="28.5" y="32.0">PoolArena&lt;byte[]> heapArena</tspan></text></g><g transform="translate(7074.540000,809.340000)" id="shape117"><path stroke="#323232" stroke-width="1" d="M245.0,52.5L245.0,.0L.0,.0L.0,52.5L245.0,52.5z" fill-rule="nonzero" fill="#f5cfcf"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="11.0" y="32.0">PoolArena&lt;ByteBuffer> directArena</tspan></text></g><g transform="translate(7163.040000,1017.340000)" id="shape118"><path stroke="#323232" stroke-width="1" d="M239.0,314.0L239.0,7.0C239.0,3.1,235.9,.0,232.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,314.0C.0,317.9,3.1,321.0,7.0,321.0L232.0,321.0C235.9,321.0,239.0,317.9,239.0,314.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolChunkList (q000)</tspan></text></g><g transform="translate(7183.290000,1061.640000)" id="shape119"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#c4e4b4"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolArena&lt;T> arena</tspan></text></g><g transform="translate(7183.290000,1125.590000)" id="shape120"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> nextList</tspan></text></g><g transform="translate(7183.290000,1189.140000)" id="shape121"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolChunk&lt;T> head</tspan></text></g><g transform="translate(7183.290000,1257.890000)" id="shape122"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> prevList</tspan></text></g><g transform="translate(7521.790000,1017.340000)" id="shape123"><path stroke="#323232" stroke-width="1" d="M239.0,314.0L239.0,7.0C239.0,3.1,235.9,.0,232.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,314.0C.0,317.9,3.1,321.0,7.0,321.0L232.0,321.0C235.9,321.0,239.0,317.9,239.0,314.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolChunkList (q025)</tspan></text></g><g transform="translate(7542.040000,1061.640000)" id="shape124"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#c4e4b4"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolArena&lt;T> arena</tspan></text></g><g transform="translate(7542.040000,1125.590000)" id="shape125"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> nextList</tspan></text></g><g transform="translate(7542.040000,1189.140000)" id="shape126"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolChunk&lt;T> head</tspan></text></g><g transform="translate(7542.040000,1257.890000)" id="shape127"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> prevList</tspan></text></g><g transform="translate(7880.540000,1017.340000)" id="shape128"><path stroke="#323232" stroke-width="1" d="M239.0,314.0L239.0,7.0C239.0,3.1,235.9,.0,232.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,314.0C.0,317.9,3.1,321.0,7.0,321.0L232.0,321.0C235.9,321.0,239.0,317.9,239.0,314.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolChunkList (q050)</tspan></text></g><g transform="translate(7900.790000,1061.640000)" id="shape129"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#c4e4b4"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolArena&lt;T> arena</tspan></text></g><g transform="translate(7900.790000,1125.590000)" id="shape130"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> nextList</tspan></text></g><g transform="translate(7900.790000,1189.140000)" id="shape131"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolChunk&lt;T> head</tspan></text></g><g transform="translate(7900.790000,1257.890000)" id="shape132"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> prevList</tspan></text></g><g transform="translate(8215.540000,1017.340000)" id="shape133"><path stroke="#323232" stroke-width="1" d="M239.0,314.0L239.0,7.0C239.0,3.1,235.9,.0,232.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,314.0C.0,317.9,3.1,321.0,7.0,321.0L232.0,321.0C235.9,321.0,239.0,317.9,239.0,314.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolChunkList (q075)</tspan></text></g><g transform="translate(8235.790000,1061.640000)" id="shape134"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#c4e4b4"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolArena&lt;T> arena</tspan></text></g><g transform="translate(8235.790000,1125.590000)" id="shape135"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> nextList</tspan></text></g><g transform="translate(8235.790000,1189.140000)" id="shape136"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolChunk&lt;T> head</tspan></text></g><g transform="translate(8235.790000,1257.890000)" id="shape137"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> prevList</tspan></text></g><g transform="translate(6508.520000,1017.340000)" id="shape138"><path stroke="#323232" stroke-width="1" d="M487.1,579.0L487.1,7.0C487.1,3.1,484.0,.0,480.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,579.0C.0,582.9,3.1,586.0,7.0,586.0L480.1,586.0C484.0,586.0,487.1,582.9,487.1,579.0z" fill-rule="nonzero" fill="#c4e4b4"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.1" y="19.0">PoolArena</tspan></text></g><g transform="translate(6727.430000,1063.860000)" id="shape139"><path stroke="#323232" stroke-width="1" d="M239.0,52.5L239.0,.0L.0,.0L.0,52.5L239.0,52.5z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="44.0" y="22.3">PoolChunkList&lt;T> q050</tspan><tspan style="font-size:10.00pt" x="38.5" y="41.3">内存使用率在50-100%之间</tspan></text></g><g transform="translate(6727.430000,1127.810000)" id="shape140"><path stroke="#323232" stroke-width="1" d="M239.0,52.5L239.0,.0L.0,.0L.0,52.5L239.0,52.5z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="44.0" y="22.3">PoolChunkList&lt;T> q025</tspan><tspan style="font-size:10.00pt" x="42.5" y="41.3">内存使用率在25-75%之间</tspan></text></g><g transform="translate(6727.430000,1191.360000)" id="shape141"><path stroke="#323232" stroke-width="1" d="M239.0,52.5L239.0,.0L.0,.0L.0,52.5L239.0,52.5z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="44.0" y="22.3">PoolChunkList&lt;T> q000</tspan><tspan style="font-size:10.00pt" x="46.5" y="41.3">内存使用率在1-50%之间</tspan></text></g><g transform="translate(6727.430000,1260.110000)" id="shape142"><path stroke="#323232" stroke-width="1" d="M239.0,52.5L239.0,.0L.0,.0L.0,52.5L239.0,52.5z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="46.0" y="22.3">PoolChunkList&lt;T> qInit</tspan><tspan style="font-size:10.00pt" x="46.5" y="41.3">内存使用率在0-25%之间</tspan></text></g><g transform="translate(6727.430000,1323.840000)" id="shape143"><path stroke="#323232" stroke-width="1" d="M233.9,52.5L233.9,.0L.0,.0L.0,52.5L233.9,52.5z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="41.5" y="22.3">PoolChunkList&lt;T> q075</tspan><tspan style="font-size:10.00pt" x="36.0" y="41.3">内存使用率在75-100%之间</tspan></text></g><g transform="translate(6727.430000,1385.840000)" id="shape144"><path stroke="#323232" stroke-width="1" d="M233.9,52.5L233.9,.0L.0,.0L.0,52.5L233.9,52.5z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="41.5" y="22.3">PoolChunkList&lt;T> q100</tspan><tspan style="font-size:10.00pt" x="53.5" y="41.3">内存使用率等于100%</tspan></text></g><g transform="translate(7074.540000,784.465000)" id="shape145"><path stroke="#191919" stroke-width="1" d="M.0,.0L-321.0,.0L-321.0,227.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-318.0,227.0L-321.0,233.0L-324.0,227.0L-318.0,227.0" fill="#191919"/></g><g transform="translate(8543.040000,1017.340000)" id="shape146"><path stroke="#323232" stroke-width="1" d="M239.0,314.0L239.0,7.0C239.0,3.1,235.9,.0,232.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,314.0C.0,317.9,3.1,321.0,7.0,321.0L232.0,321.0C235.9,321.0,239.0,317.9,239.0,314.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolChunkList (q100)</tspan></text></g><g transform="translate(8563.290000,1061.640000)" id="shape147"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#c4e4b4"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolArena&lt;T> arena</tspan></text></g><g transform="translate(8563.290000,1125.590000)" id="shape148"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> nextList</tspan></text></g><g transform="translate(8563.290000,1189.140000)" id="shape149"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="31.8">PoolChunk&lt;T> head</tspan></text></g><g transform="translate(8563.290000,1257.890000)" id="shape150"><path stroke="#323232" stroke-width="1" d="M198.5,52.5L198.5,.0L.0,.0L.0,52.5L198.5,52.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.8" y="31.8">PoolChunkList&lt;T> prevList</tspan></text></g><g transform="translate(8563.290000,1284.140000)" id="shape151"><path stroke="#191919" stroke-width="1" d="M.0,.0L-81.0,.0L-81.0,-17.0L-103.0,-17.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-103.0,-14.0L-109.0,-17.0L-103.0,-20.0L-103.0,-14.0" fill="#191919"/></g><g transform="translate(8235.790000,1284.140000)" id="shape152"><path stroke="#191919" stroke-width="1" d="M.0,.0L-88.0,.0L-88.0,-17.0L-110.0,-17.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-110.0,-14.0L-116.0,-17.0L-110.0,-20.0L-110.0,-14.0" fill="#191919"/></g><g transform="translate(7900.790000,1284.140000)" id="shape153"><path stroke="#191919" stroke-width="1" d="M.0,.0L-112.0,.0L-112.0,-17.0L-134.0,-17.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-134.0,-14.0L-140.0,-17.0L-134.0,-20.0L-134.0,-14.0" fill="#191919"/></g><g transform="translate(7542.040000,1284.140000)" id="shape154"><path stroke="#191919" stroke-width="1" d="M.0,.0L-112.0,.0L-112.0,-17.0L-134.0,-17.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-134.0,-14.0L-140.0,-17.0L-134.0,-20.0L-134.0,-14.0" fill="#191919"/></g><g transform="translate(7163.040000,1138.540000)" id="shape155"><path stroke="#191919" stroke-width="1" d="M.0,.0L-113.0,.0L-113.0,79.1L-190.6,79.1" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-190.6,82.1L-196.6,79.1L-190.6,76.1L-190.6,82.1" fill="#191919"/></g><g transform="translate(6625.212000,1452.340000)" id="shape156"><path stroke="#323232" stroke-width="1" d="M336.1,52.5L336.1,.0L.0,.0L.0,52.5L336.1,52.5z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="53.1" y="31.8">PoolSubpage&lt;T>[] tinySubpagePools</tspan></text></g><g transform="translate(6625.212000,1520.090000)" id="shape157"><path stroke="#323232" stroke-width="1" d="M336.1,52.5L336.1,.0L.0,.0L.0,52.5L336.1,52.5z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.1" y="31.8">PoolSubpage&lt;T>[] smallSubpagePools</tspan></text></g><g transform="translate(7740.540000,1151.840000)" id="shape158"><path stroke="#191919" stroke-width="1" d="M.0,.0L112.0,.0L112.0,-8.0L134.0,-8.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M134.0,-11.0L140.0,-8.0L134.0,-5.0L134.0,-11.0" fill="#191919"/></g><g transform="translate(8099.290000,1151.840000)" id="shape159"><path stroke="#191919" stroke-width="1" d="M.0,.0L101.0,.0L101.0,-8.0L109.0,-8.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M109.0,-11.0L115.0,-8.0L109.0,-5.0L109.0,-11.0" fill="#191919"/></g><g transform="translate(8434.290000,1151.840000)" id="shape160"><path stroke="#191919" stroke-width="1" d="M.0,.0L80.0,.0L80.0,-8.0L102.0,-8.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M102.0,-11.0L108.0,-8.0L102.0,-5.0L102.0,-11.0" fill="#191919"/></g><g transform="translate(7381.790000,1151.840000)" id="shape161"><path stroke="#191919" stroke-width="1" d="M.0,.0L112.0,.0L112.0,-8.0L134.0,-8.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M134.0,-11.0L140.0,-8.0L134.0,-5.0L134.0,-11.0" fill="#191919"/></g><g transform="translate(7183.290000,1087.840000)" id="shape162"><path stroke="#191919" stroke-width="1" d="M.0,.0L-182.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-182.0,3.0L-188.0,.0L-182.0,-3.0L-182.0,3.0" fill="#191919"/></g><g transform="translate(8981.520000,745.170000)" id="shape163"><path stroke="#323232" stroke-width="1" d="M239.0,369.3L239.0,.0L.0,.0L.0,369.3L239.0,369.3z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolChunk</tspan></text></g><g transform="translate(9001.770000,774.925000)" id="shape164"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#c4e4b4"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="22.8">PoolArena&lt;T> arena</tspan></text></g><g transform="translate(9001.770000,816.425000)" id="shape165"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="68.3" y="23.0">T memory</tspan></text></g><g transform="translate(9001.770000,858.175000)" id="shape166"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="71.3" y="23.0">int offset</tspan></text></g><g transform="translate(9001.770000,898.925000)" id="shape167"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="23.0">byte[] memoryMap</tspan></text></g><g transform="translate(9001.770000,944.925000)" id="shape168"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="47.8" y="23.0">byte[] depthMap</tspan></text></g><g transform="translate(9001.770000,988.930000)" id="shape169"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.3" y="23.0">PoolSubpage&lt;T>[] subpages</tspan></text></g><g transform="translate(9001.770000,1029.180000)" id="shape170"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.8" y="23.0">PoolChunk&lt;T> prev</tspan></text></g><g transform="translate(9001.770000,1071.180000)" id="shape171"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.8" y="23.0">PoolChunk&lt;T> next</tspan></text></g><g transform="translate(9340.270000,745.170000)" id="shape172"><path stroke="#323232" stroke-width="1" d="M239.0,369.3L239.0,.0L.0,.0L.0,369.3L239.0,369.3z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolChunk</tspan></text></g><g transform="translate(9360.520000,774.915000)" id="shape173"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#c4e4b4"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="22.8">PoolArena&lt;T> arena</tspan></text></g><g transform="translate(9360.520000,816.415000)" id="shape174"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="68.3" y="23.0">T memory</tspan></text></g><g transform="translate(9360.520000,858.165000)" id="shape175"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="71.3" y="23.0">int offset</tspan></text></g><g transform="translate(9360.520000,898.915000)" id="shape176"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="23.0">byte[] memoryMap</tspan></text></g><g transform="translate(9360.520000,944.915000)" id="shape177"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="47.8" y="23.0">byte[] depthMap</tspan></text></g><g transform="translate(9360.520000,988.920000)" id="shape178"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.3" y="23.0">PoolSubpage&lt;T>[] subpages</tspan></text></g><g transform="translate(9360.520000,1029.170000)" id="shape179"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.8" y="23.0">PoolChunk&lt;T> prev</tspan></text></g><g transform="translate(9360.520000,1071.170000)" id="shape180"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.8" y="23.0">PoolChunk&lt;T> next</tspan></text></g><g transform="translate(9699.020000,745.170000)" id="shape181"><path stroke="#323232" stroke-width="1" d="M239.0,369.3L239.0,.0L.0,.0L.0,369.3L239.0,369.3z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolChunk</tspan></text></g><g transform="translate(9719.270000,774.915000)" id="shape182"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#c4e4b4"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="22.8">PoolArena&lt;T> arena</tspan></text></g><g transform="translate(9719.270000,816.415000)" id="shape183"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="68.3" y="23.0">T memory</tspan></text></g><g transform="translate(9719.270000,858.165000)" id="shape184"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="71.3" y="23.0">int offset</tspan></text></g><g transform="translate(9719.270000,898.915000)" id="shape185"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="23.0">byte[] memoryMap</tspan></text></g><g transform="translate(9719.270000,944.915000)" id="shape186"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="47.8" y="23.0">byte[] depthMap</tspan></text></g><g transform="translate(9719.270000,988.920000)" id="shape187"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.3" y="23.0">PoolSubpage&lt;T>[] subpages</tspan></text></g><g transform="translate(9719.270000,1029.170000)" id="shape188"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.8" y="23.0">PoolChunk&lt;T> prev</tspan></text></g><g transform="translate(9719.270000,1071.170000)" id="shape189"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.8" y="23.0">PoolChunk&lt;T> next</tspan></text></g><g transform="translate(9200.270000,1088.430000)" id="shape190"><path stroke="#191919" stroke-width="1" d="M.0,.0L133.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M133.0,-3.0L139.0,.0L133.0,3.0L133.0,-3.0" fill="#191919"/></g><g transform="translate(9360.520000,1046.420000)" id="shape191"><path stroke="#191919" stroke-width="1" d="M.0,.0L-134.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-134.0,3.0L-140.0,.0L-134.0,-3.0L-134.0,3.0" fill="#191919"/></g><g transform="translate(9559.020000,1088.420000)" id="shape192"><path stroke="#191919" stroke-width="1" d="M.0,.0L133.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M133.0,-3.0L139.0,.0L133.0,3.0L133.0,-3.0" fill="#191919"/></g><g transform="translate(9719.270000,1046.420000)" id="shape193"><path stroke="#191919" stroke-width="1" d="M.0,.0L-134.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-134.0,3.0L-140.0,.0L-134.0,-3.0L-134.0,3.0" fill="#191919"/></g><g transform="translate(8981.520000,1175.805000)" id="shape194"><path stroke="#323232" stroke-width="1" d="M239.0,369.3L239.0,.0L.0,.0L.0,369.3L239.0,369.3z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(9001.770000,1205.550000)" id="shape195"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="31.3" y="23.0">PoolChunk&lt;T> chunk</tspan></text></g><g transform="translate(9001.770000,1247.050000)" id="shape196"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="23.0">int memoryMapIdx</tspan></text></g><g transform="translate(9001.770000,1288.800000)" id="shape197"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="23.0">int runOffset</tspan></text></g><g transform="translate(9001.770000,1329.550000)" id="shape198"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="23.0">int pageSize</tspan></text></g><g transform="translate(9001.770000,1375.550000)" id="shape199"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="58.3" y="23.0">long[] bitmap</tspan></text></g><g transform="translate(9001.770000,1419.550000)" id="shape200"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.8" y="23.0">int elemSize</tspan></text></g><g transform="translate(9001.770000,1459.800000)" id="shape201"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="23.0">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(9001.770000,1501.800000)" id="shape202"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="23.0">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(9200.270000,1519.050000)" id="shape203"><path stroke="#191919" stroke-width="1" d="M.0,.0L133.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M133.0,-3.0L139.0,.0L133.0,3.0L133.0,-3.0" fill="#191919"/></g><g transform="translate(9360.520000,1477.040000)" id="shape204"><path stroke="#191919" stroke-width="1" d="M.0,.0L-134.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-134.0,3.0L-140.0,.0L-134.0,-3.0L-134.0,3.0" fill="#191919"/></g><g transform="translate(9001.770000,1006.180000)" id="shape205"><path stroke="#191919" stroke-width="1" d="M.0,.0L-48.0,.0L-48.0,229.0L-26.0,229.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-26.0,226.0L-20.0,229.0L-26.0,232.0L-26.0,226.0" fill="#191919"/></g><g transform="translate(9340.270000,1175.805000)" id="shape206"><path stroke="#323232" stroke-width="1" d="M239.0,369.3L239.0,.0L.0,.0L.0,369.3L239.0,369.3z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(9360.520000,1205.540000)" id="shape207"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="31.3" y="23.0">PoolChunk&lt;T> chunk</tspan></text></g><g transform="translate(9360.520000,1247.040000)" id="shape208"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="23.0">int memoryMapIdx</tspan></text></g><g transform="translate(9360.520000,1288.790000)" id="shape209"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="23.0">int runOffset</tspan></text></g><g transform="translate(9360.520000,1329.540000)" id="shape210"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="23.0">int pageSize</tspan></text></g><g transform="translate(9360.520000,1375.540000)" id="shape211"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="58.3" y="23.0">long[] bitmap</tspan></text></g><g transform="translate(9360.520000,1419.540000)" id="shape212"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.8" y="23.0">int elemSize</tspan></text></g><g transform="translate(9360.520000,1459.790000)" id="shape213"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="23.0">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(9360.520000,1501.790000)" id="shape214"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="23.0">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(9699.020000,1175.805000)" id="shape215"><path stroke="#323232" stroke-width="1" d="M239.0,369.3L239.0,.0L.0,.0L.0,369.3L239.0,369.3z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(9719.270000,1205.540000)" id="shape216"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="31.3" y="23.0">PoolChunk&lt;T> chunk</tspan></text></g><g transform="translate(9719.270000,1247.040000)" id="shape217"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="23.0">int memoryMapIdx</tspan></text></g><g transform="translate(9719.270000,1288.790000)" id="shape218"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="23.0">int runOffset</tspan></text></g><g transform="translate(9719.270000,1329.540000)" id="shape219"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="23.0">int pageSize</tspan></text></g><g transform="translate(9719.270000,1375.540000)" id="shape220"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="58.3" y="23.0">long[] bitmap</tspan></text></g><g transform="translate(9719.270000,1419.540000)" id="shape221"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.8" y="23.0">int elemSize</tspan></text></g><g transform="translate(9719.270000,1459.790000)" id="shape222"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="23.0">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(9719.270000,1501.790000)" id="shape223"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="23.0">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(9559.020000,1519.040000)" id="shape224"><path stroke="#191919" stroke-width="1" d="M.0,.0L133.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M133.0,-3.0L139.0,.0L133.0,3.0L133.0,-3.0" fill="#191919"/></g><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,.0" transform="translate(9037.100000,1205.550000)" fill="none" id="shape225"/><g transform="translate(9719.270000,1477.040000)" id="shape226"><path stroke="#191919" stroke-width="1" d="M.0,.0L-134.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-134.0,3.0L-140.0,.0L-134.0,-3.0L-134.0,3.0" fill="#191919"/></g><g transform="translate(9200.270000,1222.800000)" id="shape227"><path stroke="#191919" stroke-width="1" d="M.0,.0L26.0,.0L26.0,-80.0L19.0,-80.0L19.0,-102.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M16.0,-102.0L19.0,-108.0L22.0,-102.0L16.0,-102.0" fill="#191919"/></g><g transform="translate(5650.580000,412.359000)" id="shape228"><path stroke="#323232" stroke-width="1" d="M273.0,53.0L273.0,7.0C273.0,3.1,269.9,.0,266.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L266.0,60.0C269.9,60.0,273.0,56.9,273.0,53.0z" fill-rule="nonzero" fill="#ca3d3e"/><text xml:space="preserve" style="fill:#ffbf28;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:17.50pt;font-weight:bold"><tspan style="font-size:14.00pt" x="29.0" y="24.0">PoolThreadLocalCache </tspan><tspan style="font-size:14.00pt" x="74.0" y="50.0">threadCache;</tspan></text></g><g transform="translate(7749.040000,558.775000)" id="shape229"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,-2.0L161.0,-2.0L161.0,6.0L183.0,6.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M183.0,3.0L189.0,6.0L183.0,9.0L183.0,3.0" fill="#191919"/><rect width="93.0" height="19.0" x="38.9" y="-21.0" fill="#ffffff"/><rect width="53.0" height="19.0" x="58.9" y="-2.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="38.9" y="-6.0">sizeClass: Small</tspan><tspan style="font-size:10.00pt" x="58.9" y="13.0">size: 256</tspan></text></g><g transform="translate(7749.040000,748.648000)" id="shape230"><path stroke="#191919" stroke-width="1" d="M.0,.0L160.0,.0L160.0,-40.0L182.0,-40.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M182.0,-43.0L188.0,-40.0L182.0,-37.0L182.0,-43.0" fill="#191919"/><rect width="106.0" height="19.0" x="28.0" y="-19.0" fill="#ffffff"/><rect width="45.0" height="19.0" x="58.5" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="28.0" y="-4.0">sizeClass: Normal</tspan><tspan style="font-size:10.00pt" x="58.5" y="15.0">size: 64</tspan></text></g><g transform="matrix(0.000000,-1.000000,-1.000000,0.000000,9928.520000,708.840000)" id="shape231"><path stroke="#e54648" stroke-width="5.3333301544189453" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,464.5C17.6,466.9,18.5,469.4,20.2,471.2C22.0,473.0,24.5,473.8,27.0,473.5C24.5,473.1,22.0,473.9,20.2,475.7C18.5,477.5,17.6,480.0,18.0,482.5L18.0,937.9C18.4,940.4,17.5,942.9,15.8,944.7C14.0,946.4,11.5,947.3,9.0,946.9L.0,946.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt" transform="matrix(0.00,-1.00,-1.00,0.00,527.5,527.5)"><tspan style="font-size:10.00pt" x="-86.5" y="469.5">每个ChunkList里包含的Chunk数量会动态变化，</tspan><tspan style="font-size:10.00pt" x="-131.0" y="488.5">比如当该chunk的内存利用率变化时会向其它ChunkList里移动。</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,9928.520000,1576.340000)" id="shape232"><path stroke="#e54648" stroke-width="5.3333301544189453" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,464.5C17.6,466.9,18.5,469.4,20.2,471.2C22.0,473.0,24.5,473.8,27.0,473.5C24.5,473.1,22.0,473.9,20.2,475.7C18.5,477.5,17.6,480.0,18.0,482.5L18.0,937.9C18.4,940.4,17.5,942.9,15.8,944.7C14.0,946.4,11.5,947.3,9.0,946.9L.0,946.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt" transform="matrix(0.00,-1.00,1.00,0.00,-428.5,518.5)"><tspan style="font-size:10.00pt" x="-57.0" y="479.0">每个Chunk里默认包含2048个Page</tspan></text></g><g transform="translate(7074.540000,758.898000)" id="shape233"><path stroke="#eb8989" stroke-width="5.3333301544189453" d="M.0,.0L-553.0,.0L-553.0,-1.4L-1118.1,-1.4" fill="none"/><path stroke="#eb8989" stroke-width="1" stroke-linecap="round" d="M-1118.1,5.5L-1132.0,-1.4L-1118.1,-8.3L-1118.1,5.5" fill="#eb8989"/><rect width="128.0" height="19.0" x="-658.2" y="-10.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-658.2" y="4.1">获取到PoolArena引用</tspan></text></g><g transform="translate(1617.020000,62.785000)" id="table234"><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,.0L179.2,.0L179.2,372.0L.0,372.0L.0,.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="9.0" y="190.5">ByteBufAllocator</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,.0L540.4,.0L540.4,68.0L179.2,68.0L179.2,.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="20.5">buffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="39.5">buffer(int initialCapacity)</tspan><tspan style="font-size:10.00pt" x="188.2" y="58.5">buffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,.0L1058.0,.0L1058.0,68.0L540.4,68.0L540.4,.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="30.0">分配一个ByteBuf</tspan><tspan style="font-size:10.00pt" x="549.4" y="49.0">但是分配的是direct还是heap的取决于底层实现</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,68.0L540.4,68.0L540.4,136.0L179.2,136.0L179.2,68.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="88.5">ioBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="107.5">ioBuffer(int initialCapacity)</tspan><tspan style="font-size:10.00pt" x="188.2" y="126.5">ioBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,68.0L1058.0,68.0L1058.0,136.0L540.4,136.0L540.4,68.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="98.0">分配一个ByteBuf</tspan><tspan style="font-size:10.00pt" x="549.4" y="117.0">但是这种方式分为了适应在IO中使用分配出来的应该是一个direct类型的</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,136.0L540.4,136.0L540.4,204.0L179.2,204.0L179.2,136.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="156.5">heapBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="175.5">heapBuffer(int initialCapacity)</tspan><tspan style="font-size:10.00pt" x="188.2" y="194.5">heapBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,136.0L1058.0,136.0L1058.0,204.0L540.4,204.0L540.4,136.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="175.5">分配一个heap类型的ByteBuf</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,204.0L540.4,204.0L540.4,272.0L179.2,272.0L179.2,204.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="224.5">directBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="243.5">directBuffer(int initialCapacity)</tspan><tspan style="font-size:10.00pt" x="188.2" y="262.5">directBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,204.0L1058.0,204.0L1058.0,272.0L540.4,272.0L540.4,204.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="243.5">分配一个direct类型的ByteBuf</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,272.0L540.4,272.0L540.4,322.0L179.2,322.0L179.2,272.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="293.0">compositeHeapBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="312.0">compositeHeapBuffer(int maxNumComponents)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,272.0L1058.0,272.0L1058.0,322.0L540.4,322.0L540.4,272.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,322.0L540.4,322.0L540.4,372.0L179.2,372.0L179.2,322.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="343.0">compositeDirectBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="362.0">compositeDirectBuffer(int maxNumComponents)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,322.0L1058.0,322.0L1058.0,372.0L540.4,372.0L540.4,322.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,372.0L179.2,372.0L179.2,744.0L.0,744.0L.0,372.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="9.0" y="562.5">AbstractByteBufAllocator</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,372.0L540.4,372.0L540.4,440.0L179.2,440.0L179.2,372.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="392.5">buffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="411.5">buffer(int initialCapacity)</tspan><tspan style="font-size:10.00pt" x="188.2" y="430.5">buffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,372.0L1058.0,372.0L1058.0,440.0L540.4,440.0L540.4,372.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="411.5">由directByDefault参数决定是调用heapBuffer()还是调用directBuffer()</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,440.0L540.4,440.0L540.4,508.0L179.2,508.0L179.2,440.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="460.5">ioBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="479.5">ioBuffer(int initialCapacity)</tspan><tspan style="font-size:10.00pt" x="188.2" y="498.5">ioBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,440.0L1058.0,440.0L1058.0,508.0L540.4,508.0L540.4,440.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="470.0">由PlatformDependent.hasUnsafe()出参</tspan><tspan style="font-size:10.00pt" x="549.4" y="489.0">决定是调用heapBuffer()还是调用directBuffer()</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,508.0L540.4,508.0L540.4,576.0L179.2,576.0L179.2,508.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="528.5">heapBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="547.5">heapBuffer(int initialCapacity)</tspan><tspan style="font-size:10.00pt" x="188.2" y="566.5">heapBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,508.0L1058.0,508.0L1058.0,576.0L540.4,576.0L540.4,508.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="547.5">调用abstract ByteBuf newHeapBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,576.0L540.4,576.0L540.4,644.0L179.2,644.0L179.2,576.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="596.5">directBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="615.5">directBuffer(int initialCapacity)</tspan><tspan style="font-size:10.00pt" x="188.2" y="634.5">directBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,576.0L1058.0,576.0L1058.0,644.0L540.4,644.0L540.4,576.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="615.5">调用abstract ByteBuf newDirectBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,644.0L540.4,644.0L540.4,694.0L179.2,694.0L179.2,644.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="665.0">compositeHeapBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="684.0">compositeHeapBuffer(int maxNumComponents)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,644.0L1058.0,644.0L1058.0,694.0L540.4,694.0L540.4,644.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="674.5">new CompositeByteBuf(this, false, maxNumComponents)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,694.0L540.4,694.0L540.4,744.0L179.2,744.0L179.2,694.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="715.0">compositeDirectBuffer()</tspan><tspan style="font-size:10.00pt" x="188.2" y="734.0">compositeDirectBuffer(int maxNumComponents)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,694.0L1058.0,694.0L1058.0,744.0L540.4,744.0L540.4,694.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="724.5">new CompositeByteBuf(this, true, maxNumComponents)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,744.0L179.2,744.0L179.2,1186.0L.0,1186.0L.0,744.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="9.0" y="969.5">PooledByteBufAllocator</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,744.0L540.4,744.0L540.4,956.0L179.2,956.0L179.2,744.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="855.5">newHeapBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,744.0L1058.0,744.0L1058.0,956.0L540.4,956.0L540.4,744.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="760.5">PoolThreadCache cache = threadCache.get();</tspan><tspan style="font-size:10.00pt" x="549.4" y="779.5">PoolArena&lt;byte[]> heapArena = cache.heapArena;</tspan><tspan style="font-size:10.00pt" x="549.4" y="817.5">final ByteBuf buf;</tspan><tspan style="font-size:10.00pt" x="549.4" y="836.5">if (heapArena != null) {</tspan><tspan style="font-size:10.00pt" x="549.4" y="855.5">    buf = heapArena.allocate(cache, initialCapacity, maxCapacity);</tspan><tspan style="font-size:10.00pt" x="549.4" y="874.5">} else {</tspan><tspan style="font-size:10.00pt" x="549.4" y="893.5">    buf = PlatformDependent.hasUnsafe() ?</tspan><tspan style="font-size:10.00pt" x="549.4" y="912.5">            new UnpooledUnsafeHeapByteBuf(this, initialCapacity, maxCapacity) :</tspan><tspan style="font-size:10.00pt" x="549.4" y="931.5">            new UnpooledHeapByteBuf(this, initialCapacity, maxCapacity);</tspan><tspan style="font-size:10.00pt" x="549.4" y="950.5">}</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,956.0L540.4,956.0L540.4,1186.0L179.2,1186.0L179.2,956.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="1076.5">newDirectBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,956.0L1058.0,956.0L1058.0,1186.0L540.4,1186.0L540.4,956.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="972.0">PoolThreadCache cache = threadCache.get();</tspan><tspan style="font-size:10.00pt" x="549.4" y="991.0">PoolArena&lt;ByteBuffer> directArena = cache.directArena;</tspan><tspan style="font-size:10.00pt" x="549.4" y="1029.0">final ByteBuf buf;</tspan><tspan style="font-size:10.00pt" x="549.4" y="1048.0">if (directArena != null) {</tspan><tspan style="font-size:10.00pt" x="549.4" y="1067.0">    buf = directArena.allocate(cache, initialCapacity, maxCapacity);</tspan><tspan style="font-size:10.00pt" x="549.4" y="1086.0">} else {</tspan><tspan style="font-size:10.00pt" x="549.4" y="1105.0">    buf = PlatformDependent.hasUnsafe() ?</tspan><tspan style="font-size:10.00pt" x="549.4" y="1124.0">            UnsafeByteBufUtil.newUnsafeDirectByteBuf(this, initialCapacity, </tspan><tspan style="font-size:10.00pt" x="549.4" y="1143.0">maxCapacity) :</tspan><tspan style="font-size:10.00pt" x="549.4" y="1162.0">            new UnpooledDirectByteBuf(this, initialCapacity, maxCapacity);</tspan><tspan style="font-size:10.00pt" x="549.4" y="1181.0">}</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,1186.0L179.2,1186.0L179.2,1484.0L.0,1484.0L.0,1186.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="9.0" y="1339.5">UnpooledByteBufAllocator</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,1186.0L540.4,1186.0L540.4,1290.0L179.2,1290.0L179.2,1186.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="1243.5">newHeapBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,1186.0L1058.0,1186.0L1058.0,1290.0L540.4,1290.0L540.4,1186.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="1205.5">return PlatformDependent.hasUnsafe() ?</tspan><tspan style="font-size:10.00pt" x="549.4" y="1224.5">                new InstrumentedUnpooledUnsafeHeapByteBuf(this, initialCapacity, </tspan><tspan style="font-size:10.00pt" x="549.4" y="1243.5">maxCapacity) :</tspan><tspan style="font-size:10.00pt" x="549.4" y="1262.5">                new InstrumentedUnpooledHeapByteBuf(this, initialCapacity, </tspan><tspan style="font-size:10.00pt" x="549.4" y="1281.5">maxCapacity);</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M179.2,1290.0L540.4,1290.0L540.4,1484.0L179.2,1484.0L179.2,1290.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="188.2" y="1392.5">newDirectBuffer(int initialCapacity, int maxCapacity)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M540.4,1290.0L1058.0,1290.0L1058.0,1484.0L540.4,1484.0L540.4,1290.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="549.4" y="1307.0">if (PlatformDependent.hasUnsafe()) {</tspan><tspan style="font-size:10.00pt" x="549.4" y="1326.0">            buf = noCleaner ? new </tspan><tspan style="font-size:10.00pt" x="549.4" y="1345.0">InstrumentedUnpooledUnsafeNoCleanerDirectByteBuf(this, initialCapacity, </tspan><tspan style="font-size:10.00pt" x="549.4" y="1364.0">maxCapacity) :</tspan><tspan style="font-size:10.00pt" x="549.4" y="1383.0">                    new InstrumentedUnpooledUnsafeDirectByteBuf(this, </tspan><tspan style="font-size:10.00pt" x="549.4" y="1402.0">initialCapacity, maxCapacity);</tspan><tspan style="font-size:10.00pt" x="549.4" y="1421.0">        } else {</tspan><tspan style="font-size:10.00pt" x="549.4" y="1440.0">            buf = new InstrumentedUnpooledDirectByteBuf(this, initialCapacity, </tspan><tspan style="font-size:10.00pt" x="549.4" y="1459.0">maxCapacity);</tspan><tspan style="font-size:10.00pt" x="549.4" y="1478.0">        }</tspan></text></g></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,6208.590000,2419.740000)" id="group235"><g id="group236"><path stroke="#323232" stroke-width="1" d="M.0,.0L1483.7,.0L1483.7,1493.0L.0,1493.0L.0,.0z" fill-rule="nonzero" fill="#ebebeb" id="shape237"/><g transform="matrix(0.000000,-1.000000,1.000000,0.000000,-0.000000,1493.000000)" id="shape238"><path stroke="#323232" stroke-width="1" d="M.0,.0L1493.0,.0L1493.0,56.7L.0,56.7L.0,.0z" fill-rule="nonzero" fill="#ebebeb"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="715.0" y="34.0">PoolArena</tspan></text></g></g></g><g transform="translate(102.520000,33.055000)" id="table239"><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,.0L157.6,.0L157.6,996.0L.0,996.0L.0,.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="9.0" y="502.5">PooledByteBufAllocator</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,.0L583.0,.0L583.0,40.0L157.6,40.0L157.6,.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="25.5">DEFAULT_NUM_HEAP_ARENA</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,.0L1283.0,.0L1283.0,40.0L583.0,40.0L583.0,.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="25.5">如果io.netty.allocator.numHeapArenas 系统属性没设置，则大小取： 核数 * 2</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,40.0L583.0,40.0L583.0,80.0L157.6,80.0L157.6,40.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="65.5">DEFAULT_NUM_DIRECT_ARENA</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,40.0L1283.0,40.0L1283.0,80.0L583.0,80.0L583.0,40.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="65.5">如果io.netty.allocator.numDirectArenas 系统属性没设置，则大小取： 核数 * 2</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,80.0L583.0,80.0L583.0,130.0L157.6,130.0L157.6,80.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="110.5">DEFAULT_PAGE_SIZE</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,80.0L1283.0,80.0L1283.0,130.0L583.0,130.0L583.0,80.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="101.0">如果io.netty.allocator.pageSize 系统属性没设置，则大小取： 8192</tspan><tspan style="font-size:10.00pt" x="592.0" y="120.0">如果设置了则会对其进行页对齐检查，如果是非对齐 ，则重新设置成：8192</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,130.0L583.0,130.0L583.0,180.0L157.6,180.0L157.6,130.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="160.5">DEFAULT_MAX_ORDER</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,130.0L1283.0,130.0L1283.0,180.0L583.0,180.0L583.0,130.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="151.0">如果io.netty.allocator.maxOrder 系统属性没设置，则大小取： 11</tspan><tspan style="font-size:10.00pt" x="592.0" y="170.0">如果设置了则会对其进行检查，如果检查失败 ，则重新设置成：11</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,180.0L583.0,180.0L583.0,220.0L157.6,220.0L157.6,180.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="205.5">DEFAULT_TINY_CACHE_SIZE</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,180.0L1283.0,180.0L1283.0,220.0L583.0,220.0L583.0,180.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="205.5">如果io.netty.allocator.tinyCacheSize 系统属性没设置，则大小取： 512</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,220.0L583.0,220.0L583.0,260.0L157.6,260.0L157.6,220.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="245.5">DEFAULT_SMALL_CACHE_SIZE</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,220.0L1283.0,220.0L1283.0,260.0L583.0,260.0L583.0,220.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="245.5">如果io.netty.allocator.smallCacheSize 系统属性没设置，则大小取： 256</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,260.0L583.0,260.0L583.0,300.0L157.6,300.0L157.6,260.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="285.5">DEFAULT_NORMAL_CACHE_SIZE</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,260.0L1283.0,260.0L1283.0,300.0L583.0,300.0L583.0,260.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="285.5">如果io.netty.allocator.normalCacheSize 系统属性没设置，则大小取： 64</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,300.0L583.0,300.0L583.0,340.0L157.6,340.0L157.6,300.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="325.5">DEFAULT_MAX_CACHED_BUFFER_CAPACITY</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,300.0L1283.0,300.0L1283.0,340.0L583.0,340.0L583.0,300.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="325.5">如果io.netty.allocator.maxCachedBufferCapacity 系统属性没设置，则大小取： 32 * 1024</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,340.0L583.0,340.0L583.0,380.0L157.6,380.0L157.6,340.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="365.5">DEFAULT_CACHE_TRIM_INTERVAL</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,340.0L1283.0,340.0L1283.0,380.0L583.0,380.0L583.0,340.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="365.5">如果io.netty.allocator.cacheTrimInterval 系统属性没设置，则大小取：8192</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,380.0L583.0,380.0L583.0,420.0L157.6,420.0L157.6,380.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="405.5">DEFAULT_USE_CACHE_FOR_ALL_THREADS</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,380.0L1283.0,380.0L1283.0,420.0L583.0,420.0L583.0,380.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="405.5">如果io.netty.allocator.useCacheForAllThreads 系统属性没设置，则大小取：true</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,420.0L583.0,420.0L583.0,460.0L157.6,460.0L157.6,420.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="445.5">DEFAULT_DIRECT_MEMORY_CACHE_ALIGNMENT</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,420.0L1283.0,420.0L1283.0,460.0L583.0,460.0L583.0,420.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="445.5">如果io.netty.allocator.directMemoryCacheAlignment 系统属性没设置，则大小取：0</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,460.0L583.0,460.0L583.0,500.0L157.6,500.0L157.6,460.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="485.5">MIN_PAGE_SIZE</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,460.0L1283.0,460.0L1283.0,500.0L583.0,500.0L583.0,460.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="485.5">4096</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,500.0L583.0,500.0L583.0,540.0L157.6,540.0L157.6,500.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="525.5">MAX_CHUNK_SIZE</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,500.0L1283.0,500.0L1283.0,540.0L583.0,540.0L583.0,500.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="525.5">((long)Integer.MAX_VALUE + 1) / 2</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,540.0L583.0,540.0L583.0,580.0L157.6,580.0L157.6,540.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="565.5">static PooledByteBufAllocator DEFAULT</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,540.0L1283.0,540.0L1283.0,580.0L583.0,580.0L583.0,540.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="565.5">单例</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,580.0L583.0,580.0L583.0,620.0L157.6,620.0L157.6,580.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="605.5">PoolArena&lt;byte[]>[] heapArenas</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,580.0L1283.0,580.0L1283.0,620.0L583.0,620.0L583.0,580.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="605.5">new PoolArena[DEFAULT_NUM_HEAP_ARENA]</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,620.0L583.0,620.0L583.0,660.0L157.6,660.0L157.6,620.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="645.5">PoolArena&lt;ByteBuffer>[] directArenas</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,620.0L1283.0,620.0L1283.0,660.0L583.0,660.0L583.0,620.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="645.5">new PoolArena[DEFAULT_NUM_DIRECT_ARENA]</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,660.0L583.0,660.0L583.0,700.0L157.6,700.0L157.6,660.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="685.5">int tinyCacheSize</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,660.0L1283.0,660.0L1283.0,700.0L583.0,700.0L583.0,660.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="685.5">DEFAULT_TINY_CACHE_SIZE</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,700.0L583.0,700.0L583.0,740.0L157.6,740.0L157.6,700.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="725.5">int smallCacheSize</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,700.0L1283.0,700.0L1283.0,740.0L583.0,740.0L583.0,700.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="725.5">DEFAULT_SMALL_CACHE_SIZE</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,740.0L583.0,740.0L583.0,780.0L157.6,780.0L157.6,740.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="765.5">int normalCacheSize</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,740.0L1283.0,740.0L1283.0,780.0L583.0,780.0L583.0,740.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="765.5">DEFAULT_NORMAL_CACHE_SIZE</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,780.0L583.0,780.0L583.0,820.0L157.6,820.0L157.6,780.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="805.5">int chunkSize</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,780.0L1283.0,780.0L1283.0,820.0L583.0,820.0L583.0,780.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="805.5">pageSize &lt;&lt; 1</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,820.0L583.0,820.0L583.0,996.0L157.6,996.0L157.6,820.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="913.5">PoolThreadLocalCache threadCache</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,820.0L1283.0,820.0L1283.0,996.0L583.0,996.0L583.0,820.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="837.5">new PoolThreadLocalCache(DEFAULT_USE_CACHE_FOR_ALL_THREADS)</tspan><tspan style="font-size:10.00pt" x="592.0" y="856.5">继承自 FastThreadLocal</tspan><tspan style="font-size:10.00pt" x="592.0" y="875.5">在get的时候会进行初始化产生PoolThreadCache，</tspan><tspan style="font-size:10.00pt" x="592.0" y="894.5">初始化时会从heapArenas和directArenas各找一个最少使用的PoolArena</tspan><tspan style="font-size:10.00pt" x="592.0" y="932.5">new PoolThreadCache(heapArena, directArena, </tspan><tspan style="font-size:10.00pt" x="592.0" y="951.5">tinyCacheSize, smallCacheSize, normalCacheSize,      //   512, 256,  64</tspan><tspan style="font-size:10.00pt" x="592.0" y="970.5">DEFAULT_MAX_CACHED_BUFFER_CAPACITY, DEFAULT_CACHE_TRIM_INTERVAL)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M.0,996.0L157.6,996.0L157.6,1543.5L.0,1543.5L.0,996.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="9.0" y="1274.2">PoolThreadCache</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,996.0L583.0,996.0L583.0,1036.0L157.6,1036.0L157.6,996.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1021.5">PoolArena&lt;byte[]> heapArena</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,996.0L1283.0,996.0L1283.0,1036.0L583.0,1036.0L583.0,996.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1036.0L583.0,1036.0L583.0,1076.0L157.6,1076.0L157.6,1036.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1061.5">PoolArena&lt;ByteBuffer> directArena</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1036.0L1283.0,1036.0L1283.0,1076.0L583.0,1076.0L583.0,1036.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1076.0L583.0,1076.0L583.0,1126.0L157.6,1126.0L157.6,1076.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1106.5">MemoryRegionCache&lt;byte[]>[] tinySubPageHeapCaches</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1076.0L1283.0,1076.0L1283.0,1126.0L583.0,1126.0L583.0,1076.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="1097.0">创建 MemoryRegionCache 数组(512 >>> 4)，new MemoryRegionCache[PoolArena.numTinySubpagePools]</tspan><tspan style="font-size:10.00pt" x="592.0" y="1116.0">对每个元素实例化 new SubPageMemoryRegionCache&lt;T>(tinyCacheSize, SizeClass.Tiny)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1126.0L583.0,1126.0L583.0,1230.0L157.6,1230.0L157.6,1126.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1183.5">MemoryRegionCache&lt;byte[]>[] smallSubPageHeapCaches;</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1126.0L1283.0,1126.0L1283.0,1230.0L583.0,1230.0L583.0,1126.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="592.0" y="1145.5">创建 MemoryRegionCache 数组，new MemoryRegionCache[PoolArena.numSmallSubpagePools]</tspan><tspan style="font-size:10.00pt" x="592.0" y="1164.5">PoolArena.numSmallSubpagePools 大小：4</tspan><tspan style="font-size:10.00pt" x="592.0" y="1183.5">        pageShifts = Integer.SIZE - 1 - Integer.numberOfLeadingZeros(pageSize)</tspan><tspan style="font-size:10.00pt" x="592.0" y="1202.5">        numSmallSubpagePools = pageShifts - 9</tspan><tspan style="font-size:10.00pt" x="592.0" y="1221.5">对每个元素实例化 new SubPageMemoryRegionCache&lt;T>(smallCacheSize, SizeClass.Small)</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1230.0L583.0,1230.0L583.0,1270.0L157.6,1270.0L157.6,1230.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1255.5">MemoryRegionCache&lt;byte[]>[] normalHeapCaches</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1230.0L1283.0,1230.0L1283.0,1270.0L583.0,1270.0L583.0,1230.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1270.0L583.0,1270.0L583.0,1310.0L157.6,1310.0L157.6,1270.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1295.5">MemoryRegionCache&lt;ByteBuffer>[] tinySubPageDirectCaches</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1270.0L1283.0,1270.0L1283.0,1310.0L583.0,1310.0L583.0,1270.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1310.0L583.0,1310.0L583.0,1343.5L157.6,1343.5L157.6,1310.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1332.2">MemoryRegionCache&lt;ByteBuffer>[] smallSubPageDirectCaches</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1310.0L1283.0,1310.0L1283.0,1343.5L583.0,1343.5L583.0,1310.0z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1343.5L583.0,1343.5L583.0,1383.5L157.6,1383.5L157.6,1343.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1369.0">MemoryRegionCache&lt;ByteBuffer>[] normalDirectCaches</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1343.5L1283.0,1343.5L1283.0,1383.5L583.0,1383.5L583.0,1343.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1383.5L583.0,1383.5L583.0,1423.5L157.6,1423.5L157.6,1383.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1409.0">int numShiftsNormalDirect</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1383.5L1283.0,1383.5L1283.0,1423.5L583.0,1423.5L583.0,1383.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1423.5L583.0,1423.5L583.0,1463.5L157.6,1463.5L157.6,1423.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1449.0">int numShiftsNormalHeap</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1423.5L1283.0,1423.5L1283.0,1463.5L583.0,1463.5L583.0,1423.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1463.5L583.0,1463.5L583.0,1503.5L157.6,1503.5L157.6,1463.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1489.0">int freeSweepAllocationThreshold</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1463.5L1283.0,1463.5L1283.0,1503.5L583.0,1503.5L583.0,1463.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g><g><path stroke="#a0a0a4" stroke-width="1" d="M157.6,1503.5L583.0,1503.5L583.0,1543.5L157.6,1543.5L157.6,1503.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="166.6" y="1529.0">int allocations</tspan></text></g><g><path stroke="#a0a0a4" stroke-width="1" d="M583.0,1503.5L1283.0,1503.5L1283.0,1543.5L583.0,1543.5L583.0,1503.5z" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"/></g></g><g transform="translate(5736.590000,2520.740000)" id="shape240"><path stroke="#323232" stroke-width="1" d="M20.0,60.0L320.0,60.0L340.0,30.0L320.0,.0L20.0,.0L.0,30.0L20.0,60.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="19.5" y="26.0">allocate(PoolThreadCache cache, int reqCapacity, </tspan><tspan style="font-size:10.00pt" x="118.5" y="45.0">int maxCapacity)</tspan></text></g><g transform="translate(5736.590000,2633.480000)" id="shape241"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.0" y="35.5">PooledByteBuf&lt;T> buf = newByteBuf(maxCapacity)</tspan></text></g><g transform="translate(5736.590000,2746.220000)" id="shape242"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="70.5" y="26.0">allocate(cache, buf, reqCapacity)</tspan><tspan style="font-size:10.00pt" x="13.5" y="45.0">尝试从cache里获取一个reqCapacitybyte数组到buf上</tspan></text></g><g transform="translate(5906.590000,2580.740000)" id="shape243"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,47.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,47.0L.0,53.0L-3.0,47.0L3.0,47.0" fill="#191919"/></g><g transform="translate(5906.590000,2693.480000)" id="shape244"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,47.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,47.0L.0,53.0L-3.0,47.0L3.0,47.0" fill="#191919"/></g><g transform="translate(4013.520000,655.265000)" id="shape245"><path stroke="#323232" stroke-width="1" d="M1496.1,1650.7L1496.1,.0L.0,.0L.0,1650.7L1496.1,1650.7z" fill-rule="nonzero" fill="#cfe9d8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:16.25pt"><tspan style="font-size:13.00pt" x="4.0" y="22.0">实例化过程</tspan></text></g><g transform="translate(4523.750000,692.850000)" id="shape246"><path stroke="#323232" stroke-width="1" d="M20.0,38.0L226.3,38.0L246.3,19.0L226.3,.0L20.0,.0L.0,19.0L20.0,38.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="46.6" y="24.5">PooledByteBufAllocator()</tspan></text></g><g transform="translate(4457.162000,765.220000)" id="shape247"><path stroke="#323232" stroke-width="1" d="M379.4,53.5L379.4,7.0C379.4,3.1,376.3,.0,372.4,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.5C.0,57.4,3.1,60.5,7.0,60.5L372.4,60.5C376.3,60.5,379.4,57.4,379.4,53.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="141.7" y="26.3">threadCache = </tspan><tspan style="font-size:10.00pt" x="29.2" y="45.3">new PoolThreadLocalCache(useCacheForAllThreads);</tspan></text></g><g transform="translate(4541.315000,860.090000)" id="shape248"><path stroke="#323232" stroke-width="1" d="M105.6,60.5L211.1,30.3L105.6,.0L.0,30.3L105.6,60.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="56.1" y="34.8">nDirectArena > 0</tspan></text></g><g transform="translate(4457.162000,963.810000)" id="shape249"><path stroke="#323232" stroke-width="1" d="M379.4,44.0L379.4,7.0C379.4,3.1,376.3,.0,372.4,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,44.0C.0,47.9,3.1,51.0,7.0,51.0L372.4,51.0C376.3,51.0,379.4,47.9,379.4,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.2" y="31.0">directArenas = newArenaArray(nDirectArena);</tspan></text></g><g transform="translate(4457.162000,1059.030000)" id="shape250"><path stroke="#323232" stroke-width="1" d="M.0,49.8L379.4,49.8L379.4,12.5L367.0,.0L12.5,.0L.0,12.5L.0,49.8z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="55.7" y="30.4"> for (int i = 0; i &lt; directArenas.length; i ++) </tspan></text></g><g transform="translate(4646.880000,730.850000)" id="shape251"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,29.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,29.0L.0,35.0L-3.0,29.0L3.0,29.0" fill="#191919"/></g><g transform="translate(4646.880000,825.720000)" id="shape252"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,29.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,29.0L.0,35.0L-3.0,29.0L3.0,29.0" fill="#191919"/></g><g transform="translate(4646.880000,920.590000)" id="shape253"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,37.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,37.0L.0,43.0L-3.0,37.0L3.0,37.0" fill="#191919"/></g><g transform="translate(4646.880000,1014.850000)" id="shape254"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,39.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,39.0L.0,45.0L-3.0,39.0L3.0,39.0" fill="#191919"/></g><g transform="translate(4458.763000,1165.850000)" id="shape255"><path stroke="#323232" stroke-width="1" d="M379.4,63.0L379.4,7.0C379.4,3.1,376.3,.0,372.4,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,63.0C.0,66.9,3.1,70.0,7.0,70.0L372.4,70.0C376.3,70.0,379.4,66.9,379.4,63.0z" fill-rule="nonzero" fill="#ca3d3e"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt;font-weight:bold"><tspan style="font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.00pt" x="135.7" y="20.5">directArenas[i] = </tspan><tspan style="font-size:10.00pt" x="5.7" y="39.5">new PoolArena.DirectArena( this, pageSize, maxOrder, </tspan><tspan style="font-size:10.00pt" x="7.2" y="58.5">pageShifts, chunkSize, directMemoryCacheAlignment);</tspan></text></g><g transform="translate(4648.020000,1108.850000)" id="shape256"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,51.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,51.0L.0,57.0L-3.0,51.0L3.0,51.0" fill="#191919"/><rect width="52.0" height="19.0" x="-25.0" y="21.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-25.0" y="36.0">循环生成</tspan></text></g><g transform="translate(4458.760000,1200.850000)" id="shape257"><path stroke="#191919" stroke-width="1" d="M.0,.0L-14.0,.0L-14.0,-116.9L-7.6,-116.9" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-7.6,-119.9L-1.6,-116.9L-7.6,-113.9L-7.6,-119.9" fill="#191919"/></g><g transform="translate(4918.580000,692.850000)" id="shape258"><path stroke="#323232" stroke-width="1" d="M534.0,341.0L534.0,.0L.0,.0L.0,341.0L534.0,341.0z" fill-rule="nonzero" fill="#d0d9f1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolThreadLocalCache</tspan></text></g><g transform="translate(5110.080000,730.490000)" id="shape259"><path stroke="#323232" stroke-width="1" d="M20.0,48.0L131.0,48.0L151.0,24.0L131.0,.0L20.0,.0L.0,24.0L20.0,48.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="38.5" y="29.5">initialValue()</tspan></text></g><g transform="translate(4836.600000,796.075000)" id="shape260"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L54.0,.0L54.0,66.0L76.0,66.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M76.0,63.0L82.0,66.0L76.0,69.0L76.0,63.0" fill="#191919"/></g><g transform="translate(5016.080000,809.820000)" id="shape261"><path stroke="#323232" stroke-width="1" d="M340.0,48.0L340.0,.0L.0,.0L.0,48.0L340.0,48.0z" fill-rule="nonzero" fill="#ca3d3e"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt;font-weight:bold"><tspan style="font-size:10.00pt" x="28.0" y="20.0">heapArena = leastUsedArena(heapArenas)</tspan><tspan style="font-size:10.00pt" x="22.0" y="39.0">directArena = leastUsedArena(directArenas)</tspan></text></g><g transform="translate(4938.580000,872.850000)" id="shape262"><path stroke="#323232" stroke-width="1" d="M495.0,142.0L495.0,.0L.0,.0L.0,142.0L495.0,142.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.5">return  new PoolThreadCache(</tspan><tspan style="font-size:10.00pt" x="4.0" y="38.5">heapArena, directArena, </tspan><tspan style="font-size:10.00pt" x="4.0" y="57.5">tinyCacheSize,       // 512</tspan><tspan style="font-size:10.00pt" x="4.0" y="76.5">smallCacheSize,       // 256</tspan><tspan style="font-size:10.00pt" x="4.0" y="95.5">normalCacheSize,      // 32</tspan><tspan style="font-size:10.00pt" x="4.0" y="114.5">DEFAULT_MAX_CACHED_BUFFER_CAPACITY,      //  </tspan><tspan style="font-size:10.00pt" x="4.0" y="133.5">DEFAULT_CACHE_TRIM_INTERVAL)      // </tspan></text></g><g transform="translate(5185.580000,778.490000)" id="shape263"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,25.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,25.0L.0,31.0L-3.0,25.0L3.0,25.0" fill="#191919"/></g><g transform="translate(5186.080000,857.820000)" id="shape264"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,9.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,9.0L.0,15.0L-3.0,9.0L3.0,9.0" fill="#191919"/></g><g transform="translate(4919.080000,1059.030000)" id="shape265"><path stroke="#323232" stroke-width="1" d="M534.0,503.8L534.0,.0L.0,.0L.0,503.8L534.0,503.8z" fill-rule="nonzero" fill="#aad3f5"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolThreadCache</tspan></text></g><g transform="translate(5110.080000,1089.850000)" id="shape266"><path stroke="#323232" stroke-width="1" d="M20.0,48.0L131.0,48.0L151.0,24.0L131.0,.0L20.0,.0L.0,24.0L20.0,48.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="18.0" y="29.5">PoolThreadCache()</tspan></text></g><g transform="translate(5186.080000,1014.850000)" id="shape267"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,39.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,39.0L.0,45.0L-3.0,39.0L3.0,39.0" fill="#191919"/></g><g transform="translate(4938.580000,1156.850000)" id="shape268"><path stroke="#323232" stroke-width="1" d="M495.0,88.0L495.0,.0L.0,.0L.0,88.0L495.0,88.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="21.0">tinySubPageDirectCaches = createSubPageCaches(</tspan><tspan style="font-size:10.00pt" x="4.0" y="40.0">tinyCacheSize, 	// 512</tspan><tspan style="font-size:10.00pt" x="4.0" y="59.0">PoolArena.numTinySubpagePools, 	// 32</tspan><tspan style="font-size:10.00pt" x="4.0" y="78.0">SizeClass.Tiny)</tspan></text></g><g transform="translate(4938.580000,1307.850000)" id="shape269"><path stroke="#323232" stroke-width="1" d="M495.0,88.0L495.0,.0L.0,.0L.0,88.0L495.0,88.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="21.0">smallSubPageDirectCaches = createSubPageCaches(</tspan><tspan style="font-size:10.00pt" x="4.0" y="40.0">smallCacheSize, 	// 256</tspan><tspan style="font-size:10.00pt" x="4.0" y="59.0">directArena.numSmallSubpagePools, 		//4</tspan><tspan style="font-size:10.00pt" x="4.0" y="78.0">SizeClass.Small)</tspan></text></g><g transform="translate(4938.580000,1449.850000)" id="shape270"><path stroke="#323232" stroke-width="1" d="M495.0,88.0L495.0,.0L.0,.0L.0,88.0L495.0,88.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="21.0">normalDirectCaches = createNormalCaches(</tspan><tspan style="font-size:10.00pt" x="4.0" y="40.0">normalCacheSize, 	//</tspan><tspan style="font-size:10.00pt" x="4.0" y="59.0">maxCachedBufferCapacity, 	//</tspan><tspan style="font-size:10.00pt" x="4.0" y="78.0">directArena)</tspan></text></g><g transform="translate(5185.580000,1137.850000)" id="shape271"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,13.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,13.0L.0,19.0L-3.0,13.0L3.0,13.0" fill="#191919"/></g><g transform="translate(5186.080000,1244.850000)" id="shape272"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,57.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,57.0L.0,63.0L-3.0,57.0L3.0,57.0" fill="#191919"/></g><g transform="translate(5186.080000,1395.850000)" id="shape273"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,48.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,48.0L.0,54.0L-3.0,48.0L3.0,48.0" fill="#191919"/></g><g transform="translate(5200.580000,435.795000)" id="shape274"><path stroke="#323232" stroke-width="1" d="M214.0,63.0L214.0,7.0C214.0,3.1,210.9,.0,207.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,63.0C.0,66.9,3.1,70.0,7.0,70.0L207.0,70.0C210.9,70.0,214.0,66.9,214.0,63.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="21.5">tinyCacheSize = 512</tspan><tspan style="font-size:10.00pt" x="4.0" y="40.5">smallCacheSize = 256</tspan><tspan style="font-size:10.00pt" x="4.0" y="59.5">normalCacheSize = 64</tspan></text></g><g transform="translate(9340.240000,2471.800000)" id="shape275"><path stroke="#323232" stroke-width="1" d="M1465.5,1361.0L1465.5,.0L.0,.0L.0,1361.0L1465.5,1361.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.3" y="19.0">PooledByteBufAllocator</tspan></text></g><g transform="translate(9397.520000,2667.060000)" id="shape276"><path stroke="#323232" stroke-width="1" d="M189.0,53.0L189.0,7.0C189.0,3.1,185.9,.0,182.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L182.0,60.0C185.9,60.0,189.0,56.9,189.0,53.0z" fill-rule="nonzero" fill="#39aa71"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="31.5" y="26.0">PoolArena&lt;byte[]>[] </tspan><tspan style="font-size:10.00pt" x="58.5" y="45.0">heapArenas</tspan></text></g><g transform="translate(9397.520000,2764.060000)" id="shape277"><path stroke="#323232" stroke-width="1" d="M189.0,53.0L189.0,7.0C189.0,3.1,185.9,.0,182.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L182.0,60.0C185.9,60.0,189.0,56.9,189.0,53.0z" fill-rule="nonzero" fill="#39aa71"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.5" y="26.0"> PoolArena&lt;ByteBuffer>[] </tspan><tspan style="font-size:10.00pt" x="56.0" y="45.0">directArenas</tspan></text></g><g transform="translate(9397.520000,2861.060000)" id="shape278"><path stroke="#323232" stroke-width="1" d="M189.0,53.0L189.0,7.0C189.0,3.1,185.9,.0,182.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L182.0,60.0C185.9,60.0,189.0,56.9,189.0,53.0z" fill-rule="nonzero" fill="#39aa71"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.0" y="26.0">PoolThreadLocalCache </tspan><tspan style="font-size:10.00pt" x="55.5" y="45.0">threadCache</tspan></text></g><g transform="translate(9396.020000,2972.060000)" id="shape279"><path stroke="#323232" stroke-width="1" d="M190.5,208.0L190.5,.0L.0,.0L.0,208.0L190.5,208.0z" fill-rule="nonzero" fill="#d0d9f1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.3" y="19.0">PoolThreadLocalCache</tspan></text></g><g transform="translate(9492.020000,2921.060000)" id="shape280"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,45.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,45.0L.0,51.0L-3.0,45.0L3.0,45.0" fill="#191919"/></g><g transform="translate(9441.270000,3030.000000)" id="shape281"><path stroke="#323232" stroke-width="1" d="M100.0,53.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L93.0,60.0C96.9,60.0,100.0,56.9,100.0,53.0z" fill-rule="nonzero" fill="#4274bf"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.5" y="35.5">map</tspan></text></g><g transform="translate(9642.240000,2509.800000)" id="shape282"><path stroke="#323232" stroke-width="1" d="M1125.5,1266.0L1125.5,.0L.0,.0L.0,1266.0L1125.5,1266.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.3" y="19.0">PoolThreadCache</tspan></text></g><g transform="translate(9766.970000,2554.800000)" id="shape283"><path stroke="#323232" stroke-width="1" d="M246.0,53.0L246.0,7.0C246.0,3.1,242.9,.0,239.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L239.0,60.0C242.9,60.0,246.0,56.9,246.0,53.0z" fill-rule="nonzero" fill="#0099d2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.0" y="35.5">PoolArena&lt;byte[]> heapArena</tspan></text></g><g transform="translate(10323.300000,2554.800000)" id="shape284"><path stroke="#323232" stroke-width="1" d="M246.0,53.0L246.0,7.0C246.0,3.1,242.9,.0,239.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L239.0,60.0C242.9,60.0,246.0,56.9,246.0,53.0z" fill-rule="nonzero" fill="#0099d2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="11.5" y="35.5">PoolArena&lt;ByteBuffer> directArena</tspan></text></g><g transform="translate(9719.790000,3367.300000)" id="shape285"><path stroke="#323232" stroke-width="1" d="M425.0,33.0L425.0,7.0C425.0,3.1,421.9,.0,418.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,33.0C.0,36.9,3.1,40.0,7.0,40.0L418.0,40.0C421.9,40.0,425.0,36.9,425.0,33.0z" fill-rule="nonzero" fill="#0099d2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.5" y="25.5">MemoryRegionCache&lt;byte[]>[] tinySubPageHeapCaches</tspan></text></g><g transform="translate(9491.270000,3090.000000)" id="shape286"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,332.0L145.0,332.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M145.0,329.0L151.0,332.0L145.0,335.0L145.0,329.0" fill="#191919"/></g><g transform="translate(10389.800000,3367.300000)" id="shape287"><path stroke="#323232" stroke-width="1" d="M322.0,325.0L322.0,.0L.0,.0L.0,325.0L322.0,325.0z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">MemoryRegionCache</tspan></text></g><g transform="translate(10144.800000,3387.300000)" id="shape288"><path stroke="#191919" stroke-width="1" d="M.0,.0L239.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M239.0,-3.0L245.0,.0L239.0,3.0L239.0,-3.0" fill="#191919"/><rect width="65.0" height="19.0" x="90.1" y="-19.0" fill="#ffffff"/><rect width="67.0" height="19.0" x="89.1" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="90.1" y="-4.0">cache大小:</tspan><tspan style="font-size:10.00pt" x="89.1" y="15.0">queue大小:</tspan></text></g><g transform="translate(10459.800000,3461.300000)" id="shape289"><path stroke="#323232" stroke-width="1" d="M202.0,53.0L202.0,7.0C202.0,3.1,198.9,.0,195.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L195.0,60.0C198.9,60.0,202.0,56.9,202.0,53.0z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="20.0" y="35.5">Queue&lt;Entry&lt;T>> queue</tspan></text></g><g transform="translate(9719.790000,3424.300000)" id="shape290"><path stroke="#323232" stroke-width="1" d="M425.0,33.0L425.0,7.0C425.0,3.1,421.9,.0,418.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,33.0C.0,36.9,3.1,40.0,7.0,40.0L418.0,40.0C421.9,40.0,425.0,36.9,425.0,33.0z" fill-rule="nonzero" fill="#0099d2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.5" y="25.5">MemoryRegionCache&lt;byte[]>[] smallSubPageHeapCaches</tspan></text></g><g transform="translate(9719.790000,3481.300000)" id="shape291"><path stroke="#323232" stroke-width="1" d="M425.0,33.0L425.0,7.0C425.0,3.1,421.9,.0,418.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,33.0C.0,36.9,3.1,40.0,7.0,40.0L418.0,40.0C421.9,40.0,425.0,36.9,425.0,33.0z" fill-rule="nonzero" fill="#0099d2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="53.5" y="25.5">MemoryRegionCache&lt;byte[]>[] normalHeapCaches</tspan></text></g><g transform="translate(9719.790000,3538.300000)" id="shape292"><path stroke="#323232" stroke-width="1" d="M425.0,33.0L425.0,7.0C425.0,3.1,421.9,.0,418.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,33.0C.0,36.9,3.1,40.0,7.0,40.0L418.0,40.0C421.9,40.0,425.0,36.9,425.0,33.0z" fill-rule="nonzero" fill="#0099d2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="19.0" y="25.5">MemoryRegionCache&lt;ByteBuffer>[] tinySubPageDirectCaches</tspan></text></g><g transform="translate(9719.790000,3595.300000)" id="shape293"><path stroke="#323232" stroke-width="1" d="M425.0,33.0L425.0,7.0C425.0,3.1,421.9,.0,418.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,33.0C.0,36.9,3.1,40.0,7.0,40.0L418.0,40.0C421.9,40.0,425.0,36.9,425.0,33.0z" fill-rule="nonzero" fill="#0099d2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.0" y="25.5">MemoryRegionCache&lt;ByteBuffer>[] smallSubPageDirectCaches</tspan></text></g><g transform="translate(9719.790000,3652.300000)" id="shape294"><path stroke="#323232" stroke-width="1" d="M425.0,33.0L425.0,7.0C425.0,3.1,421.9,.0,418.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,33.0C.0,36.9,3.1,40.0,7.0,40.0L418.0,40.0C421.9,40.0,425.0,36.9,425.0,33.0z" fill-rule="nonzero" fill="#0099d2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.0" y="25.5">MemoryRegionCache&lt;ByteBuffer>[] normalDirectCaches</tspan></text></g><g transform="translate(10144.800000,3444.300000)" id="shape295"><path stroke="#191919" stroke-width="1" d="M.0,.0L217.0,.0L217.0,2.0L239.0,2.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M239.0,-1.0L245.0,2.0L239.0,5.0L239.0,-1.0" fill="#191919"/><rect width="65.0" height="19.0" x="83.1" y="-19.0" fill="#ffffff"/><rect width="67.0" height="19.0" x="82.1" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="83.1" y="-4.0">cache大小:</tspan><tspan style="font-size:10.00pt" x="82.1" y="15.0">queue大小:</tspan></text></g><g transform="translate(10144.800000,3501.300000)" id="shape296"><path stroke="#191919" stroke-width="1" d="M.0,.0L217.0,.0L217.0,2.0L239.0,2.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M239.0,-1.0L245.0,2.0L239.0,5.0L239.0,-1.0" fill="#191919"/><rect width="65.0" height="19.0" x="92.2" y="-19.0" fill="#ffffff"/><rect width="67.0" height="19.0" x="91.2" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="92.2" y="-4.0">cache大小:</tspan><tspan style="font-size:10.00pt" x="91.2" y="15.0">queue大小:</tspan></text></g><g transform="translate(10144.800000,3558.300000)" id="shape297"><path stroke="#191919" stroke-width="1" d="M.0,.0L217.0,.0L217.0,-2.0L239.0,-2.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M239.0,-5.0L245.0,-2.0L239.0,1.0L239.0,-5.0" fill="#191919"/><rect width="65.0" height="19.0" x="94.5" y="-19.0" fill="#ffffff"/><rect width="67.0" height="19.0" x="93.5" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="94.5" y="-4.0">cache大小:</tspan><tspan style="font-size:10.00pt" x="93.5" y="15.0">queue大小:</tspan></text></g><g transform="translate(10144.800000,3615.300000)" id="shape298"><path stroke="#191919" stroke-width="1" d="M.0,.0L239.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M239.0,-3.0L245.0,.0L239.0,3.0L239.0,-3.0" fill="#191919"/><rect width="65.0" height="19.0" x="91.2" y="-19.0" fill="#ffffff"/><rect width="67.0" height="19.0" x="90.2" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="91.2" y="-4.0">cache大小:</tspan><tspan style="font-size:10.00pt" x="90.2" y="15.0">queue大小:</tspan></text></g><g transform="translate(10144.800000,3672.300000)" id="shape299"><path stroke="#191919" stroke-width="1" d="M.0,.0L239.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M239.0,-3.0L245.0,.0L239.0,3.0L239.0,-3.0" fill="#191919"/><rect width="65.0" height="19.0" x="90.1" y="-19.0" fill="#ffffff"/><rect width="67.0" height="19.0" x="89.1" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="90.1" y="-4.0">cache大小:</tspan><tspan style="font-size:10.00pt" x="89.1" y="15.0">queue大小:</tspan></text></g><g transform="translate(9683.565000,2688.059000)" id="shape300"><path stroke="#323232" stroke-width="1" d="M1065.3,566.0L1065.3,.0L.0,.0L.0,566.0L1065.3,566.0z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.1" y="19.0">PoolArena</tspan></text></g><g transform="translate(9760.106000,2729.616200)" id="shape301"><path stroke="#323232" stroke-width="1" d="M259.7,62.8L259.7,7.0C259.7,3.1,256.6,.0,252.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,62.8C.0,66.7,3.1,69.8,7.0,69.8L252.7,69.8C256.6,69.8,259.7,66.7,259.7,62.8z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="14.9" y="21.4">PoolSubpage&lt;T>[] tinySubpagePools</tspan><tspan style="font-size:10.00pt" x="26.9" y="40.4">用于分配管理小于512字节的内存，</tspan><tspan style="font-size:10.00pt" x="89.4" y="59.4">默认长度为32</tspan></text></g><g transform="translate(9760.106000,2834.606200)" id="shape302"><path stroke="#323232" stroke-width="1" d="M259.7,62.8L259.7,7.0C259.7,3.1,256.6,.0,252.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,62.8C.0,66.7,3.1,69.8,7.0,69.8L252.7,69.8C256.6,69.8,259.7,66.7,259.7,62.8z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.9" y="21.4">PoolSubpage&lt;T>[] smallSubpagePools</tspan><tspan style="font-size:10.00pt" x="26.9" y="40.4">用于分配大于等于512字节的内存，</tspan><tspan style="font-size:10.00pt" x="93.4" y="59.4">默认长度为4</tspan></text></g><g transform="translate(9879.038000,2986.461300)" id="shape303"><path stroke="#323232" stroke-width="1" d="M200.5,32.1L200.5,7.0C200.5,3.1,197.3,.0,193.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L193.5,39.1C197.3,39.1,200.5,36.0,200.5,32.1z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="24.7" y="25.0">PoolChunkList&lt;T> q025</tspan></text></g><g transform="translate(9879.038000,3034.211300)" id="shape304"><path stroke="#323232" stroke-width="1" d="M200.5,32.1L200.5,7.0C200.5,3.1,197.3,.0,193.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L193.5,39.1C197.3,39.1,200.5,36.0,200.5,32.1z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="24.7" y="25.0">PoolChunkList&lt;T> q000</tspan></text></g><g transform="translate(9879.038000,3084.361300)" id="shape305"><path stroke="#323232" stroke-width="1" d="M200.5,32.1L200.5,7.0C200.5,3.1,197.3,.0,193.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L193.5,39.1C197.3,39.1,200.5,36.0,200.5,32.1z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="26.7" y="25.0">PoolChunkList&lt;T> qInit</tspan></text></g><g transform="translate(9879.038000,3131.091300)" id="shape306"><path stroke="#323232" stroke-width="1" d="M200.5,32.1L200.5,7.0C200.5,3.1,197.3,.0,193.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L193.5,39.1C197.3,39.1,200.5,36.0,200.5,32.1z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="24.7" y="25.0">PoolChunkList&lt;T> q075</tspan></text></g><g transform="translate(9879.038000,2935.751300)" id="shape307"><path stroke="#323232" stroke-width="1" d="M200.5,32.1L200.5,7.0C200.5,3.1,197.3,.0,193.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L193.5,39.1C197.3,39.1,200.5,36.0,200.5,32.1z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="24.7" y="25.0">PoolChunkList&lt;T> q050</tspan></text></g><g transform="translate(9879.038000,3177.271300)" id="shape308"><path stroke="#323232" stroke-width="1" d="M200.5,32.1L200.5,7.0C200.5,3.1,197.3,.0,193.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L193.5,39.1C197.3,39.1,200.5,36.0,200.5,32.1z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="24.7" y="25.0">PoolChunkList&lt;T> q100</tspan></text></g><g transform="translate(10205.248000,2707.998000)" id="shape309"><path stroke="#323232" stroke-width="1" d="M471.5,236.8L471.5,.0L.0,.0L.0,236.8L471.5,236.8z" fill-rule="nonzero" fill="#fedad0"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.3" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(10214.760000,2744.981300)" id="shape310"><path stroke="#323232" stroke-width="1" d="M213.1,32.1L213.1,7.0C213.1,3.1,209.9,.0,206.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L206.1,39.1C209.9,39.1,213.1,36.0,213.1,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="37.0" y="25.5">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(10214.760000,2794.961300)" id="shape311"><path stroke="#323232" stroke-width="1" d="M213.1,32.1L213.1,7.0C213.1,3.1,209.9,.0,206.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L206.1,39.1C209.9,39.1,213.1,36.0,213.1,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="37.0" y="25.5">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(10019.800000,2764.530000)" id="shape312"><path stroke="#191919" stroke-width="1" d="M.0,.0L158.0,.0L158.0,-16.0L180.0,-16.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M180.0,-19.0L186.0,-16.0L180.0,-13.0L180.0,-19.0" fill="#191919"/></g><g transform="translate(10019.800000,2869.520000)" id="shape313"><path stroke="#191919" stroke-width="1" d="M.0,.0L158.0,.0L158.0,-43.0L180.0,-43.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M180.0,-46.0L186.0,-43.0L180.0,-40.0L180.0,-46.0" fill="#191919"/></g><g transform="translate(9889.970000,2614.800000)" id="shape314"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,46.0L-30.0,46.0L-30.0,68.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-27.0,68.0L-30.0,74.0L-33.0,68.0L-27.0,68.0" fill="#191919"/></g><g transform="translate(10446.300000,2614.800000)" id="shape315"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,46.0L-11.0,46.0L-11.0,68.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-8.0,68.0L-11.0,74.0L-14.0,68.0L-8.0,68.0" fill="#191919"/></g><g transform="translate(10205.230000,2958.085000)" id="shape316"><path stroke="#323232" stroke-width="1" d="M525.5,258.3L525.5,.0L.0,.0L.0,258.3L525.5,258.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.3" y="19.0">PoolChunkList</tspan></text></g><g transform="translate(10218.434900,2996.091300)" id="shape317"><path stroke="#323232" stroke-width="1" d="M199.9,32.1L199.9,7.0C199.9,3.1,196.8,.0,192.9,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L192.9,39.1C196.8,39.1,199.9,36.0,199.9,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.0" y="25.0">PoolChunkList&lt;T> nextList;</tspan></text></g><g transform="translate(10218.434900,3052.091300)" id="shape318"><path stroke="#323232" stroke-width="1" d="M199.9,32.1L199.9,7.0C199.9,3.1,196.8,.0,192.9,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L192.9,39.1C196.8,39.1,199.9,36.0,199.9,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="16.5" y="25.0">PoolChunkList&lt;T> prevList</tspan></text></g><g transform="translate(10218.434900,3109.091300)" id="shape319"><path stroke="#323232" stroke-width="1" d="M199.9,32.1L199.9,7.0C199.9,3.1,196.8,.0,192.9,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L192.9,39.1C196.8,39.1,199.9,36.0,199.9,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.0" y="25.0">PoolChunk&lt;T> head</tspan></text></g><g transform="translate(10079.500000,2955.300000)" id="shape320"><path stroke="#191919" stroke-width="1" d="M.0,.0L98.0,.0L98.0,13.0L120.0,13.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M120.0,10.0L126.0,13.0L120.0,16.0L120.0,10.0" fill="#191919"/></g><g transform="translate(10079.500000,3006.010000)" id="shape321"><path stroke="#191919" stroke-width="1" d="M.0,.0L120.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M120.0,-3.0L126.0,.0L120.0,3.0L120.0,-3.0" fill="#191919"/></g><g transform="translate(10079.500000,3053.760000)" id="shape322"><path stroke="#191919" stroke-width="1" d="M.0,.0L120.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M120.0,-3.0L126.0,.0L120.0,3.0L120.0,-3.0" fill="#191919"/></g><g transform="translate(10079.500000,3103.910000)" id="shape323"><path stroke="#191919" stroke-width="1" d="M.0,.0L98.0,.0L98.0,-16.0L120.0,-16.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M120.0,-19.0L126.0,-16.0L120.0,-13.0L120.0,-19.0" fill="#191919"/></g><g transform="translate(10079.500000,3150.640000)" id="shape324"><path stroke="#191919" stroke-width="1" d="M.0,.0L120.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M120.0,-3.0L126.0,.0L120.0,3.0L120.0,-3.0" fill="#191919"/></g><g transform="translate(10079.500000,3196.820000)" id="shape325"><path stroke="#191919" stroke-width="1" d="M.0,.0L120.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M120.0,-3.0L126.0,.0L120.0,3.0L120.0,-3.0" fill="#191919"/></g><g transform="translate(10441.800000,2975.100000)" id="shape326"><path stroke="#323232" stroke-width="1" d="M270.0,229.0L270.0,.0L.0,.0L.0,229.0L270.0,229.0z" fill-rule="nonzero" fill="#daedd1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolChunk</tspan></text></g><g transform="translate(10418.300000,3128.640000)" id="shape327"><path stroke="#191919" stroke-width="1" d="M.0,.0L16.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M16.0,-3.0L22.0,.0L16.0,3.0L16.0,-3.0" fill="#191919"/></g><g transform="translate(10476.834900,3015.091300)" id="shape328"><path stroke="#323232" stroke-width="1" d="M199.9,32.1L199.9,7.0C199.9,3.1,196.8,.0,192.9,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L192.9,39.1C196.8,39.1,199.9,36.0,199.9,32.1z" fill-rule="nonzero" fill="#79b64c"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="11.0" y="25.5">PoolSubpage&lt;T>[] subpages</tspan></text></g><g transform="translate(10476.834900,3067.671300)" id="shape329"><path stroke="#323232" stroke-width="1" d="M199.9,32.1L199.9,7.0C199.9,3.1,196.8,.0,192.9,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L192.9,39.1C196.8,39.1,199.9,36.0,199.9,32.1z" fill-rule="nonzero" fill="#79b64c"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="37.5" y="25.5">PoolChunk&lt;T> prev</tspan></text></g><g transform="translate(10476.834900,3131.091300)" id="shape330"><path stroke="#323232" stroke-width="1" d="M199.9,32.1L199.9,7.0C199.9,3.1,196.8,.0,192.9,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L192.9,39.1C196.8,39.1,199.9,36.0,199.9,32.1z" fill-rule="nonzero" fill="#79b64c"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="37.5" y="25.5">PoolChunk&lt;T> next</tspan></text></g><g transform="translate(5320.590000,2520.740000)" id="shape331"><path stroke="#323232" stroke-width="1" d="M20.0,60.0L320.0,60.0L340.0,30.0L320.0,.0L20.0,.0L.0,30.0L20.0,60.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="69.5" y="26.0">allocate(PoolThreadCache cache, </tspan><tspan style="font-size:10.00pt" x="32.0" y="45.0">PooledByteBuf&lt;T> buf, final int reqCapacity)</tspan></text></g><g transform="translate(5736.590000,2776.220000)" id="shape332"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-48.0,.0L-48.0,-226.0L-70.0,-226.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-70.0,-223.0L-76.0,-226.0L-70.0,-229.0L-70.0,-223.0" fill="#191919"/></g><g transform="translate(5320.590000,2619.480000)" id="shape333"><path stroke="#323232" stroke-width="1" d="M340.0,81.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,81.0C.0,84.9,3.1,88.0,7.0,88.0L333.0,88.0C336.9,88.0,340.0,84.9,340.0,81.0z" fill-rule="nonzero" fill="#e1a822"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="108.0" y="21.0">int normCapacity = </tspan><tspan style="font-size:10.00pt" x="73.5" y="40.0">normalizeCapacity(reqCapacity)</tspan><tspan style="font-size:10.00pt" x="18.5" y="59.0">将申请的内存规范化，例如如果申请26byte则转换为</tspan><tspan style="font-size:10.00pt" x="148.5" y="78.0">32byte</tspan></text></g><g transform="translate(5362.845000,2746.220000)" id="shape334"><path stroke="#323232" stroke-width="1" d="M128.9,60.5L257.8,30.3L128.9,.0L.0,30.3L128.9,60.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="45.9" y="34.8">isTinyOrSmall(normCapacity)</tspan></text></g><g transform="translate(5490.590000,2707.480000)" id="shape335"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,33.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,33.0L.0,39.0L-3.0,33.0L3.0,33.0" fill="#191919"/></g><g transform="translate(5362.845000,2848.990000)" id="shape336"><path stroke="#323232" stroke-width="1" d="M128.9,62.5L257.8,31.3L128.9,.0L.0,31.3L128.9,62.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="68.9" y="27.3">isTiny(normCapacity)</tspan><tspan style="font-size:9.00pt" x="94.4" y="44.3">是否小于512</tspan></text></g><g transform="translate(5788.590000,2963.490000)" id="shape337"><path stroke="#323232" stroke-width="1" d="M236.0,53.0L236.0,7.0C236.0,3.1,232.9,.0,229.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L229.0,60.0C232.9,60.0,236.0,56.9,236.0,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.0" y="26.0">cache.allocateTiny(this, buf, </tspan><tspan style="font-size:10.00pt" x="33.0" y="45.0">reqCapacity, normCapacity)</tspan></text></g><g transform="translate(5809.340000,3105.980000)" id="shape338"><path stroke="#323232" stroke-width="1" d="M97.3,60.5L194.5,30.3L97.3,.0L.0,30.3L97.3,60.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="43.3" y="34.8">是否从缓存分配成功</tspan></text></g><g transform="translate(5906.590000,3023.490000)" id="shape339"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,76.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,76.0L.0,82.0L-3.0,76.0L3.0,76.0" fill="#191919"/></g><g transform="translate(5491.720000,2806.720000)" id="shape340"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,36.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,36.0L.0,42.0L-3.0,36.0L3.0,36.0" fill="#191919"/><rect width="25.0" height="19.0" x="-11.5" y="10.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-11.5" y="25.3">true</tspan></text></g><g transform="translate(5620.590000,2880.240000)" id="shape341"><path stroke="#191919" stroke-width="1" d="M.0,.0L287.0,.0L287.0,77.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M290.0,77.0L287.0,83.0L284.0,77.0L290.0,77.0" fill="#191919"/><rect width="25.0" height="19.0" x="105.5" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="105.5" y="5.5">true</tspan></text></g><g transform="translate(5362.845000,2963.490000)" id="shape342"><path stroke="#323232" stroke-width="1" d="M257.8,53.0L257.8,7.0C257.8,3.1,254.6,.0,250.8,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L250.8,60.0C254.6,60.0,257.8,56.9,257.8,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="38.9" y="26.0">cache.allocateSmall(this, buf, </tspan><tspan style="font-size:10.00pt" x="43.9" y="45.0">reqCapacity, normCapacity)</tspan></text></g><g transform="translate(5491.720000,2911.490000)" id="shape343"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,47.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,47.0L.0,53.0L-3.0,47.0L3.0,47.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="18.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="33.9">false</tspan></text></g><g transform="translate(5402.840000,3105.980000)" id="shape344"><path stroke="#323232" stroke-width="1" d="M87.8,60.5L175.5,30.3L87.8,.0L.0,30.3L87.8,60.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="33.8" y="34.8">是否从缓存分配成功</tspan></text></g><g transform="translate(5491.720000,3023.490000)" id="shape345"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,76.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,76.0L.0,82.0L-3.0,76.0L3.0,76.0" fill="#191919"/></g><g transform="translate(5643.840000,3114.230000)" id="shape346"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="31.0" y="27.5">return</tspan></text></g><g transform="translate(5809.340000,3136.230000)" id="shape347"><path stroke="#191919" stroke-width="1" d="M.0,.0L-59.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-59.0,3.0L-65.0,.0L-59.0,-3.0L-59.0,3.0" fill="#191919"/><rect width="13.0" height="19.0" x="-31.5" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-31.5" y="5.5">是</tspan></text></g><g transform="translate(5578.340000,3136.230000)" id="shape348"><path stroke="#191919" stroke-width="1" d="M.0,.0L60.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M60.0,-3.0L66.0,.0L60.0,3.0L60.0,-3.0" fill="#191919"/><rect width="13.0" height="19.0" x="21.4" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.4" y="5.5">是</tspan></text></g><g transform="translate(5372.590000,3218.980000)" id="shape349"><path stroke="#323232" stroke-width="1" d="M236.0,53.0L236.0,7.0C236.0,3.1,232.9,.0,229.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L229.0,60.0C232.9,60.0,236.0,56.9,236.0,53.0z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="11.0" y="26.0">tableIdx = smallIdx(normCapacity);</tspan><tspan style="font-size:10.00pt" x="33.5" y="45.0">table = smallSubpagePools;</tspan></text></g><g transform="translate(5490.590000,3166.480000)" id="shape350"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,45.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,45.0L.0,51.0L-3.0,45.0L3.0,45.0" fill="#191919"/><rect width="13.0" height="19.0" x="-5.5" y="15.2" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-5.5" y="30.2">否</tspan></text></g><g transform="translate(5788.590000,3218.980000)" id="shape351"><path stroke="#323232" stroke-width="1" d="M236.0,53.0L236.0,7.0C236.0,3.1,232.9,.0,229.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L229.0,60.0C232.9,60.0,236.0,56.9,236.0,53.0z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.0" y="26.0">tableIdx = tinyIdx(normCapacity);</tspan><tspan style="font-size:10.00pt" x="37.5" y="45.0">table = tinySubpagePools;</tspan></text></g><g transform="translate(5906.590000,3166.480000)" id="shape352"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,45.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,45.0L.0,51.0L-3.0,45.0L3.0,45.0" fill="#191919"/><rect width="13.0" height="19.0" x="-5.5" y="16.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-5.5" y="31.9">否</tspan></text></g><g transform="translate(5490.590000,3278.980000)" id="shape353"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,94.0L283.0,94.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M283.0,91.0L289.0,94.0L283.0,97.0L283.0,91.0" fill="#191919"/></g><g transform="translate(5779.525000,3339.220000)" id="shape354"><path stroke="#323232" stroke-width="1" d="M253.1,59.0L253.1,7.0C253.1,3.1,249.9,.0,246.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,59.0C.0,62.9,3.1,66.0,7.0,66.0L246.1,66.0C249.9,66.0,253.1,62.9,253.1,59.0z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.00pt" x="8.0" y="28.0">PoolSubpage&lt;T> head = table[tableIdx]</tspan><tspan style="font-size:10.00pt" x="28.5" y="47.0">PoolSubpage&lt;T> s = head.next</tspan></text></g><g transform="translate(5490.590000,2580.740000)" id="shape355"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,33.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,33.0L.0,39.0L-3.0,33.0L3.0,33.0" fill="#191919"/></g><g transform="translate(5906.590000,3278.980000)" id="shape356"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,55.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,55.0L.0,61.0L-3.0,55.0L3.0,55.0" fill="#191919"/></g><g transform="translate(5809.340000,3462.970000)" id="shape357"><path stroke="#323232" stroke-width="1" d="M103.9,58.4L187.8,32.3C191.5,31.2,191.5,29.3,187.8,28.2L103.9,2.1C100.2,.9,94.3,.9,90.6,2.1L6.7,28.2C3.0,29.3,3.0,31.2,6.7,32.3L90.6,58.4C94.3,59.6,100.2,59.6,103.9,58.4z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="68.3" y="35.8">s != head</tspan></text></g><g transform="translate(6026.520000,3339.220000)" id="shape358"><path stroke="#79b64c" stroke-width="5.3333301544189453" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,201.9C17.6,204.4,18.5,206.9,20.2,208.6C22.0,210.4,24.5,211.2,27.0,210.9C24.5,210.5,22.0,211.4,20.2,213.1C18.5,214.9,17.6,217.4,18.0,219.9L18.0,412.8C18.4,415.3,17.5,417.8,15.8,419.5C14.0,421.3,11.5,422.1,9.0,421.8L.0,421.8" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="42.3" y="216.4">synchronized (head)</tspan></text></g><g transform="translate(5788.590000,3583.480000)" id="shape359"><path stroke="#323232" stroke-width="1" d="M236.0,40.0L236.0,7.0C236.0,3.1,232.9,.0,229.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.0C.0,43.9,3.1,47.0,7.0,47.0L229.0,47.0C232.9,47.0,236.0,43.9,236.0,40.0z" fill-rule="nonzero" fill="#ca3d3e"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="39.5" y="29.0">long handle = s.allocate();</tspan></text></g><g transform="translate(5906.060000,3405.220000)" id="shape360"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,51.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,51.0L.0,57.0L-3.0,51.0L3.0,51.0" fill="#191919"/></g><g transform="translate(5906.590000,3523.470000)" id="shape361"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,55.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,55.0L.0,61.0L-3.0,55.0L3.0,55.0" fill="#191919"/><rect width="25.0" height="19.0" x="-11.5" y="27.6" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-11.5" y="42.6">true</tspan></text></g><g transform="translate(5788.590000,3714.480000)" id="shape362"><path stroke="#323232" stroke-width="1" d="M236.0,40.0L236.0,7.0C236.0,3.1,232.9,.0,229.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.0C.0,43.9,3.1,47.0,7.0,47.0L229.0,47.0C232.9,47.0,236.0,43.9,236.0,40.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.5" y="19.5">s.chunk.initBufWithSubpage(</tspan><tspan style="font-size:10.00pt" x="40.0" y="38.5">buf, handle, reqCapacity);</tspan></text></g><g transform="translate(5906.590000,3630.480000)" id="shape363"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,78.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,78.0L.0,84.0L-3.0,78.0L3.0,78.0" fill="#191919"/></g><g transform="translate(5452.590000,3715.980000)" id="shape364"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="27.5" y="27.5"> return;</tspan></text></g><g transform="translate(5788.590000,3737.980000)" id="shape365"><path stroke="#191919" stroke-width="1" d="M.0,.0L-230.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-230.0,3.0L-236.0,.0L-230.0,-3.0L-230.0,3.0" fill="#191919"/></g><g transform="translate(5384.590000,3580.480000)" id="shape366"><path stroke="#323232" stroke-width="1" d="M236.0,40.0L236.0,7.0C236.0,3.1,232.9,.0,229.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.0C.0,43.9,3.1,47.0,7.0,47.0L229.0,47.0C232.9,47.0,236.0,43.9,236.0,40.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.5" y="19.5">allocateNormal(buf, reqCapacity, </tspan><tspan style="font-size:10.00pt" x="71.5" y="38.5">normCapacity);</tspan></text></g><g transform="translate(5809.340000,3493.220000)" id="shape367"><path stroke="#191919" stroke-width="1" d="M.0,.0L-306.0,.0L-306.0,81.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-303.0,81.0L-306.0,87.0L-309.0,81.0L-303.0,81.0" fill="#191919"/><rect width="28.0" height="19.0" x="-319.0" y="33.1" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-319.0" y="48.1">false</tspan></text></g><g transform="translate(5502.590000,3627.480000)" id="shape368"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,82.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,82.0L.0,88.0L-3.0,82.0L3.0,82.0" fill="#191919"/></g><g transform="translate(4868.775000,2747.740000)" id="shape369"><path stroke="#323232" stroke-width="1" d="M128.9,60.5L257.8,30.3L128.9,.0L.0,30.3L128.9,60.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="47.4" y="34.8">normCapacity &lt;= chunkSize</tspan></text></g><g transform="translate(5362.840000,2776.470000)" id="shape370"><path stroke="#191919" stroke-width="1" d="M.0,.0L-229.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-229.0,3.0L-235.0,.0L-229.0,-3.0L-229.0,3.0" fill="#191919"/><rect width="28.0" height="19.0" x="-117.7" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-117.7" y="5.5">false</tspan></text></g><g transform="translate(4868.775000,2853.990000)" id="shape371"><path stroke="#323232" stroke-width="1" d="M257.8,53.0L257.8,7.0C257.8,3.1,254.6,.0,250.8,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L250.8,60.0C254.6,60.0,257.8,56.9,257.8,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="34.4" y="26.0">cache.allocateNormal(this, buf, </tspan><tspan style="font-size:10.00pt" x="43.9" y="45.0">reqCapacity, normCapacity)</tspan></text></g><g transform="translate(4909.900000,2966.490000)" id="shape372"><path stroke="#323232" stroke-width="1" d="M87.8,60.5L175.5,30.3L87.8,.0L.0,30.3L87.8,60.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="33.8" y="34.8">是否从缓存分配成功</tspan></text></g><g transform="translate(5146.150000,2974.740000)" id="shape373"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="31.0" y="27.5">return</tspan></text></g><g transform="translate(4997.650000,2808.240000)" id="shape374"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,38.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,38.0L.0,44.0L-3.0,38.0L3.0,38.0" fill="#191919"/><rect width="25.0" height="19.0" x="-11.5" y="8.8" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-11.5" y="23.8">true</tspan></text></g><g transform="translate(4997.650000,2913.990000)" id="shape375"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,47.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,47.0L.0,53.0L-3.0,47.0L3.0,47.0" fill="#191919"/></g><g transform="translate(5085.400000,2996.740000)" id="shape376"><path stroke="#191919" stroke-width="1" d="M.0,.0L55.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M55.0,-3.0L61.0,.0L55.0,3.0L55.0,-3.0" fill="#191919"/><rect width="13.0" height="19.0" x="21.3" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.3" y="5.5">是</tspan></text></g><g transform="translate(4827.650000,3093.985000)" id="shape377"><path stroke="#323232" stroke-width="1" d="M340.0,38.5L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,38.5C.0,42.4,3.1,45.5,7.0,45.5L333.0,45.5C336.9,45.5,340.0,42.4,340.0,38.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.0" y="28.3">allocateNormal(buf, reqCapacity, normCapacity);</tspan></text></g><g transform="translate(4997.650000,3026.990000)" id="shape378"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,61.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,61.0L.0,67.0L-3.0,61.0L3.0,61.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="15.4" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="30.4">false</tspan></text></g><g transform="translate(4868.775000,2599.980000)" id="shape379"><path stroke="#323232" stroke-width="1" d="M257.8,53.0L257.8,7.0C257.8,3.1,254.6,.0,250.8,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L250.8,60.0C254.6,60.0,257.8,56.9,257.8,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.9" y="35.5">allocateHuge(buf, reqCapacity);</tspan></text></g><g transform="translate(4997.650000,2747.740000)" id="shape380"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,-82.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-3.0,-82.0L.0,-88.0L3.0,-82.0L-3.0,-82.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="-54.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="-39.3">false</tspan></text></g><g transform="translate(4827.650000,3222.480000)" id="shape381"><path stroke="#323232" stroke-width="1" d="M27.0,60.0L313.0,60.0C316.9,60.0,321.7,57.4,323.9,54.2L336.1,35.8C338.3,32.6,338.3,27.4,336.1,24.2L323.9,5.8C321.7,2.6,316.9,.0,313.0,.0L27.0,.0C23.1,.0,18.3,2.6,16.1,5.8L3.9,24.2C1.7,27.4,1.7,32.6,3.9,35.8L16.1,54.2C18.3,57.4,23.1,60.0,27.0,60.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="47.0" y="26.0">allocateNormal(PooledByteBuf&lt;T> buf, </tspan><tspan style="font-size:10.00pt" x="65.0" y="45.0">int reqCapacity, int normCapacity)</tspan></text></g><g transform="translate(4997.650000,3139.500000)" id="shape382"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.0,76.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,76.0L.0,82.0L-3.0,76.0L3.0,76.0" fill="#191919"/></g><g transform="translate(5384.590000,3603.980000)" id="shape383"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-45.0,.0L-45.0,-351.5L-210.9,-351.5" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-210.9,-348.5L-216.9,-351.5L-210.9,-354.5L-210.9,-348.5" fill="#191919"/></g><g transform="translate(6114.580000,924.488000)" id="shape384"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L166.9,.0L166.9,1626.3L-32.0,1626.3" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-32.0,1629.3L-38.0,1626.3L-32.0,1623.3L-32.0,1629.3" fill="#191919"/></g><g transform="translate(4827.650000,3336.975000)" id="shape385"><path stroke="#323232" stroke-width="1" d="M340.0,63.5L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,63.5C.0,67.4,3.1,70.5,7.0,70.5L333.0,70.5C336.9,70.5,340.0,67.4,340.0,63.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="31.2">按照顺序依次从q050,q025,q000,qInit,q075分配内存 </tspan><tspan style="font-size:10.00pt" x="28.0" y="50.2">q050.allocate(buf, reqCapacity, normCapacity)</tspan></text></g><g transform="translate(4997.650000,3282.480000)" id="shape386"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,48.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,48.0L.0,54.0L-3.0,48.0L3.0,48.0" fill="#191919"/></g><g transform="translate(4868.775000,3452.975000)" id="shape387"><path stroke="#323232" stroke-width="1" d="M128.9,70.5L257.8,35.2L128.9,.0L.0,35.2L128.9,70.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="46.4" y="39.7">是否从PoolChunkList分配成功</tspan></text></g><g transform="translate(4997.650000,3407.470000)" id="shape388"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,38.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,38.0L.0,44.0L-3.0,38.0L3.0,38.0" fill="#191919"/></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,4714.590000,2419.740000)" id="group389"><g id="group390"><path stroke="#323232" stroke-width="1" d="M.0,.0L1483.7,.0L1483.7,1039.0L.0,1039.0L.0,.0z" fill-rule="nonzero" fill="#7e7e7e" id="shape391"/><g transform="matrix(0.000000,-1.000000,1.000000,0.000000,-0.000000,1039.000000)" id="shape392"><path stroke="#323232" stroke-width="1" d="M.0,.0L1039.0,.0L1039.0,56.7L.0,56.7L.0,.0z" fill-rule="nonzero" fill="#7e7e7e"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="466.0" y="34.0">PoolThreadCache</tspan></text></g></g><g transform="translate(0.000000,1039.000000)" id="group393"><path stroke="#323232" stroke-width="1" d="M.0,.0L1483.7,.0L1483.7,944.0L.0,944.0L.0,.0z" fill-rule="nonzero" fill="#dedede" id="shape394"/><g transform="matrix(0.000000,-1.000000,1.000000,0.000000,-0.000100,944.000000)" id="shape395"><path stroke="#323232" stroke-width="1" d="M.0,.0L944.0,.0L944.0,56.7L.0,56.7L.0,.0z" fill-rule="nonzero" fill="#dedede"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="406.0" y="34.0">MemoryRegionCache</tspan></text></g></g></g><g transform="translate(5187.590000,3466.220000)" id="shape396"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="27.5" y="27.5"> return;</tspan></text></g><g transform="translate(5126.520000,3488.220000)" id="shape397"><path stroke="#191919" stroke-width="1" d="M.0,.0L54.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M54.0,-3.0L60.0,.0L54.0,3.0L54.0,-3.0" fill="#191919"/><rect width="13.0" height="19.0" x="21.3" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.3" y="5.5">是</tspan></text></g><g transform="translate(4827.650000,3568.980000)" id="shape398"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="87.5" y="26.0">PoolChunk c = newChunk(</tspan><tspan style="font-size:10.00pt" x="36.0" y="45.0">pageSize, maxOrder, pageShifts, chunkSize)</tspan></text></g><g transform="translate(4827.650000,3662.480000)" id="shape399"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#f5cfcf"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.5" y="35.5">long handle = c.allocate(normCapacity)</tspan></text></g><g transform="translate(4827.650000,3746.730000)" id="shape400"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="66.5" y="35.5">c.initBuf(buf, handle, reqCapacity)</tspan></text></g><g transform="translate(4827.650000,3830.980000)" id="shape401"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="135.5" y="35.5">qInit.add(c)</tspan></text></g><g transform="translate(4997.650000,3523.470000)" id="shape402"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,38.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,38.0L.0,44.0L-3.0,38.0L3.0,38.0" fill="#191919"/><rect width="13.0" height="19.0" x="-5.5" y="14.7" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-5.5" y="29.7">否</tspan></text></g><g transform="translate(4997.650000,3628.980000)" id="shape403"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,28.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,28.0L.0,34.0L-3.0,28.0L3.0,28.0" fill="#191919"/></g><g transform="translate(4997.650000,3722.480000)" id="shape404"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,18.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,18.0L.0,24.0L-3.0,18.0L3.0,18.0" fill="#191919"/></g><g transform="translate(4997.650000,3806.730000)" id="shape405"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,18.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,18.0L.0,24.0L-3.0,18.0L3.0,18.0" fill="#191919"/></g><g transform="translate(5167.650000,3860.980000)" id="shape406"><path stroke="#191919" stroke-width="1" d="M.0,.0L70.0,.0L70.0,-344.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M67.0,-344.0L70.0,-350.0L73.0,-344.0L67.0,-344.0" fill="#191919"/></g><g transform="translate(4261.590000,2953.990000)" id="shape407"><path stroke="#323232" stroke-width="1" d="M27.0,65.0L389.0,65.0C392.9,65.0,397.6,62.3,399.7,59.0L412.3,38.5C414.4,35.2,414.4,29.8,412.3,26.5L399.7,6.0C397.6,2.7,392.9,.0,389.0,.0L27.0,.0C23.1,.0,18.4,2.7,16.3,6.0L3.7,26.5C1.6,29.8,1.6,35.2,3.7,38.5L16.3,59.0C18.4,62.3,23.1,65.0,27.0,65.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="24.5" y="28.5">allocateNormal(PoolArena&lt;?> area, PooledByteBuf&lt;?> buf,</tspan><tspan style="font-size:10.00pt" x="101.0" y="47.5"> int reqCapacity, int normCapacity)</tspan></text></g><g transform="translate(4261.590000,2714.990000)" id="shape408"><path stroke="#323232" stroke-width="1" d="M27.0,65.0L389.0,65.0C392.9,65.0,397.6,62.3,399.7,59.0L412.3,38.5C414.4,35.2,414.4,29.8,412.3,26.5L399.7,6.0C397.6,2.7,392.9,.0,389.0,.0L27.0,.0C23.1,.0,18.4,2.7,16.3,6.0L3.7,26.5C1.6,29.8,1.6,35.2,3.7,38.5L16.3,59.0C18.4,62.3,23.1,65.0,27.0,65.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.0" y="28.5">allocateSmall(PoolArena&lt;?> area, PooledByteBuf&lt;?> buf, </tspan><tspan style="font-size:10.00pt" x="103.0" y="47.5">int reqCapacity, int normCapacity)</tspan></text></g><g transform="translate(4261.590000,2504.480000)" id="shape409"><path stroke="#323232" stroke-width="1" d="M27.0,65.0L389.0,65.0C392.9,65.0,397.6,62.3,399.7,59.0L412.3,38.5C414.4,35.2,414.4,29.8,412.3,26.5L399.7,6.0C397.6,2.7,392.9,.0,389.0,.0L27.0,.0C23.1,.0,18.4,2.7,16.3,6.0L3.7,26.5C1.6,29.8,1.6,35.2,3.7,38.5L16.3,59.0C18.4,62.3,23.1,65.0,27.0,65.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.0" y="28.5">allocateTiny(PoolArena&lt;?> area, PooledByteBuf&lt;?> buf,</tspan><tspan style="font-size:10.00pt" x="103.0" y="47.5">int reqCapacity, int normCapacity)</tspan></text></g><g transform="translate(4299.590000,2626.480000)" id="shape410"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.5" y="26.0">MemoryRegionCache cache = cacheForTiny(</tspan><tspan style="font-size:10.00pt" x="108.5" y="45.0">area, normCapacity)</tspan></text></g><g transform="translate(4299.590000,2836.990000)" id="shape411"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="28.5" y="26.0">MemoryRegionCache cache = cacheForSmall(</tspan><tspan style="font-size:10.00pt" x="108.5" y="45.0">area, normCapacity)</tspan></text></g><g transform="translate(4299.590000,3075.990000)" id="shape412"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="22.0" y="26.0">MemoryRegionCache cache = cacheForNormal(</tspan><tspan style="font-size:10.00pt" x="108.5" y="45.0">area, normCapacity)</tspan></text></g><g transform="translate(4346.840000,3192.990000)" id="shape413"><path stroke="#323232" stroke-width="1" d="M245.5,53.0L245.5,7.0C245.5,3.1,242.4,.0,238.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L238.5,60.0C242.4,60.0,245.5,56.9,245.5,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="23.3" y="35.5">allocate(cache, buf, reqCapacity)</tspan></text></g><g transform="translate(4469.590000,2569.480000)" id="shape414"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,51.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,51.0L.0,57.0L-3.0,51.0L3.0,51.0" fill="#191919"/></g><g transform="translate(4469.590000,2779.990000)" id="shape415"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,51.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,51.0L.0,57.0L-3.0,51.0L3.0,51.0" fill="#191919"/></g><g transform="translate(4469.590000,3018.990000)" id="shape416"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,51.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,51.0L.0,57.0L-3.0,51.0L3.0,51.0" fill="#191919"/></g><g transform="translate(4299.590000,3105.990000)" id="shape417"><path stroke="#191919" stroke-width="1" d="M.0,.0L-28.0,.0L-28.0,117.0L41.0,117.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M41.0,114.0L47.0,117.0L41.0,120.0L41.0,114.0" fill="#191919"/></g><g transform="translate(4299.590000,2866.990000)" id="shape418"><path stroke="#191919" stroke-width="1" d="M.0,.0L-66.0,.0L-66.0,356.0L41.0,356.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M41.0,353.0L47.0,356.0L41.0,359.0L41.0,353.0" fill="#191919"/></g><g transform="translate(4299.590000,2656.480000)" id="shape419"><path stroke="#191919" stroke-width="1" d="M.0,.0L-66.0,.0L-66.0,566.0L-34.0,566.0C-34.0,562.7,-31.3,560.0,-28.0,560.0C-24.7,560.0,-22.0,562.7,-22.0,566.0L41.0,566.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M41.0,563.0L47.0,566.0L41.0,569.0L41.0,563.0" fill="#191919"/></g><g transform="translate(3713.590000,2504.480000)" id="shape420"><path stroke="#323232" stroke-width="1" d="M20.0,65.0L396.0,65.0L416.0,32.5L396.0,.0L20.0,.0L.0,32.5L20.0,65.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.0" y="28.5">allocate(MemoryRegionCache&lt;?> cache, PooledByteBuf buf, </tspan><tspan style="font-size:10.00pt" x="159.5" y="47.5">int reqCapacity)</tspan></text></g><g transform="translate(4469.590000,3252.990000)" id="shape421"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.0,45.5L-312.0,45.5L-312.0,-716.0L-334.0,-716.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-334.0,-713.0L-340.0,-716.0L-334.0,-719.0L-334.0,-713.0" fill="#191919"/></g><g transform="translate(3758.590000,2626.480000)" id="shape422"><path stroke="#323232" stroke-width="1" d="M340.0,53.0L340.0,7.0C340.0,3.1,336.9,.0,333.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.0,60.0C336.9,60.0,340.0,56.9,340.0,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.5" y="35.5"> boolean allocated = cache.allocate(buf, reqCapacity)</tspan></text></g><g transform="translate(3929.480000,2569.480000)" id="shape423"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,51.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,51.0L.0,57.0L-3.0,51.0L3.0,51.0" fill="#191919"/></g><g transform="translate(3785.837000,2717.490000)" id="shape424"><path stroke="#323232" stroke-width="1" d="M143.8,62.5L287.6,31.3L143.8,.0L.0,31.3L143.8,62.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="92.8" y="27.3">++allocations >= </tspan><tspan style="font-size:9.00pt" x="55.8" y="44.3">freeSweepAllocationThreshold</tspan></text></g><g transform="translate(3928.590000,2686.480000)" id="shape425"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,25.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,25.0L.0,31.0L-3.0,25.0L3.0,25.0" fill="#191919"/></g><g transform="translate(3870.847500,2836.985000)" id="shape426"><path stroke="#323232" stroke-width="1" d="M117.6,41.0L117.6,7.0C117.6,3.1,114.5,.0,110.6,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,41.0C.0,44.9,3.1,48.0,7.0,48.0L110.6,48.0C114.5,48.0,117.6,44.9,117.6,41.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="11.8" y="20.0">allocations = 0;</tspan><tspan style="font-size:10.00pt" x="40.8" y="39.0">trim();</tspan></text></g><g transform="translate(3929.650000,2779.990000)" id="shape427"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,51.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,51.0L.0,57.0L-3.0,51.0L3.0,51.0" fill="#191919"/><rect width="25.0" height="19.0" x="-11.5" y="15.2" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-11.5" y="30.2">true</tspan></text></g><g transform="translate(4868.770000,2883.990000)" id="shape428"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-96.2,.0L-96.2,102.5L-185.2,102.5" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-185.2,105.5L-191.2,102.5L-185.2,99.5L-185.2,105.5" fill="#191919"/></g><g transform="translate(3796.430000,2937.985000)" id="shape429"><path stroke="#323232" stroke-width="1" d="M20.0,48.0L244.3,48.0L264.3,24.0L244.3,.0L20.0,.0L.0,24.0L20.0,48.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="115.7" y="29.5">trim()</tspan></text></g><g transform="translate(3805.840000,3015.490000)" id="shape430"><path stroke="#323232" stroke-width="1" d="M245.5,117.0L245.5,7.0C245.5,3.1,242.4,.0,238.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,117.0C.0,120.9,3.1,124.0,7.0,124.0L238.5,124.0C242.4,124.0,245.5,120.9,245.5,117.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.8" y="20.0">trim(tinySubPageDirectCaches);</tspan><tspan style="font-size:10.00pt" x="21.8" y="39.0">trim(smallSubPageDirectCaches);</tspan><tspan style="font-size:10.00pt" x="44.3" y="58.0">trim(normalDirectCaches)</tspan><tspan style="font-size:10.00pt" x="28.3" y="77.0">trim(tinySubPageHeapCaches);</tspan><tspan style="font-size:10.00pt" x="24.3" y="96.0">trim(smallSubPageHeapCaches);</tspan><tspan style="font-size:10.00pt" x="45.3" y="115.0">trim(normalHeapCaches);</tspan></text></g><g transform="translate(3928.590000,2986.000000)" id="shape431"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,22.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,22.0L.0,28.0L-3.0,22.0L3.0,22.0" fill="#191919"/></g><g transform="translate(3758.590000,3204.975000)" id="shape432"><path stroke="#323232" stroke-width="1" d="M20.0,48.0L320.0,48.0L340.0,24.0L320.0,.0L20.0,.0L.0,24.0L20.0,48.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="47.5" y="29.5">trim(MemoryRegionCache&lt;?>[] caches)</tspan></text></g><g transform="translate(3928.590000,3139.490000)" id="shape433"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.0,59.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,59.0L.0,65.0L-3.0,59.0L3.0,59.0" fill="#191919"/></g><g transform="translate(3758.590000,3306.480000)" id="shape434"><path stroke="#323232" stroke-width="1" d="M.0,60.0L340.0,60.0L340.0,15.0L325.0,.0L15.0,.0L.0,15.0L.0,60.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="46.0" y="35.5">for (MemoryRegionCache&lt;?> c: caches)</tspan></text></g><g transform="translate(3928.590000,3252.990000)" id="shape435"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,48.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,48.0L.0,54.0L-3.0,48.0L3.0,48.0" fill="#191919"/></g><g transform="translate(3805.840000,3418.380000)" id="shape436"><path stroke="#323232" stroke-width="1" d="M245.5,53.0L245.5,7.0C245.5,3.1,242.4,.0,238.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L238.5,60.0C242.4,60.0,245.5,56.9,245.5,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="99.8" y="35.5">c.trim();</tspan></text></g><g transform="translate(3928.590000,3366.480000)" id="shape437"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,46.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,46.0L.0,52.0L-3.0,46.0L3.0,46.0" fill="#191919"/></g><g transform="translate(4051.340000,3448.380000)" id="shape438"><path stroke="#191919" stroke-width="1" d="M.0,.0L74.0,.0L74.0,-112.0L52.0,-112.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M52.0,-109.0L46.0,-112.0L52.0,-115.0L52.0,-109.0" fill="#191919"/></g><g transform="translate(3250.270000,2513.795000)" id="shape439"><path stroke="#323232" stroke-width="1" d="M20.0,46.4L320.3,46.4L340.3,23.2L320.3,.0L20.0,.0L.0,23.2L20.0,46.4z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.7" y="28.7">allocate(PooledByteBuf&lt;T> buf, int reqCapacity)</tspan></text></g><g transform="translate(3758.590000,2656.480000)" id="shape440"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-120.0,.0L-120.0,-119.5L-162.0,-119.5" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-162.0,-116.5L-168.0,-119.5L-162.0,-122.5L-162.0,-116.5" fill="#191919"/></g><g transform="translate(3353.949900,3129.115000)" id="shape441"><path stroke="#323232" stroke-width="1" d="M20.0,46.4L169.3,46.4L189.3,23.2L169.3,.0L20.0,.0L.0,23.2L20.0,46.4z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="78.2" y="28.7">trim()</tspan></text></g><g transform="translate(3805.840000,3448.380000)" id="shape442"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-195.0,.0L-195.0,-296.1L-256.6,-296.1" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-256.6,-293.1L-262.6,-296.1L-256.6,-299.1L-256.6,-293.1" fill="#191919"/></g><g transform="translate(3353.949900,3219.480000)" id="shape443"><path stroke="#323232" stroke-width="1" d="M189.3,53.0L189.3,7.0C189.3,3.1,186.2,.0,182.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L182.3,60.0C186.2,60.0,189.3,56.9,189.3,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.7" y="26.0">free = size - allocations;</tspan><tspan style="font-size:10.00pt" x="47.7" y="45.0">allocations = 0;</tspan></text></g><g transform="translate(3354.260000,3312.540000)" id="shape444"><path stroke="#323232" stroke-width="1" d="M94.5,47.9L189.0,23.9L94.5,.0L.0,23.9L94.5,47.9z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="71.0" y="28.4">free > 0</tspan></text></g><g transform="translate(3354.260000,3405.600000)" id="shape445"><path stroke="#323232" stroke-width="1" d="M189.0,40.9L189.0,7.0C189.0,3.1,185.9,.0,182.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.9C.0,44.7,3.1,47.9,7.0,47.9L182.0,47.9C185.9,47.9,189.0,44.7,189.0,40.9z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="66.5" y="29.4">free(free)</tspan></text></g><g transform="translate(3448.610000,3175.490000)" id="shape446"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,38.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,38.0L.0,44.0L-3.0,38.0L3.0,38.0" fill="#191919"/></g><g transform="translate(3448.610000,3279.480000)" id="shape447"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,27.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,27.0L.0,33.0L-3.0,27.0L3.0,27.0" fill="#191919"/></g><g transform="translate(3448.760000,3360.430000)" id="shape448"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,38.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,38.0L.0,44.0L-3.0,38.0L3.0,38.0" fill="#191919"/></g><g transform="translate(3353.949900,3498.665000)" id="shape449"><path stroke="#323232" stroke-width="1" d="M20.0,46.4L169.3,46.4L189.3,23.2L169.3,.0L20.0,.0L.0,23.2L20.0,46.4z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="55.7" y="29.0">free(int max)</tspan></text></g><g transform="translate(3448.760000,3453.480000)" id="shape450"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,38.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,38.0L.0,44.0L-3.0,38.0L3.0,38.0" fill="#191919"/></g><g transform="translate(3354.270000,3590.205000)" id="shape451"><path stroke="#323232" stroke-width="1" d="M.0,70.4L189.3,70.4L189.3,17.6L171.7,.0L17.6,.0L.0,17.6L.0,70.4z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.2" y="21.7">for (numFreed = 0; </tspan><tspan style="font-size:10.00pt" x="40.2" y="40.7">numFreed &lt; max; </tspan><tspan style="font-size:10.00pt" x="51.7" y="59.7">numFreed++)</tspan></text></g><g transform="translate(3448.610000,3545.030000)" id="shape452"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,38.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,38.0L.0,44.0L-3.0,38.0L3.0,38.0" fill="#191919"/></g><g transform="translate(3354.260000,3690.540000)" id="shape453"><path stroke="#323232" stroke-width="1" d="M189.0,40.9L189.0,7.0C189.0,3.1,185.9,.0,182.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.9C.0,44.7,3.1,47.9,7.0,47.9L182.0,47.9C185.9,47.9,189.0,44.7,189.0,40.9z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.5" y="29.5">entry = queue.poll();</tspan></text></g><g transform="translate(3353.950000,3768.570000)" id="shape454"><path stroke="#323232" stroke-width="1" d="M94.5,47.5L189.0,23.8L94.5,.0L.0,23.8L94.5,47.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="59.5" y="28.3">entry != null</tspan></text></g><g transform="translate(3165.260000,3601.450000)" id="shape455"><path stroke="#323232" stroke-width="1" d="M151.0,40.9L151.0,7.0C151.0,3.1,147.9,.0,144.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.9C.0,44.7,3.1,47.9,7.0,47.9L144.0,47.9C147.9,47.9,151.0,44.7,151.0,40.9z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="26.0" y="29.4">freeEntry(entry);</tspan></text></g><g transform="translate(3448.930000,3660.580000)" id="shape456"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,24.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,24.0L.0,30.0L-3.0,24.0L3.0,24.0" fill="#191919"/></g><g transform="translate(3448.760000,3738.430000)" id="shape457"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,23.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,23.0L.0,29.0L-3.0,23.0L3.0,23.0" fill="#191919"/></g><g transform="translate(3383.485100,3856.480000)" id="shape458"><path stroke="#323232" stroke-width="1" d="M131.9,27.5L131.9,7.0C131.9,3.1,128.8,.0,124.9,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,27.5C.0,31.4,3.1,34.5,7.0,34.5L124.9,34.5C128.8,34.5,131.9,31.4,131.9,27.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.5" y="22.8">return numFreed;</tspan></text></g><g transform="translate(3448.450000,3816.070000)" id="shape459"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,33.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,33.0L.0,39.0L-3.0,33.0L3.0,33.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="4.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="19.3">false</tspan></text></g><g transform="translate(3353.950000,3792.320000)" id="shape460"><path stroke="#191919" stroke-width="1" d="M.0,.0L-113.0,.0L-113.0,-136.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-116.0,-136.0L-113.0,-142.0L-110.0,-136.0L-116.0,-136.0" fill="#191919"/><rect width="25.0" height="19.0" x="-124.5" y="-80.8" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-124.5" y="-65.8">true</tspan></text></g><g transform="translate(3316.260000,3625.390000)" id="shape461"><path stroke="#191919" stroke-width="1" d="M.0,.0L32.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M32.0,-3.0L38.0,.0L32.0,3.0L32.0,-3.0" fill="#191919"/></g><g transform="translate(2862.949900,3129.115000)" id="shape462"><path stroke="#323232" stroke-width="1" d="M20.0,46.4L169.3,46.4L189.3,23.2L169.3,.0L20.0,.0L.0,23.2L20.0,46.4z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="28.7" y="29.0">freeEntry(Entry entry)</tspan></text></g><g transform="translate(3240.760000,3601.450000)" id="shape463"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.5,.0L.5,-449.1L-182.5,-449.1" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-182.5,-446.1L-188.5,-449.1L-182.5,-452.1L-182.5,-446.1" fill="#191919"/></g><g transform="translate(2849.110000,3231.600000)" id="shape464"><path stroke="#323232" stroke-width="1" d="M217.0,40.9L217.0,7.0C217.0,3.1,213.9,.0,210.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.9C.0,44.7,3.1,47.9,7.0,47.9L210.0,47.9C213.9,47.9,217.0,44.7,217.0,40.9z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.0" y="29.4">PoolChunk chunk = entry.chunk;</tspan></text></g><g transform="translate(2957.610000,3175.490000)" id="shape465"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,50.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,50.0L.0,56.0L-3.0,50.0L3.0,50.0" fill="#191919"/></g><g transform="translate(2849.110000,3312.540000)" id="shape466"><path stroke="#323232" stroke-width="1" d="M217.0,40.9L217.0,7.0C217.0,3.1,213.9,.0,210.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.9C.0,44.7,3.1,47.9,7.0,47.9L210.0,47.9C213.9,47.9,217.0,44.7,217.0,40.9z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.5" y="29.5">long handle = entry.handle</tspan></text></g><g transform="translate(2957.610000,3279.480000)" id="shape467"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,26.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,26.0L.0,32.0L-3.0,26.0L3.0,26.0" fill="#191919"/></g><g transform="translate(2849.110000,3388.540000)" id="shape468"><path stroke="#323232" stroke-width="1" d="M217.0,40.9L217.0,7.0C217.0,3.1,213.9,.0,210.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.9C.0,44.7,3.1,47.9,7.0,47.9L210.0,47.9C213.9,47.9,217.0,44.7,217.0,40.9z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="64.0" y="29.5">entry.recycle();</tspan></text></g><g transform="translate(2849.110000,3477.600000)" id="shape469"><path stroke="#323232" stroke-width="1" d="M217.0,40.9L217.0,7.0C217.0,3.1,213.9,.0,210.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,40.9C.0,44.7,3.1,47.9,7.0,47.9L210.0,47.9C213.9,47.9,217.0,44.7,217.0,40.9z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.5" y="20.0">chunk.arena.freeChunk(</tspan><tspan style="font-size:10.00pt" x="32.0" y="39.0">chunk, handle, sizeClass);</tspan></text></g><g transform="translate(2957.610000,3360.430000)" id="shape470"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,21.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,21.0L.0,27.0L-3.0,21.0L3.0,21.0" fill="#191919"/></g><g transform="translate(2957.610000,3436.430000)" id="shape471"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,34.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,34.0L.0,40.0L-3.0,34.0L3.0,34.0" fill="#191919"/></g><g transform="translate(3293.180000,2607.480000)" id="shape472"><path stroke="#323232" stroke-width="1" d="M254.5,53.0L254.5,7.0C254.5,3.1,251.4,.0,247.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L247.5,60.0C251.4,60.0,254.5,56.9,254.5,53.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="33.8" y="35.5">Entry&lt;T> entry = queue.poll();</tspan></text></g><g transform="translate(3250.270000,2714.990000)" id="shape473"><path stroke="#323232" stroke-width="1" d="M340.3,53.0L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.3,60.0C337.2,60.0,340.3,56.9,340.3,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="12.7" y="35.5">initBuf(entry.chunk, entry.handle, buf, reqCapacity);</tspan></text></g><g transform="translate(3250.270000,2804.480000)" id="shape474"><path stroke="#323232" stroke-width="1" d="M340.3,53.0L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.3,60.0C337.2,60.0,340.3,56.9,340.3,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="125.7" y="35.5">entry.recycle();</tspan></text></g><g transform="translate(3250.270000,2898.480000)" id="shape475"><path stroke="#323232" stroke-width="1" d="M340.3,53.0L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.3,60.0C337.2,60.0,340.3,56.9,340.3,53.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="124.2" y="35.5">++ allocations;</tspan></text></g><g transform="translate(3420.430000,2560.170000)" id="shape476"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,40.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,40.0L.0,46.0L-3.0,40.0L3.0,40.0" fill="#191919"/></g><g transform="translate(3420.430000,2667.480000)" id="shape477"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,41.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,41.0L.0,47.0L-3.0,41.0L3.0,41.0" fill="#191919"/></g><g transform="translate(3420.430000,2774.990000)" id="shape478"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,24.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,24.0L.0,30.0L-3.0,24.0L3.0,24.0" fill="#191919"/></g><g transform="translate(3420.430000,2864.480000)" id="shape479"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,28.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,28.0L.0,34.0L-3.0,28.0L3.0,28.0" fill="#191919"/></g><g transform="translate(3343.349900,2996.480000)" id="shape480"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L132.2,44.0L132.2,44.0C144.3,44.0,154.2,34.2,154.2,22.0C154.2,9.8,144.3,.0,132.2,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="42.1" y="27.5">return true;</tspan></text></g><g transform="translate(3420.430000,2958.480000)" id="shape481"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,32.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,32.0L.0,38.0L-3.0,32.0L3.0,32.0" fill="#191919"/></g><g transform="translate(2787.450000,2513.795000)" id="shape482"><path stroke="#323232" stroke-width="1" d="M20.0,46.4L320.3,46.4L340.3,23.2L320.3,.0L20.0,.0L.0,23.2L20.0,46.4z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="39.2" y="19.5">initBuf(PoolChunk&lt;T> chunk, long handle, </tspan><tspan style="font-size:10.00pt" x="47.2" y="38.5">PooledByteBuf&lt;T> buf, int reqCapacity)</tspan></text></g><g transform="translate(3250.270000,2744.990000)" id="shape483"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-46.0,.0L-46.0,-208.0L-116.5,-208.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-116.5,-205.0L-122.5,-208.0L-116.5,-211.0L-116.5,-205.0" fill="#191919"/></g><g transform="translate(2818.280000,2719.990000)" id="shape484"><path stroke="#323232" stroke-width="1" d="M278.7,53.0L278.7,7.0C278.7,3.1,275.5,.0,271.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L271.7,60.0C275.5,60.0,278.7,56.9,278.7,53.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="20.3" y="35.5">chunk.initBuf(buf, handle, reqCapacity)</tspan></text></g><g transform="translate(2818.280000,2607.480000)" id="shape485"><path stroke="#323232" stroke-width="1" d="M139.3,60.0L278.7,30.0L139.3,.0L.0,30.0L139.3,60.0z" fill-rule="nonzero" fill="#aada8f"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="64.8" y="34.5">判断MemoryRegionCache</tspan></text></g><g transform="translate(2957.610000,2560.170000)" id="shape486"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,40.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,40.0L.0,46.0L-3.0,40.0L3.0,40.0" fill="#191919"/></g><g transform="translate(2818.280000,2864.480000)" id="shape487"><path stroke="#323232" stroke-width="1" d="M278.7,53.0L278.7,7.0C278.7,3.1,275.5,.0,271.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L271.7,60.0C275.5,60.0,278.7,56.9,278.7,53.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="19.3" y="26.0">chunk.initBufWithSubpage(buf, handle, </tspan><tspan style="font-size:10.00pt" x="100.8" y="45.0">reqCapacity)</tspan></text></g><g transform="translate(2957.610000,2667.480000)" id="shape488"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,46.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,46.0L.0,52.0L-3.0,46.0L3.0,46.0" fill="#191919"/><rect width="208.0" height="19.0" x="-103.0" y="16.4" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-103.0" y="31.4">NormalMemoryRegionCache 类型</tspan></text></g><g transform="translate(3096.930000,2637.480000)" id="shape489"><path stroke="#191919" stroke-width="1" d="M.0,.0L26.0,.0L26.0,257.0L6.0,257.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M6.0,260.0L.0,257.0L6.0,254.0L6.0,260.0" fill="#191919"/><rect width="186.0" height="19.0" x="-66.0" y="172.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-66.0" y="187.9">SubPageMemoryRegionCache</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,2731.583000,2418.995000)" id="group490"><g id="group491"><path stroke="#323232" stroke-width="1" d="M.0,.0L1484.5,.0L1484.5,1533.1L.0,1533.1L.0,.0z" fill-rule="nonzero" fill="#7e7e7e" id="shape492"/><g transform="matrix(0.000000,-1.000000,1.000000,0.000000,-0.000000,1533.066000)" id="shape493"><path stroke="#323232" stroke-width="1" d="M.0,.0L1533.1,.0L1533.1,56.7L.0,56.7L.0,.0z" fill-rule="nonzero" fill="#7e7e7e"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="733.0" y="34.0">PoolChunk</tspan></text></g></g></g><g transform="translate(9805.065000,1658.467000)" id="group494"><g id="shape495"><path stroke="#323232" stroke-width="1" d="M1026.7,771.1L1026.7,.0L.0,.0L.0,771.1L1026.7,771.1z" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:30.00pt"><tspan style="font-size:24.00pt" x="4.3" y="37.0">Arean</tspan></text></g><g transform="translate(59.913000,191.113000)" id="shape496"><path stroke="#eb8989" stroke-width="4" d="M.0,.0L.0,151.0" fill="none"/><rect width="29.0" height="31.0" x="-13.5" y="54.7" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt"><tspan style="font-size:18.00pt" x="-13.5" y="79.7">0B</tspan></text></g><g transform="translate(285.913000,191.113000)" id="shape497"><path stroke="#eb8989" stroke-width="4" d="M.0,.0L.0,151.0" fill="none"/><rect width="57.0" height="31.0" x="-27.5" y="54.7" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt"><tspan style="font-size:18.00pt" x="-27.5" y="79.7">512B</tspan></text></g><g transform="translate(511.913000,187.583000)" id="shape498"><path stroke="#eb8989" stroke-width="4" d="M.0,.0L.0,151.0" fill="none"/><rect width="29.0" height="31.0" x="-13.5" y="54.7" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt"><tspan style="font-size:18.00pt" x="-13.5" y="79.7">8K</tspan></text></g><g transform="translate(738.913000,187.583000)" id="shape499"><path stroke="#eb8989" stroke-width="4" d="M.0,.0L.0,151.0" fill="none"/><rect width="51.0" height="31.0" x="-24.5" y="54.7" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt"><tspan style="font-size:18.00pt" x="-24.5" y="79.7">16M</tspan></text></g><g transform="matrix(0.000000,-1.000000,-1.000000,0.000000,285.913000,187.583000)" id="shape500"><path stroke="#39aa71" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,104.1C17.6,106.6,18.5,109.1,20.2,110.8C22.0,112.6,24.5,113.4,27.0,113.1C24.5,112.7,22.0,113.6,20.2,115.3C18.5,117.1,17.6,119.6,18.0,122.1L18.0,217.2C18.4,219.6,17.5,222.1,15.8,223.9C14.0,225.7,11.5,226.5,9.0,226.2L.0,226.2" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt;font-weight:bold" transform="matrix(0.00,-1.00,-1.00,0.00,181.1,181.1)"><tspan style="font-size:18.00pt" x="39.5" y="107.1">TINY</tspan><tspan style="font-size:18.00pt" x="26.0" y="138.1">0-512B</tspan></text></g><g transform="matrix(0.000000,-1.000000,-1.000000,0.000000,512.913000,187.583000)" id="shape501"><path stroke="#39aa71" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,104.5C17.6,106.9,18.5,109.4,20.2,111.2C22.0,113.0,24.5,113.8,27.0,113.5C24.5,113.1,22.0,113.9,20.2,115.7C18.5,117.5,17.6,120.0,18.0,122.5L18.0,217.9C18.4,220.4,17.5,222.9,15.8,224.7C14.0,226.4,11.5,227.3,9.0,226.9L.0,226.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt;font-weight:bold" transform="matrix(0.00,-1.00,-1.00,0.00,181.5,181.5)"><tspan style="font-size:18.00pt" x="27.5" y="107.5">SMALL</tspan><tspan style="font-size:18.00pt" x="17.5" y="138.5">512B-8K</tspan></text></g><g transform="matrix(0.000000,-1.000000,-1.000000,0.000000,739.913000,187.583000)" id="shape502"><path stroke="#39aa71" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,104.5C17.6,106.9,18.5,109.4,20.2,111.2C22.0,113.0,24.5,113.8,27.0,113.5C24.5,113.1,22.0,113.9,20.2,115.7C18.5,117.5,17.6,120.0,18.0,122.5L18.0,217.9C18.4,220.4,17.5,222.9,15.8,224.7C14.0,226.4,11.5,227.3,9.0,226.9L.0,226.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt;font-weight:bold" transform="matrix(0.00,-1.00,-1.00,0.00,181.5,181.5)"><tspan style="font-size:18.00pt" x="12.5" y="107.5">NORMAL</tspan><tspan style="font-size:18.00pt" x="20.5" y="138.5">8K-16M</tspan></text></g><g transform="matrix(0.000000,-1.000000,-1.000000,0.000000,966.913000,187.583000)" id="shape503"><path stroke="#39aa71" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,104.5C17.6,106.9,18.5,109.4,20.2,111.2C22.0,113.0,24.5,113.8,27.0,113.5C24.5,113.1,22.0,113.9,20.2,115.7C18.5,117.5,17.6,120.0,18.0,122.5L18.0,217.9C18.4,220.4,17.5,222.9,15.8,224.7C14.0,226.4,11.5,227.3,9.0,226.9L.0,226.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:22.50pt;font-weight:bold" transform="matrix(0.00,-1.00,-1.00,0.00,181.5,181.5)"><tspan style="font-size:18.00pt" x="33.5" y="107.5">HUGE</tspan><tspan style="font-size:18.00pt" x="17.5" y="138.5">大于16M</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,194.673000,353.503000)" id="shape504"><path stroke="#0099d2" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,58.5C17.6,60.9,18.5,63.4,20.2,65.2C22.0,67.0,24.5,67.8,27.0,67.5C24.5,67.1,22.0,67.9,20.2,69.7C18.5,71.5,17.6,74.0,18.0,76.5L18.0,125.9C18.4,128.4,17.5,130.9,15.8,132.7C14.0,134.4,11.5,135.3,9.0,134.9L.0,134.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:16.25pt" transform="matrix(0.00,-1.00,1.00,0.00,-8.5,126.5)"><tspan style="font-size:13.00pt" x="27.0" y="62.5">Element</tspan><tspan style="font-size:13.00pt" x="39.5" y="85.5">400B</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,329.673000,353.503000)" id="shape505"><path stroke="#0099d2" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,58.5C17.6,60.9,18.5,63.4,20.2,65.2C22.0,67.0,24.5,67.8,27.0,67.5C24.5,67.1,22.0,67.9,20.2,69.7C18.5,71.5,17.6,74.0,18.0,76.5L18.0,125.9C18.4,128.4,17.5,130.9,15.8,132.7C14.0,134.4,11.5,135.3,9.0,134.9L.0,134.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:16.25pt" transform="matrix(0.00,-1.00,1.00,0.00,-8.5,126.5)"><tspan style="font-size:13.00pt" x="27.0" y="62.5">Element</tspan><tspan style="font-size:13.00pt" x="39.5" y="85.5">400B</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,515.673000,353.503000)" id="shape506"><path stroke="#0099d2" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,82.8C17.6,85.3,18.5,87.8,20.2,89.6C22.0,91.4,24.5,92.2,27.0,91.8C24.5,91.5,22.0,92.3,20.2,94.1C18.5,95.9,17.6,98.4,18.0,100.8L18.0,174.7C18.4,177.2,17.5,179.7,15.8,181.4C14.0,183.2,11.5,184.0,9.0,183.7L.0,183.7" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:16.25pt" transform="matrix(0.00,-1.00,1.00,0.00,-32.8,150.8)"><tspan style="font-size:13.00pt" x="27.0" y="86.8">Element</tspan><tspan style="font-size:13.00pt" x="49.5" y="109.8">7K</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,515.673000,423.003000)" id="shape507"><path stroke="#e1a822" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,219.0C17.6,221.4,18.5,223.9,20.2,225.7C22.0,227.5,24.5,228.3,27.0,228.0C24.5,227.6,22.0,228.4,20.2,230.2C18.5,232.0,17.6,234.5,18.0,237.0L18.0,446.9C18.4,449.4,17.5,451.9,15.8,453.7C14.0,455.4,11.5,456.3,9.0,455.9L.0,455.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:16.25pt" transform="matrix(0.00,-1.00,1.00,0.00,-169.0,287.0)"><tspan style="font-size:13.00pt" x="24.0" y="223.0">Subpage</tspan><tspan style="font-size:13.00pt" x="-150.0" y="246.0">Element由Subpage管理，Subpage是由Page转换而来</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,515.673000,507.003000)" id="shape508"><path stroke="#e1a822" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,219.0C17.6,221.4,18.5,223.9,20.2,225.7C22.0,227.5,24.5,228.3,27.0,228.0C24.5,227.6,22.0,228.4,20.2,230.2C18.5,232.0,17.6,234.5,18.0,237.0L18.0,446.9C18.4,449.4,17.5,451.9,15.8,453.7C14.0,455.4,11.5,456.3,9.0,455.9L.0,455.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:16.25pt" transform="matrix(0.00,-1.00,1.00,0.00,-157.5,298.5)"><tspan style="font-size:13.00pt" x="51.5" y="211.5">Page</tspan><tspan style="font-size:13.00pt" x="-155.0" y="234.5">Chunk 内部以 Page 为单位分配内存，一个 Page 大小为 8K</tspan><tspan style="font-size:13.00pt" x="-48.5" y="257.5">每个chunk由2048 个 Page组成</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,742.996000,611.003000)" id="shape509"><path stroke="#ca3d3e" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,332.6C17.6,335.1,18.5,337.6,20.2,339.4C22.0,341.1,24.5,342.0,27.0,341.6C24.5,341.3,22.0,342.1,20.2,343.9C18.5,345.6,17.6,348.1,18.0,350.6L18.0,674.2C18.4,676.7,17.5,679.2,15.8,681.0C14.0,682.8,11.5,683.6,9.0,683.2L.0,683.2" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:16.25pt" transform="matrix(0.00,-1.00,1.00,0.00,-271.1,412.1)"><tspan style="font-size:13.00pt" x="46.5" y="325.1">Chunk</tspan><tspan style="font-size:13.00pt" x="-210.5" y="348.1">Chunk 的大小是 16M，Chunk 是 Netty 对操作系统进行内存申请的单位，</tspan><tspan style="font-size:13.00pt" x="-120.0" y="371.1">后续所有的内存分配都是在 Chunk 里面进行操作。</tspan></text></g><g transform="matrix(0.000000,-1.000000,-1.000000,0.000000,968.996000,87.003000)" id="shape510"><path stroke="#64983e" stroke-width="4" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,445.6C17.6,448.1,18.5,450.6,20.2,452.4C22.0,454.1,24.5,455.0,27.0,454.6C24.5,454.3,22.0,455.1,20.2,456.9C18.5,458.6,17.6,461.1,18.0,463.6L18.0,900.2C18.4,902.7,17.5,905.2,15.8,907.0C14.0,908.8,11.5,909.6,9.0,909.2L.0,909.2" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:16.25pt" transform="matrix(0.00,-1.00,-1.00,0.00,502.1,502.1)"><tspan style="font-size:13.00pt" x="-113.0" y="461.1">申请内存分配时，会按照如下几类进行申请</tspan></text></g></g><g transform="translate(2313.520000,2504.485000)" id="shape511"><path stroke="#323232" stroke-width="1" d="M27.0,46.4L313.3,46.4C317.2,46.4,322.4,44.0,324.9,41.1L335.7,28.5C338.3,25.6,338.3,20.8,335.7,17.9L324.9,5.3C322.4,2.4,317.2,.0,313.3,.0L27.0,.0C23.1,.0,18.0,2.4,15.4,5.3L4.6,17.9C2.0,20.8,2.0,25.6,4.6,28.5L15.4,41.1C18.0,44.0,23.1,46.4,27.0,46.4z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.2" y="19.5">initBuf(PooledByteBuf&lt;T> buf, long handle,</tspan><tspan style="font-size:10.00pt" x="119.7" y="38.5"> int reqCapacity)</tspan></text></g><g transform="translate(2818.280000,2749.990000)" id="shape512"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-51.0,.0L-51.0,-222.3L-158.4,-222.3" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-158.4,-219.3L-164.4,-222.3L-158.4,-225.3L-158.4,-219.3" fill="#191919"/></g><g transform="translate(2313.520000,2607.480000)" id="shape513"><path stroke="#323232" stroke-width="1" d="M340.3,53.0L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.3,60.0C337.2,60.0,340.3,56.9,340.3,53.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="28.7" y="35.5">int memoryMapIdx = memoryMapIdx(handle)</tspan></text></g><g transform="translate(2313.520000,2719.990000)" id="shape514"><path stroke="#323232" stroke-width="1" d="M340.3,53.0L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.3,60.0C337.2,60.0,340.3,56.9,340.3,53.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="63.2" y="35.5">int bitmapIdx = bitmapIdx(handle);</tspan></text></g><g transform="translate(2483.520000,2550.000000)" id="shape515"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,51.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,51.0L.0,57.0L-3.0,51.0L3.0,51.0" fill="#191919"/></g><g transform="translate(2483.520000,2667.000000)" id="shape516"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,46.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,46.0L.0,52.0L-3.0,46.0L3.0,46.0" fill="#191919"/></g><g transform="translate(2344.350000,2832.720000)" id="shape517"><path stroke="#323232" stroke-width="1" d="M146.2,59.0L271.8,31.7C275.6,30.9,275.6,29.6,271.8,28.8L146.2,1.5C142.4,.7,136.3,.7,132.5,1.5L6.8,28.8C3.1,29.6,3.1,30.9,6.8,31.7L132.5,59.0C136.3,59.8,142.4,59.8,146.2,59.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="90.3" y="35.8">bitmapIdx == 0</tspan></text></g><g transform="translate(2483.680000,2779.990000)" id="shape518"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,47.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,47.0L.0,53.0L-3.0,47.0L3.0,47.0" fill="#191919"/></g><g transform="translate(2313.520000,2937.000000)" id="shape519"><path stroke="#323232" stroke-width="1" d="M340.3,53.0L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.3,60.0C337.2,60.0,340.3,56.9,340.3,53.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="68.7" y="26.0">initBufWithSubpage(buf, handle, </tspan><tspan style="font-size:10.00pt" x="97.2" y="45.0">bitmapIdx, reqCapacity)</tspan></text></g><g transform="translate(2483.680000,2893.220000)" id="shape520"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,39.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,39.0L.0,45.0L-3.0,39.0L3.0,39.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="10.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="25.5">false</tspan></text></g><g transform="translate(2313.520000,3035.295000)" id="shape521"><path stroke="#323232" stroke-width="1" d="M27.0,46.4L313.3,46.4C317.2,46.4,322.4,44.0,324.9,41.1L335.7,28.5C338.3,25.6,338.3,20.8,335.7,17.9L324.9,5.3C322.4,2.4,317.2,.0,313.3,.0L27.0,.0C23.1,.0,18.0,2.4,15.4,5.3L4.6,17.9C2.0,20.8,2.0,25.6,4.6,28.5L15.4,41.1C18.0,44.0,23.1,46.4,27.0,46.4z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.2" y="19.5">initBufWithSubpage(PooledByteBuf&lt;T> buf, </tspan><tspan style="font-size:10.00pt" x="37.7" y="38.5">long handle, int bitmapIdx, int reqCapacity)</tspan></text></g><g transform="translate(2483.520000,2997.000000)" id="shape522"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.0,32.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,32.0L.0,38.0L-3.0,32.0L3.0,32.0" fill="#191919"/></g><g transform="translate(2817.520000,2894.000000)" id="shape523"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-136.0,.0L-136.0,164.0L-158.0,164.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-158.0,167.0L-164.0,164.0L-158.0,161.0L-158.0,167.0" fill="#191919"/></g><g transform="translate(2313.520000,3569.192500)" id="shape524"><path stroke="#323232" stroke-width="1" d="M340.3,110.5L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,110.5C.0,114.4,3.1,117.5,7.0,117.5L333.3,117.5C337.2,117.5,340.3,114.4,340.3,110.5z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.2" y="26.5">offset = runOffset(memoryMapIdx) + offset</tspan><tspan style="font-size:10.00pt" x="4.2" y="64.5">buf.init(this, handle, offset, reqCapacity, </tspan><tspan style="font-size:10.00pt" x="4.2" y="83.5">runLength(memoryMapIdx), </tspan><tspan style="font-size:10.00pt" x="4.2" y="102.5">arena.parent.threadCache())</tspan></text></g><g transform="translate(2344.350000,2862.970000)" id="shape525"><path stroke="#191919" stroke-width="1" d="M.0,.0L-59.0,.0L-59.0,765.0L-37.0,765.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-37.0,762.0L-31.0,765.0L-37.0,768.0L-37.0,762.0" fill="#191919"/></g><g transform="translate(2313.520000,3131.610000)" id="shape526"><path stroke="#323232" stroke-width="1" d="M340.3,53.0L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.3,60.0C337.2,60.0,340.3,56.9,340.3,53.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="28.7" y="35.5">int memoryMapIdx = memoryMapIdx(handle)</tspan></text></g><g transform="translate(2313.520000,3231.600000)" id="shape527"><path stroke="#323232" stroke-width="1" d="M340.3,53.0L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L333.3,60.0C337.2,60.0,340.3,56.9,340.3,53.0z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="81.2" y="26.0">PoolSubpage&lt;T> subpage = </tspan><tspan style="font-size:10.00pt" x="47.2" y="45.0">subpages[subpageIdx(memoryMapIdx)];</tspan></text></g><g transform="translate(2313.520000,3359.480000)" id="shape528"><path stroke="#323232" stroke-width="1" d="M340.3,148.5L340.3,7.0C340.3,3.1,337.2,.0,333.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,148.5C.0,152.4,3.1,155.5,7.0,155.5L333.3,155.5C337.2,155.5,340.3,152.4,340.3,148.5z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.2" y="45.3">offset = runOffset(memoryMapIdx) + (bitmapIdx &amp; </tspan><tspan style="font-size:10.00pt" x="4.2" y="64.3">0x3FFFFFFF) * subpage.elemSize + offset</tspan><tspan style="font-size:10.00pt" x="4.2" y="102.3">buf.init(this, handle,offset,reqCapacity, </tspan><tspan style="font-size:10.00pt" x="4.2" y="121.3">subpage.elemSize, arena.parent.threadCache());</tspan></text></g><g transform="translate(2483.520000,3081.000000)" id="shape529"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,44.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,44.0L.0,50.0L-3.0,44.0L3.0,44.0" fill="#191919"/></g><g transform="translate(2483.520000,3191.000000)" id="shape530"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,34.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,34.0L.0,40.0L-3.0,34.0L3.0,34.0" fill="#191919"/></g><g transform="translate(2483.680000,3291.600000)" id="shape531"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,62.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,62.0L.0,68.0L-3.0,62.0L3.0,62.0" fill="#191919"/></g><g transform="translate(1462.520000,2513.795000)" id="shape532"><path stroke="#323232" stroke-width="1" d="M27.0,46.4L313.3,46.4C317.2,46.4,322.4,44.0,324.9,41.1L335.7,28.5C338.3,25.6,338.3,20.8,335.7,17.9L324.9,5.3C322.4,2.4,317.2,.0,313.3,.0L27.0,.0C23.1,.0,18.0,2.4,15.4,5.3L4.6,17.9C2.0,20.8,2.0,25.6,4.6,28.5L15.4,41.1C18.0,44.0,23.1,46.4,27.0,46.4z" fill-rule="nonzero" fill="#f5cfcf"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="89.7" y="29.0">allocate(int normCapacity)</tspan></text></g><g transform="translate(1462.520000,2607.480000)" id="shape533"><path stroke="#323232" stroke-width="1" d="M170.2,62.5L340.3,31.3L170.2,.0L.0,31.3L170.2,62.5z" fill-rule="nonzero" fill="#f5cfcf"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="121.2" y="27.3">(normCapacity &amp; </tspan><tspan style="font-size:9.00pt" x="86.7" y="44.3">subpageOverflowMask) != 0</tspan></text></g><g transform="translate(1632.680000,2560.160000)" id="shape534"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,40.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,40.0L.0,46.0L-3.0,40.0L3.0,40.0" fill="#191919"/></g><g transform="translate(1329.690000,2719.990000)" id="shape535"><path stroke="#323232" stroke-width="1" d="M227.0,53.0L227.0,7.0C227.0,3.1,223.9,.0,220.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L220.0,60.0C223.9,60.0,227.0,56.9,227.0,53.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="16.0" y="26.0">allocateSubpage(normCapacity)</tspan><tspan style="font-size:10.00pt" x="60.5" y="45.0">分配小于8k内存块</tspan></text></g><g transform="translate(1726.520000,2719.990000)" id="shape536"><path stroke="#323232" stroke-width="1" d="M227.0,53.0L227.0,7.0C227.0,3.1,223.9,.0,220.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L220.0,60.0C223.9,60.0,227.0,56.9,227.0,53.0z" fill-rule="nonzero" fill="#fda98d"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="31.0" y="26.0">allocateRun(normCapacity)</tspan><tspan style="font-size:10.00pt" x="60.5" y="45.0">分配大于8k内存块</tspan></text></g><g transform="translate(1462.520000,2638.730000)" id="shape537"><path stroke="#191919" stroke-width="1" d="M.0,.0L-28.0,.0L-28.0,53.0L-20.0,53.0L-20.0,75.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-17.0,75.0L-20.0,81.0L-23.0,75.0L-17.0,75.0" fill="#191919"/><rect width="28.0" height="19.0" x="-41.0" y="35.4" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-41.0" y="50.4">false</tspan></text></g><g transform="translate(1802.840000,2638.730000)" id="shape538"><path stroke="#191919" stroke-width="1" d="M.0,.0L37.0,.0L37.0,75.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M40.0,75.0L37.0,81.0L34.0,75.0L40.0,75.0" fill="#191919"/><rect width="25.0" height="19.0" x="25.5" y="5.7" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.5" y="20.7">true</tspan></text></g><g transform="translate(5976.583000,2834.796900)" id="shape539"><path stroke="#323232" stroke-width="1" d="M.0,82.6L.0,.0L210.9,.0L210.9,82.6L210.9,82.6C195.0,75.0,177.1,70.8,158.2,70.8C139.3,70.8,121.4,75.0,105.5,82.6L105.5,82.6C89.5,90.2,71.6,94.4,52.7,94.4C33.9,94.4,16.0,90.2,.0,82.6z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="26.0" y="31.4">尝试从Recycler 里获取一个</tspan><tspan style="font-size:10.00pt" x="45.5" y="50.4">PooledByteBuf 对象</tspan></text></g><g transform="translate(6158.200000,2834.800000)" id="shape540"><path stroke="#191919" stroke-width="1" stroke-dasharray="2,5" d="M.0,.0L.0,-171.0L-75.0,-171.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-75.0,-168.0L-81.0,-171.0L-75.0,-174.0L-75.0,-168.0" fill="#191919"/></g><g transform="translate(1852.020000,1763.780000)" id="shape541"><path stroke="#323232" stroke-width="1" d="M220.0,53.0L220.0,7.0C220.0,3.1,216.9,.0,213.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L213.0,60.0C216.9,60.0,220.0,56.9,220.0,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="7.0" y="35.5">从Recycler得到PooledByteBuf对象</tspan></text></g><g transform="translate(1852.020000,1893.770000)" id="shape542"><path stroke="#323232" stroke-width="1" d="M220.0,53.0L220.0,7.0C220.0,3.1,216.9,.0,213.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L213.0,60.0C216.9,60.0,220.0,56.9,220.0,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.5" y="26.0">从PoolThreadCache分配一块内存到</tspan><tspan style="font-size:10.00pt" x="45.5" y="45.0">PooledByteBuf对象里</tspan></text></g><g transform="translate(1962.020000,1823.780000)" id="shape543"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,64.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,64.0L.0,70.0L-3.0,64.0L3.0,64.0" fill="#191919"/></g><g transform="translate(1858.020000,2005.967500)" id="shape544"><path stroke="#323232" stroke-width="1" d="M104.0,59.6L208.0,29.8L104.0,.0L.0,29.8L104.0,59.6z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="39.0" y="35.3">是否从缓存中分配成功</tspan></text></g><g transform="translate(1962.020000,1953.770000)" id="shape545"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,46.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,46.0L.0,52.0L-3.0,46.0L3.0,46.0" fill="#191919"/></g><path stroke="#323232" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" transform="translate(1912.020000,1665.280000)" fill="#ffffff" id="shape546"/><g transform="translate(1643.020000,2013.780000)" id="shape547"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="37.0" y="27.5">返回</tspan></text></g><g transform="translate(1858.020000,2035.780000)" id="shape548"><path stroke="#191919" stroke-width="1" d="M.0,.0L-109.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-109.0,3.0L-115.0,.0L-109.0,-3.0L-109.0,3.0" fill="#191919"/><rect width="26.0" height="19.0" x="-68.9" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-68.9" y="5.5">成功</tspan></text></g><g transform="translate(1617.020000,1879.782500)" id="shape549"><path stroke="#323232" stroke-width="1" d="M152.0,20.5L152.0,7.0C152.0,3.1,148.9,.0,145.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,20.5C.0,24.4,3.1,27.5,7.0,27.5L145.0,27.5C148.9,27.5,152.0,24.4,152.0,20.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="36.0" y="19.3">allocateTiny()</tspan></text></g><g transform="translate(1617.020000,1913.002500)" id="shape550"><path stroke="#323232" stroke-width="1" d="M152.0,20.5L152.0,7.0C152.0,3.1,148.9,.0,145.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,20.5C.0,24.4,3.1,27.5,7.0,27.5L145.0,27.5C148.9,27.5,152.0,24.4,152.0,20.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.0" y="19.5">allocateSmall()</tspan></text></g><g transform="translate(1617.020000,1945.302500)" id="shape551"><path stroke="#323232" stroke-width="1" d="M152.0,20.5L152.0,7.0C152.0,3.1,148.9,.0,145.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,20.5C.0,24.4,3.1,27.5,7.0,27.5L145.0,27.5C148.9,27.5,152.0,24.4,152.0,20.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.5" y="19.5">allocateNormal()</tspan></text></g><g transform="translate(1858.020000,2104.981300)" id="shape552"><path stroke="#323232" stroke-width="1" d="M104.0,47.8L208.0,23.9L104.0,.0L.0,23.9L104.0,47.8z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="56.5" y="29.4">是否申请normal</tspan></text></g><g transform="translate(1962.020000,2065.590000)" id="shape553"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,32.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,32.0L.0,38.0L-3.0,32.0L3.0,32.0" fill="#191919"/><rect width="26.0" height="19.0" x="-12.0" y="6.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-12.0" y="21.5">失败</tspan></text></g><g transform="translate(1852.020000,2198.000000)" id="shape554"><path stroke="#323232" stroke-width="1" d="M220.0,63.0L220.0,7.0C220.0,3.1,216.9,.0,213.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,63.0C.0,66.9,3.1,70.0,7.0,70.0L213.0,70.0C216.9,70.0,220.0,66.9,220.0,63.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.5" y="21.5">从tinySubpagePools或者</tspan><tspan style="font-size:10.00pt" x="25.0" y="40.5">smallSubpagePools申请一个</tspan><tspan style="font-size:10.00pt" x="69.5" y="59.5">PoolSubpage</tspan></text></g><g transform="translate(1962.020000,2152.780000)" id="shape555"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,39.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,39.0L.0,45.0L-3.0,39.0L3.0,39.0" fill="#191919"/><rect width="13.0" height="19.0" x="-5.5" y="12.8" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-5.5" y="27.8">否</tspan></text></g><g transform="translate(4070.520000,1266.000000)" id="shape556"><path stroke="#323232" stroke-width="1" d="M832.0,945.0L832.0,.0L.0,.0L.0,945.0L832.0,945.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolArena</tspan></text></g><g transform="translate(4458.763000,1406.000000)" id="shape557"><path stroke="#323232" stroke-width="1" d="M.0,60.0L379.4,60.0L379.4,15.0L364.4,.0L15.0,.0L.0,15.0L.0,60.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.2" y="26.0">创建大小为32的PoolSubpage数组 tinySubpagePools</tspan></text></g><g transform="translate(4431.525000,1302.850000)" id="shape558"><path stroke="#323232" stroke-width="1" d="M20.0,60.0L413.9,60.0L433.9,30.0L413.9,.0L20.0,.0L.0,30.0L20.0,60.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="47.0" y="26.0">PoolArena(PooledByteBufAllocator parent, int pageSize,</tspan><tspan style="font-size:10.00pt" x="18.5" y="45.0"> int maxOrder, int pageShifts, int chunkSize, int cacheAlignment)</tspan></text></g><g transform="translate(4648.480000,1235.850000)" id="shape559"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.0,61.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,61.0L.0,67.0L-3.0,61.0L3.0,61.0" fill="#191919"/></g><g transform="translate(4648.000000,1362.000000)" id="shape560"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,38.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,38.0L.0,44.0L-3.0,38.0L3.0,38.0" fill="#191919"/></g><g transform="translate(4453.762000,1531.000000)" id="shape561"><path stroke="#323232" stroke-width="1" d="M390.5,88.0L390.5,.0L.0,.0L.0,88.0L390.5,88.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.2" y="21.0">PoolSubpage&lt;T> head = new PoolSubpage&lt;T>(pageSize);</tspan><tspan style="font-size:10.00pt" x="4.2" y="40.0">head.prev = head;</tspan><tspan style="font-size:10.00pt" x="4.2" y="59.0">head.next = head;</tspan><tspan style="font-size:10.00pt" x="4.2" y="78.0">pageSize 大小为8192个字节即8k</tspan></text></g><g transform="translate(4648.480000,1466.000000)" id="shape562"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,59.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,59.0L.0,65.0L-3.0,59.0L3.0,59.0" fill="#191919"/></g><g transform="translate(10676.800000,3034.640000)" id="shape563"><path stroke="#191919" stroke-width="1" d="M.0,.0L26.0,.0L26.0,-208.0L5.0,-208.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M5.0,-205.0L-1.0,-208.0L5.0,-211.0L5.0,-205.0" fill="#191919"/></g><g transform="translate(10218.360000,2845.971300)" id="shape564"><path stroke="#323232" stroke-width="1" d="M213.1,32.1L213.1,7.0C213.1,3.1,209.9,.0,206.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L206.1,39.1C209.9,39.1,213.1,36.0,213.1,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="38.5" y="25.5">PoolChunk&lt;T> chunk</tspan></text></g><g transform="translate(10218.360000,2895.701300)" id="shape565"><path stroke="#323232" stroke-width="1" d="M213.1,32.1L213.1,7.0C213.1,3.1,209.9,.0,206.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L206.1,39.1C209.9,39.1,213.1,36.0,213.1,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="65.5" y="25.5">long[] bitmap</tspan></text></g><g transform="translate(10441.760000,2744.981300)" id="shape566"><path stroke="#323232" stroke-width="1" d="M213.1,32.1L213.1,7.0C213.1,3.1,209.9,.0,206.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L206.1,39.1C209.9,39.1,213.1,36.0,213.1,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="47.5" y="25.5">int memoryMapIdx</tspan></text></g><g transform="translate(10441.760000,2794.961300)" id="shape567"><path stroke="#323232" stroke-width="1" d="M213.1,32.1L213.1,7.0C213.1,3.1,209.9,.0,206.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L206.1,39.1C209.9,39.1,213.1,36.0,213.1,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="66.5" y="25.5">int runOffset</tspan></text></g><g transform="translate(10445.460000,2845.971300)" id="shape568"><path stroke="#323232" stroke-width="1" d="M213.1,32.1L213.1,7.0C213.1,3.1,209.9,.0,206.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L206.1,39.1C209.9,39.1,213.1,36.0,213.1,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="69.5" y="25.5">int pageSize</tspan></text></g><g transform="translate(10445.460000,2895.701300)" id="shape569"><path stroke="#323232" stroke-width="1" d="M213.1,32.1L213.1,7.0C213.1,3.1,209.9,.0,206.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,32.1C.0,36.0,3.1,39.1,7.0,39.1L206.1,39.1C209.9,39.1,213.1,36.0,213.1,32.1z" fill-rule="nonzero" fill="#df7746"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="70.0" y="25.5">int elemSize</tspan></text></g><g transform="translate(6625.210000,1478.590000)" id="shape570"><path stroke="#191919" stroke-width="1" d="M.0,.0L-173.7,.0L-173.7,1318.4L511.6,1318.4" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M511.6,1315.4L517.6,1318.4L511.6,1321.4L511.6,1315.4" fill="#191919"/></g><g transform="translate(7142.790000,1444.190000)" id="shape572"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage0</tspan></text></g><g transform="translate(7163.040000,1481.690000)" id="shape573"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(7163.040000,1522.180000)" id="shape574"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(7163.040000,1562.430000)" id="shape575"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(7163.040000,1602.680000)" id="shape576"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="23.0">int elemSize=512</tspan></text></g><g transform="translate(7163.040000,1642.930000)" id="shape577"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(7163.040000,1684.930000)" id="shape578"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(7142.790000,1728.190000)" id="shape579"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage1</tspan></text></g><g transform="translate(7163.040000,1765.690000)" id="shape580"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(7163.040000,1806.180000)" id="shape581"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(7163.040000,1846.430000)" id="shape582"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(7163.040000,1886.680000)" id="shape583"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="41.8" y="23.0">int elemSize=1024</tspan></text></g><g transform="translate(7163.040000,1926.930000)" id="shape584"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(7163.040000,1968.930000)" id="shape585"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(7142.790000,2012.190000)" id="group586"><g id="shape587"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage2</tspan></text></g><g transform="translate(20.250000,37.500000)" id="shape588"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(20.250000,77.995000)" id="shape589"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(20.250000,118.245000)" id="shape590"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(20.250000,158.495000)" id="shape591"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="41.8" y="23.0">int elemSize=2048</tspan></text></g><g transform="translate(20.250000,198.745000)" id="shape592"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(20.250000,240.745000)" id="shape593"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g></g><g transform="translate(7142.790000,2296.190000)" id="group594"><g id="shape595"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage3</tspan></text></g><g transform="translate(20.250000,37.500000)" id="shape596"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(20.250000,77.995000)" id="shape597"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(20.250000,118.245000)" id="shape598"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(20.250000,158.495000)" id="shape599"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="41.8" y="23.0">int elemSize=4096</tspan></text></g><g transform="translate(20.250000,198.745000)" id="shape600"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(20.250000,240.745000)" id="shape601"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g></g><g transform="translate(6961.350000,1546.340000)" id="shape602"><path stroke="#191919" stroke-width="1" d="M.0,.0L175.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M175.0,-3.0L181.0,.0L175.0,3.0L175.0,-3.0" fill="#191919"/></g><g transform="translate(7472.520000,1444.190000)" id="shape603"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(7492.770000,1481.690000)" id="shape604"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(7492.770000,1522.180000)" id="shape605"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(7492.770000,1562.430000)" id="shape606"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(7492.770000,1602.680000)" id="shape607"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="23.0">int elemSize=512</tspan></text></g><g transform="translate(7492.770000,1642.930000)" id="shape608"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(7492.770000,1684.930000)" id="shape609"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(7774.520000,1444.190000)" id="shape610"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(7794.770000,1481.690000)" id="shape611"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(7794.770000,1522.180000)" id="shape612"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(7794.770000,1562.430000)" id="shape613"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(7794.770000,1602.680000)" id="shape614"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="23.0">int elemSize=512</tspan></text></g><g transform="translate(7794.770000,1642.930000)" id="shape615"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(7794.770000,1684.930000)" id="shape616"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(8071.020000,1444.190000)" id="shape617"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(8091.270000,1481.690000)" id="shape618"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(8091.270000,1522.180000)" id="shape619"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(8091.270000,1562.430000)" id="shape620"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(8091.270000,1602.680000)" id="shape621"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="23.0">int elemSize=512</tspan></text></g><g transform="translate(8091.270000,1642.930000)" id="shape622"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(8091.270000,1684.930000)" id="shape623"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(8366.520000,1444.190000)" id="shape624"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(8386.770000,1481.690000)" id="shape625"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(8386.770000,1522.180000)" id="shape626"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(8386.770000,1562.430000)" id="shape627"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(8386.770000,1602.680000)" id="shape628"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="23.0">int elemSize=512</tspan></text></g><g transform="translate(8386.770000,1642.930000)" id="shape629"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(8386.770000,1684.930000)" id="shape630"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(7492.000000,1660.000000)" id="shape631"><path stroke="#191919" stroke-width="1" d="M.0,.0L-105.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-105.0,3.0L-111.0,.0L-105.0,-3.0L-105.0,3.0" fill="#191919"/></g><g transform="translate(7794.000000,1660.000000)" id="shape632"><path stroke="#191919" stroke-width="1" d="M.0,.0L-77.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-77.0,3.0L-83.0,.0L-77.0,-3.0L-77.0,3.0" fill="#191919"/></g><g transform="translate(8091.000000,1660.000000)" id="shape633"><path stroke="#191919" stroke-width="1" d="M.0,.0L-72.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-72.0,3.0L-78.0,.0L-72.0,-3.0L-72.0,3.0" fill="#191919"/></g><g transform="translate(8386.000000,1660.000000)" id="shape634"><path stroke="#191919" stroke-width="1" d="M.0,.0L-70.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-70.0,3.0L-76.0,.0L-70.0,-3.0L-70.0,3.0" fill="#191919"/></g><g transform="translate(7361.000000,1702.000000)" id="shape635"><path stroke="#191919" stroke-width="1" d="M.0,.0L105.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M105.0,-3.0L111.0,.0L105.0,3.0L105.0,-3.0" fill="#191919"/></g><g transform="translate(7692.000000,1702.000000)" id="shape636"><path stroke="#191919" stroke-width="1" d="M.0,.0L76.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M76.0,-3.0L82.0,.0L76.0,3.0L76.0,-3.0" fill="#191919"/></g><g transform="translate(7994.000000,1702.000000)" id="shape637"><path stroke="#191919" stroke-width="1" d="M.0,.0L71.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M71.0,-3.0L77.0,.0L71.0,3.0L71.0,-3.0" fill="#191919"/></g><g transform="translate(8289.000000,1702.000000)" id="shape638"><path stroke="#191919" stroke-width="1" d="M.0,.0L71.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M71.0,-3.0L77.0,.0L71.0,3.0L71.0,-3.0" fill="#191919"/></g><g transform="translate(8616.520000,1444.190000)" id="shape639"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,133.0C17.6,135.5,18.5,138.0,20.2,139.8C22.0,141.5,24.5,142.4,27.0,142.0C24.5,141.6,22.0,142.5,20.2,144.2C18.5,146.0,17.6,148.5,18.0,151.0L18.0,275.0C18.4,277.5,17.5,280.0,15.8,281.8C14.0,283.5,11.5,284.4,9.0,284.0L.0,284.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="105.8" y="138.0">管理512字节内存的分配</tspan><tspan style="font-size:10.00pt" x="39.8" y="157.0">第一个链表共有8192/512=16个PoolSubpage</tspan></text></g><g transform="translate(7391.520000,1728.190000)" id="shape640"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,133.0C17.6,135.5,18.5,138.0,20.2,139.8C22.0,141.5,24.5,142.4,27.0,142.0C24.5,141.6,22.0,142.5,20.2,144.2C18.5,146.0,17.6,148.5,18.0,151.0L18.0,275.0C18.4,277.5,17.5,280.0,15.8,281.8C14.0,283.5,11.5,284.4,9.0,284.0L.0,284.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.00pt" x="79.8" y="137.0">管理1024字节的内存分配</tspan><tspan style="font-size:10.00pt" x="38.8" y="156.0">第一个链表共有8192/1024=8个元素</tspan></text></g><g transform="translate(7387.520000,2012.190000)" id="shape641"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,133.0C17.6,135.5,18.5,138.0,20.2,139.8C22.0,141.5,24.5,142.4,27.0,142.0C24.5,141.6,22.0,142.5,20.2,144.2C18.5,146.0,17.6,148.5,18.0,151.0L18.0,275.0C18.4,277.5,17.5,280.0,15.8,281.8C14.0,283.5,11.5,284.4,9.0,284.0L.0,284.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.00pt" x="79.8" y="137.0">管理2048字节的内存分配</tspan><tspan style="font-size:10.00pt" x="38.8" y="156.0">第一个链表共有8192/2048=4个元素</tspan></text></g><g transform="translate(7391.520000,2296.190000)" id="shape642"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,133.0C17.6,135.5,18.5,138.0,20.2,139.8C22.0,141.5,24.5,142.4,27.0,142.0C24.5,141.6,22.0,142.5,20.2,144.2C18.5,146.0,17.6,148.5,18.0,151.0L18.0,275.0C18.4,277.5,17.5,280.0,15.8,281.8C14.0,283.5,11.5,284.4,9.0,284.0L.0,284.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.00pt" x="79.8" y="137.0">管理4096字节的内存分配</tspan><tspan style="font-size:10.00pt" x="38.8" y="156.0">第一个链表共有8192/4096=2个元素</tspan></text></g><g transform="translate(7774.520000,1861.673000)" id="shape643"><path stroke="#323232" stroke-width="1" d="M.0,224.9L.0,.0L359.0,.0L359.0,224.9L359.0,224.9C334.0,206.1,302.9,195.0,269.3,195.0C235.6,195.0,204.5,206.1,179.5,224.9L179.5,224.9C154.5,243.7,123.4,254.8,89.8,254.8C56.1,254.8,25.0,243.7,.0,224.9z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:17.50pt"><tspan style="font-size:14.00pt" x="4.0" y="55.0">smallSubpagePools 用于分配大于等于</tspan><tspan style="font-size:14.00pt" x="4.0" y="80.0">512字节的内存。</tspan><tspan style="font-size:14.00pt" x="4.0" y="130.0">该数组元素作为链表头，每个元素后都跟</tspan><tspan style="font-size:14.00pt" x="4.0" y="155.0">着 8k/elemsize 个大小的链表</tspan></text></g><g transform="translate(7142.790000,2654.990000)" id="shape644"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage0</tspan></text></g><g transform="translate(7163.040000,2692.490000)" id="shape645"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(7163.040000,2732.980000)" id="shape646"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(7163.040000,2773.230000)" id="shape647"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(7163.040000,2813.480000)" id="shape648"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.8" y="23.0">int elemSize=16</tspan></text></g><g transform="translate(7163.040000,2853.730000)" id="shape649"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(7163.040000,2895.730000)" id="shape650"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(7142.790000,2938.990000)" id="shape651"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage1</tspan></text></g><g transform="translate(7163.040000,2976.490000)" id="shape652"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(7163.040000,3016.980000)" id="shape653"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(7163.040000,3057.230000)" id="shape654"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(7163.040000,3097.480000)" id="shape655"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.8" y="23.0">int elemSize=32</tspan></text></g><g transform="translate(7163.040000,3137.730000)" id="shape656"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(7163.040000,3179.730000)" id="shape657"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(7142.790000,3222.990000)" id="group658"><g id="shape659"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage...  中间还有29个元素</tspan></text></g><g transform="translate(20.250000,37.500000)" id="shape660"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(20.250000,77.995000)" id="shape661"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(20.250000,118.245000)" id="shape662"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(20.250000,158.495000)" id="shape663"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="57.8" y="23.0">int elemSize=</tspan></text></g><g transform="translate(20.250000,198.745000)" id="shape664"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(20.250000,240.745000)" id="shape665"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g></g><g transform="translate(7142.790000,3506.990000)" id="group666"><g id="shape667"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#ffe8cd"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage31</tspan></text></g><g transform="translate(20.250000,37.500000)" id="shape668"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(20.250000,77.995000)" id="shape669"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(20.250000,118.245000)" id="shape670"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(20.250000,158.495000)" id="shape671"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.8" y="23.0">int elemSize=496</tspan></text></g><g transform="translate(20.250000,198.745000)" id="shape672"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(20.250000,240.745000)" id="shape673"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g></g><g transform="translate(7463.520000,2939.070000)" id="shape674"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(7483.770000,2976.570000)" id="shape675"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(7483.770000,3017.060000)" id="shape676"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(7483.770000,3057.310000)" id="shape677"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(7483.770000,3097.560000)" id="shape678"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.8" y="23.0">int elemSize=16</tspan></text></g><g transform="translate(7483.770000,3137.810000)" id="shape679"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(7483.770000,3179.810000)" id="shape680"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(7765.520000,2939.070000)" id="shape681"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(7785.770000,2976.570000)" id="shape682"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(7785.770000,3017.060000)" id="shape683"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(7785.770000,3057.310000)" id="shape684"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(7785.770000,3097.560000)" id="shape685"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.8" y="23.0">int elemSize=16</tspan></text></g><g transform="translate(7785.770000,3137.810000)" id="shape686"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(7785.770000,3179.810000)" id="shape687"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(8062.020000,2939.070000)" id="shape688"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(8082.270000,2976.570000)" id="shape689"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(8082.270000,3017.060000)" id="shape690"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(8082.270000,3057.310000)" id="shape691"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(8082.270000,3097.560000)" id="shape692"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.8" y="23.0">int elemSize=16</tspan></text></g><g transform="translate(8082.270000,3137.810000)" id="shape693"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(8082.270000,3179.810000)" id="shape694"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(8357.520000,2939.070000)" id="shape695"><path stroke="#323232" stroke-width="1" d="M239.0,284.0L239.0,.0L.0,.0L.0,284.0L239.0,284.0z" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">PoolSubpage</tspan></text></g><g transform="translate(8377.770000,2976.570000)" id="shape696"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.3" y="22.8">int memoryMapIdx</tspan></text></g><g transform="translate(8377.770000,3017.060000)" id="shape697"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="59.3" y="22.8">int runOffset</tspan></text></g><g transform="translate(8377.770000,3057.310000)" id="shape698"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.3" y="22.8">int pageSize</tspan></text></g><g transform="translate(8377.770000,3097.560000)" id="shape699"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="49.8" y="23.0">int elemSize=16</tspan></text></g><g transform="translate(8377.770000,3137.810000)" id="shape700"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> prev</tspan></text></g><g transform="translate(8377.770000,3179.810000)" id="shape701"><path stroke="#323232" stroke-width="1" d="M198.5,34.5L198.5,.0L.0,.0L.0,34.5L198.5,34.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="29.8" y="22.8">PoolSubpage&lt;T> next</tspan></text></g><g transform="translate(7785.770000,3155.060000)" id="shape702"><path stroke="#191919" stroke-width="1" d="M.0,.0L-77.3,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-77.3,3.0L-83.3,.0L-77.3,-3.0L-77.3,3.0" fill="#191919"/></g><g transform="translate(8082.270000,3155.060000)" id="shape703"><path stroke="#191919" stroke-width="1" d="M.0,.0L-71.8,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-71.8,3.0L-77.8,.0L-71.8,-3.0L-71.8,3.0" fill="#191919"/></g><g transform="translate(8377.770000,3155.060000)" id="shape704"><path stroke="#191919" stroke-width="1" d="M.0,.0L-70.8,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-70.8,3.0L-76.8,.0L-70.8,-3.0L-70.8,3.0" fill="#191919"/></g><g transform="translate(7682.270000,3197.060000)" id="shape705"><path stroke="#191919" stroke-width="1" d="M.0,.0L77.3,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M77.3,-3.0L83.3,.0L77.3,3.0L77.3,-3.0" fill="#191919"/></g><g transform="translate(7984.270000,3197.060000)" id="shape706"><path stroke="#191919" stroke-width="1" d="M.0,.0L71.8,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M71.8,-3.0L77.8,.0L71.8,3.0L71.8,-3.0" fill="#191919"/></g><g transform="translate(8280.770000,3197.060000)" id="shape707"><path stroke="#191919" stroke-width="1" d="M.0,.0L70.8,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M70.8,-3.0L76.8,.0L70.8,3.0L70.8,-3.0" fill="#191919"/></g><g transform="translate(7391.520000,2654.990000)" id="shape708"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,133.0C17.6,135.5,18.5,138.0,20.2,139.8C22.0,141.5,24.5,142.4,27.0,142.0C24.5,141.6,22.0,142.5,20.2,144.2C18.5,146.0,17.6,148.5,18.0,151.0L18.0,275.0C18.4,277.5,17.5,280.0,15.8,281.8C14.0,283.5,11.5,284.4,9.0,284.0L.0,284.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="41.0" y="147.5">第一个元素不存储数组</tspan></text></g><g transform="translate(8616.520000,2938.990000)" id="shape709"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,133.0C17.6,135.5,18.5,138.0,20.2,139.8C22.0,141.5,24.5,142.4,27.0,142.0C24.5,141.6,22.0,142.5,20.2,144.2C18.5,146.0,17.6,148.5,18.0,151.0L18.0,275.0C18.4,277.5,17.5,280.0,15.8,281.8C14.0,283.5,11.5,284.4,9.0,284.0L.0,284.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="109.8" y="138.0">管理16字节的内存分配</tspan><tspan style="font-size:10.00pt" x="39.8" y="157.0">第一个链表共有8192/16=512个PoolSubpage</tspan></text></g><g transform="translate(7387.520000,3222.990000)" id="shape710"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,133.0C17.6,135.5,18.5,138.0,20.2,139.8C22.0,141.5,24.5,142.4,27.0,142.0C24.5,141.6,22.0,142.5,20.2,144.2C18.5,146.0,17.6,148.5,18.0,151.0L18.0,275.0C18.4,277.5,17.5,280.0,15.8,281.8C14.0,283.5,11.5,284.4,9.0,284.0L.0,284.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="94.2" y="138.0">中间还有29个元素，</tspan><tspan style="font-size:10.00pt" x="41.7" y="157.0">数组中每个元素的elemSize都上个加16</tspan></text></g><g transform="translate(7391.520000,3506.990000)" id="shape711"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,133.0C17.6,135.5,18.5,138.0,20.2,139.8C22.0,141.5,24.5,142.4,27.0,142.0C24.5,141.6,22.0,142.5,20.2,144.2C18.5,146.0,17.6,148.5,18.0,151.0L18.0,275.0C18.4,277.5,17.5,280.0,15.8,281.8C14.0,283.5,11.5,284.4,9.0,284.0L.0,284.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.00pt" x="83.3" y="137.0">管理496字节的内存分配</tspan><tspan style="font-size:10.00pt" x="38.8" y="156.0">第一个链表共有8192/496=16个元素</tspan></text></g><g transform="translate(7865.745000,3367.296000)" id="shape712"><path stroke="#323232" stroke-width="1" d="M.0,228.1L.0,.0L324.8,.0L324.8,228.1L324.8,228.1C302.2,211.1,274.0,201.0,243.6,201.0C213.1,201.0,185.0,211.1,162.4,228.1L162.4,228.1C139.8,245.1,111.7,255.1,81.2,255.1C50.7,255.1,22.6,245.1,.0,228.1z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:17.50pt"><tspan style="font-size:14.00pt" x="12.9" y="58.0">smallSubpagePools 用于分配小于</tspan><tspan style="font-size:14.00pt" x="88.9" y="83.0">512字节的内存。</tspan><tspan style="font-size:14.00pt" x="10.4" y="133.0">该数组元素作为链表头，每个元素后</tspan><tspan style="font-size:14.00pt" x="16.9" y="158.0">都跟着 8k/elemsize 个大小的链表</tspan></text></g><g transform="translate(7483.000000,3155.000000)" id="shape713"><path stroke="#191919" stroke-width="1" d="M.0,.0L-96.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-96.0,3.0L-102.0,.0L-96.0,-3.0L-96.0,3.0" fill="#191919"/></g><g transform="translate(7361.000000,3196.000000)" id="shape714"><path stroke="#191919" stroke-width="1" d="M.0,.0L96.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M96.0,-3.0L102.0,.0L96.0,3.0L96.0,-3.0" fill="#191919"/></g><g transform="translate(8761.790000,1215.390000)" id="shape715"><path stroke="#191919" stroke-width="1" d="M.0,.0L90.5,.0L90.5,-413.0L213.7,-413.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M213.7,-416.0L219.7,-413.0L213.7,-410.0L213.7,-416.0" fill="#191919"/></g><g transform="matrix(-1.000000,0.000000,0.000000,1.000000,9872.520000,2939.063000)" id="shape716"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,126.5C17.6,129.0,18.5,131.5,20.2,133.3C22.0,135.0,24.5,135.9,27.0,135.5C24.5,135.2,22.0,136.0,20.2,137.8C18.5,139.5,17.6,142.0,18.0,144.5L18.0,262.0C18.4,264.5,17.5,267.0,15.8,268.8C14.0,270.6,11.5,271.4,9.0,271.0L.0,271.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt" transform="matrix(-1.00,0.00,0.00,1.00,220.6,0.0)"><tspan style="font-size:10.00pt" x="58.3" y="112.5">PoolChunk会随着</tspan><tspan style="font-size:10.00pt" x="65.8" y="131.5">内存分配与释放</tspan><tspan style="font-size:10.00pt" x="41.3" y="150.5">在不同的PoolChunkList</tspan><tspan style="font-size:10.00pt" x="85.3" y="169.5">之间移动</tspan></text></g><g transform="matrix(-1.000000,0.000000,0.000000,1.000000,6725.520000,1063.860000)" id="shape717"><path stroke="#999999" stroke-width="1" d="M.0,.0L9.0,.0C11.5,-0.4,14.0,.5,15.8,2.2C17.5,4.0,18.4,6.5,18.0,9.0L18.0,178.2C17.6,180.7,18.5,183.2,20.2,185.0C22.0,186.8,24.5,187.6,27.0,187.2C24.5,186.9,22.0,187.7,20.2,189.5C18.5,191.3,17.6,193.8,18.0,196.2L18.0,365.5C18.4,368.0,17.5,370.5,15.8,372.2C14.0,374.0,11.5,374.8,9.0,374.5L.0,374.5" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt" transform="matrix(-1.00,0.00,0.00,1.00,220.6,0.0)"><tspan style="font-size:10.00pt" x="58.3" y="164.2">PoolChunk会随着</tspan><tspan style="font-size:10.00pt" x="65.8" y="183.2">内存分配与释放</tspan><tspan style="font-size:10.00pt" x="41.3" y="202.2">在不同的PoolChunkList</tspan><tspan style="font-size:10.00pt" x="85.3" y="221.2">之间移动</tspan></text></g><g transform="translate(1296.895000,2846.845000)" id="shape718"><path stroke="#323232" stroke-width="1" d="M27.0,46.4L265.6,46.4C269.5,46.4,274.6,44.0,277.2,41.1L288.0,28.5C290.5,25.6,290.5,20.8,288.0,17.9L277.2,5.3C274.6,2.4,269.5,.0,265.6,.0L27.0,.0C23.1,.0,18.0,2.4,15.4,5.3L4.6,17.9C2.0,20.8,2.0,25.6,4.6,28.5L15.4,41.1C18.0,44.0,23.1,46.4,27.0,46.4z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="38.8" y="28.7">allocateSubpage(int normCapacity)</tspan></text></g><g transform="translate(1443.190000,2779.990000)" id="shape719"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.0,61.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,61.0L.0,67.0L-3.0,61.0L3.0,61.0" fill="#191919"/></g><g transform="translate(1296.895000,2964.000000)" id="shape720"><path stroke="#323232" stroke-width="1" d="M292.6,53.0L292.6,7.0C292.6,3.1,289.5,.0,285.6,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L285.6,60.0C289.5,60.0,292.6,56.9,292.6,53.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="68.3" y="26.0">PoolSubpage&lt;T> head = </tspan><tspan style="font-size:10.00pt" x="10.8" y="45.0">arena.findSubpagePoolHead(normCapacity);</tspan></text></g><g transform="translate(1443.190000,2893.220000)" id="shape721"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,66.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,66.0L.0,72.0L-3.0,66.0L3.0,66.0" fill="#191919"/></g><g transform="translate(1296.895000,3077.000000)" id="shape722"><path stroke="#323232" stroke-width="1" d="M292.6,53.0L292.6,7.0C292.6,3.1,289.5,.0,285.6,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L285.6,60.0C289.5,60.0,292.6,56.9,292.6,53.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="92.3" y="26.0">int d = maxOrder</tspan><tspan style="font-size:10.00pt" x="83.3" y="45.0">id = allocateNode(d)</tspan></text></g><g transform="translate(1361.510000,3187.000000)" id="shape723"><path stroke="#323232" stroke-width="1" d="M84.2,41.0L168.3,20.5L84.2,.0L.0,20.5L84.2,41.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="66.7" y="25.0">id &lt; 0</tspan></text></g><g transform="translate(1282.440000,3273.500000)" id="shape724"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="93.3" y="35.5">freeBytes -= pageSize</tspan></text></g><g transform="translate(1446.520000,3227.800000)" id="shape725"><path stroke="#191919" stroke-width="1" d="" fill="none"/></g><g transform="translate(1445.680000,3228.000000)" id="shape726"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,28.0L-2.0,28.0L-2.0,39.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M1.0,39.0L-2.0,45.0L-5.0,39.0L1.0,39.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="14.2" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="29.2">false</tspan></text></g><g transform="translate(1443.190000,3137.000000)" id="shape727"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,28.0L2.0,28.0L2.0,44.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M5.0,44.0L2.0,50.0L-1.0,44.0L5.0,44.0" fill="#191919"/></g><g transform="translate(1443.190000,3024.000000)" id="shape728"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,47.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,47.0L.0,53.0L-3.0,47.0L3.0,47.0" fill="#191919"/></g><g transform="translate(1283.410000,3381.240000)" id="shape729"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="71.3" y="35.5">subpageIdx = subpageIdx(id)</tspan></text></g><g transform="translate(1283.410000,3488.980000)" id="shape730"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="57.3" y="35.5">subpage = subpages[subpageIdx]</tspan></text></g><g transform="translate(1329.690000,3596.710000)" id="shape731"><path stroke="#323232" stroke-width="1" d="M113.5,60.5L227.0,30.3L113.5,.0L.0,30.3L113.5,60.5z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="65.0" y="34.8">subpage == null</tspan></text></g><g transform="translate(1650.770000,3596.710000)" id="shape732"><path stroke="#323232" stroke-width="1" d="M378.5,53.0L378.5,7.0C378.5,3.1,375.4,.0,371.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L371.5,60.0C375.4,60.0,378.5,56.9,378.5,53.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="83.8" y="26.0">subpage = new PoolSubpage&lt;T>(</tspan><tspan style="font-size:10.00pt" x="27.3" y="45.0">head, this, id, runOffset(id), pageSize, normCapacity);</tspan></text></g><g transform="translate(1650.770000,3795.000000)" id="shape733"><path stroke="#323232" stroke-width="1" d="M378.5,53.0L378.5,7.0C378.5,3.1,375.4,.0,371.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L371.5,60.0C375.4,60.0,378.5,56.9,378.5,53.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="84.3" y="35.5">subpages[subpageIdx] = subpage;</tspan></text></g><g transform="translate(1289.365000,3704.950000)" id="shape734"><path stroke="#323232" stroke-width="1" d="M314.6,53.0L314.6,7.0C314.6,3.1,311.4,.0,307.6,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L307.6,60.0C311.4,60.0,314.6,56.9,314.6,53.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="51.3" y="35.5"> subpage.init(head, normCapacity);</tspan></text></g><g transform="translate(1443.190000,3657.210000)" id="shape735"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,26.0L3.0,26.0L3.0,40.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M6.0,40.0L3.0,46.0L.0,40.0L6.0,40.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="14.2" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="29.2">false</tspan></text></g><g transform="translate(1556.690000,3626.960000)" id="shape736"><path stroke="#191919" stroke-width="1" d="M.0,.0L88.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M88.0,-3.0L94.0,.0L88.0,3.0L88.0,-3.0" fill="#191919"/><rect width="25.0" height="19.0" x="43.1" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="43.1" y="5.5">true</tspan></text></g><g transform="translate(1443.190000,3333.500000)" id="shape737"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,42.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,42.0L.0,48.0L-3.0,42.0L3.0,42.0" fill="#191919"/></g><g transform="translate(1444.160000,3441.240000)" id="shape738"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,41.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,41.0L.0,47.0L-3.0,41.0L3.0,41.0" fill="#191919"/></g><g transform="translate(1444.160000,3548.980000)" id="shape739"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,42.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,42.0L.0,48.0L-3.0,42.0L3.0,42.0" fill="#191919"/></g><g transform="translate(1840.020000,3656.710000)" id="shape740"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,133.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,133.0L.0,139.0L-3.0,133.0L3.0,133.0" fill="#191919"/></g><g transform="translate(1650.770000,3825.000000)" id="shape741"><path stroke="#191919" stroke-width="1" d="M.0,.0L-103.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-103.0,3.0L-109.0,.0L-103.0,-3.0L-103.0,3.0" fill="#191919"/></g><g transform="translate(1446.640000,3764.950000)" id="shape742"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,33.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,33.0L.0,39.0L-3.0,33.0L3.0,33.0" fill="#191919"/></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,1197.520000,2418.997000)" id="group743"><g id="group744"><path stroke="#323232" stroke-width="1" d="M.0,.0L1474.0,.0L1474.0,1095.0L.0,1095.0L.0,.0z" fill-rule="nonzero" fill="#ebebeb" id="shape745"/><g transform="matrix(0.000000,-1.000000,1.000000,0.000000,-0.000000,1095.000000)" id="shape746"><path stroke="#323232" stroke-width="1" d="M.0,.0L1095.0,.0L1095.0,56.7L.0,56.7L.0,.0z" fill-rule="nonzero" fill="#ebebeb"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="507.0" y="34.0">PoolSubpage</tspan></text></g></g></g><g transform="translate(687.360000,2531.995000)" id="shape747"><path stroke="#323232" stroke-width="1" d="M27.0,46.4L313.3,46.4C317.2,46.4,322.4,44.0,324.9,41.1L335.7,28.5C338.3,25.6,338.3,20.8,335.7,17.9L324.9,5.3C322.4,2.4,317.2,.0,313.3,.0L27.0,.0C23.1,.0,18.0,2.4,15.4,5.3L4.6,17.9C2.0,20.8,2.0,25.6,4.6,28.5L15.4,41.1C18.0,44.0,23.1,46.4,27.0,46.4z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.7" y="29.0">allocateSubpage(int normCapacity)</tspan></text></g><g transform="translate(1289.370000,3734.950000)" id="shape748"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-35.8,.0L-35.8,-1179.8L-255.7,-1179.8" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-255.7,-1176.8L-261.7,-1179.8L-255.7,-1182.8L-255.7,-1176.8" fill="#191919"/></g><g transform="translate(687.360000,2617.930000)" id="shape749"><path stroke="#323232" stroke-width="1" d="M170.2,62.5L340.3,31.3L170.2,.0L.0,31.3L170.2,62.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="130.7" y="35.8">elemSize != 0</tspan></text></g><g transform="translate(696.770000,2737.000000)" id="shape750"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="6.3" y="35.5">maxNumElems = numAvail = pageSize / elemSize;</tspan></text></g><g transform="translate(857.000000,2578.000000)" id="shape751"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,33.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,33.0L.0,39.0L-3.0,33.0L3.0,33.0" fill="#191919"/></g><g transform="translate(857.520000,2680.430000)" id="shape752"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,50.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,50.0L.0,56.0L-3.0,50.0L3.0,50.0" fill="#191919"/><rect width="25.0" height="19.0" x="-11.5" y="17.8" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-11.5" y="32.8">true</tspan></text></g><g transform="translate(696.770000,2840.030000)" id="shape753"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="118.3" y="35.5">nextAvail = 0;</tspan></text></g><g transform="translate(696.770000,2937.000000)" id="shape754"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="38.3" y="35.5">bitmapLength = maxNumElems >>> 6;</tspan></text></g><g transform="translate(696.770000,3024.000000)" id="shape755"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="119.3" y="35.5">bitmap[i] = 0;</tspan></text></g><g transform="translate(857.000000,2797.000000)" id="shape756"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,37.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,37.0L.0,43.0L-3.0,37.0L3.0,37.0" fill="#191919"/></g><g transform="translate(857.000000,2900.000000)" id="shape757"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,31.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,31.0L.0,37.0L-3.0,31.0L3.0,31.0" fill="#191919"/></g><g transform="translate(857.000000,2997.000000)" id="shape758"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,21.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,21.0L.0,27.0L-3.0,21.0L3.0,21.0" fill="#191919"/></g><g transform="translate(696.770000,3126.000000)" id="shape759"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="109.3" y="35.5">addToPool(head)</tspan></text></g><g transform="translate(1027.680000,2649.180000)" id="shape760"><path stroke="#191919" stroke-width="1" d="M.0,.0L86.5,.0L86.5,506.8L-3.4,506.8" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-3.4,509.8L-9.4,506.8L-3.4,503.8L-3.4,509.8" fill="#191919"/><rect width="28.0" height="19.0" x="73.5" y="247.6" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="73.5" y="262.6">false</tspan></text></g><g transform="translate(687.360000,3249.995000)" id="shape761"><path stroke="#323232" stroke-width="1" d="M27.0,46.4L313.3,46.4C317.2,46.4,322.4,44.0,324.9,41.1L335.7,28.5C338.3,25.6,338.3,20.8,335.7,17.9L324.9,5.3C322.4,2.4,317.2,.0,313.3,.0L27.0,.0C23.1,.0,18.0,2.4,15.4,5.3L4.6,17.9C2.0,20.8,2.0,25.6,4.6,28.5L15.4,41.1C18.0,44.0,23.1,46.4,27.0,46.4z" fill-rule="nonzero" fill="#ca3d3e"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="142.7" y="29.0">allocate()</tspan></text></g><g transform="translate(1352.140000,3825.000000)" id="shape762"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L-125.6,.0L-125.6,-551.8L-318.5,-551.8" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-318.5,-548.8L-324.5,-551.8L-318.5,-554.8L-318.5,-548.8" fill="#191919"/></g><g transform="translate(758.645000,3326.000000)" id="shape763"><path stroke="#323232" stroke-width="1" d="M98.9,62.5L197.8,31.3L98.9,.0L.0,31.3L98.9,62.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="56.9" y="35.8">elemSize == 0</tspan></text></g><g transform="translate(1053.520000,3335.250000)" id="shape764"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L85.0,44.0L85.0,44.0C97.2,44.0,107.0,34.2,107.0,22.0C107.0,9.8,97.2,.0,85.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.5" y="27.5">toHandle(0)</tspan></text></g><g transform="translate(956.395000,3357.250000)" id="shape765"><path stroke="#191919" stroke-width="1" d="M.0,.0L90.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M90.0,-3.0L96.0,.0L90.0,3.0L90.0,-3.0" fill="#191919"/><rect width="25.0" height="19.0" x="32.0" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="32.0" y="5.5">true</tspan></text></g><g transform="translate(857.520000,3296.370000)" id="shape766"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,24.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,24.0L.0,30.0L-3.0,24.0L3.0,24.0" fill="#191919"/></g><g transform="translate(696.770000,3411.240000)" id="shape767"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="77.3" y="35.5">bitmapIdx = getNextAvail()</tspan></text></g><g transform="translate(696.770000,3518.980000)" id="shape768"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="93.8" y="26.0">q = bitmapIdx >>> 6</tspan><tspan style="font-size:10.00pt" x="100.8" y="45.0">r = bitmapIdx &amp; 63</tspan></text></g><g transform="translate(696.770000,3626.710000)" id="shape769"><path stroke="#323232" stroke-width="1" d="M321.5,53.0L321.5,7.0C321.5,3.1,318.4,.0,314.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L314.5,60.0C318.4,60.0,321.5,56.9,321.5,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="96.3" y="35.5">bitmap[q] |= 1L &lt;&lt; r</tspan></text></g><g transform="translate(758.645000,3734.950000)" id="shape770"><path stroke="#323232" stroke-width="1" d="M98.9,62.5L197.8,31.3L98.9,.0L.0,31.3L98.9,62.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="49.4" y="35.8">-- numAvail == 0</tspan></text></g><g transform="translate(857.520000,3388.500000)" id="shape771"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,17.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,17.0L.0,23.0L-3.0,17.0L3.0,17.0" fill="#191919"/></g><g transform="translate(857.520000,3471.240000)" id="shape772"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,41.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,41.0L.0,47.0L-3.0,41.0L3.0,41.0" fill="#191919"/></g><g transform="translate(857.520000,3578.980000)" id="shape773"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,42.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,42.0L.0,48.0L-3.0,42.0L3.0,42.0" fill="#191919"/></g><g transform="translate(857.520000,3686.710000)" id="shape774"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,42.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,42.0L.0,48.0L-3.0,42.0L3.0,42.0" fill="#191919"/></g><g transform="translate(319.770000,3817.000000)" id="shape775"><path stroke="#323232" stroke-width="1" d="M197.8,53.0L197.8,7.0C197.8,3.1,194.6,.0,190.8,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L190.8,60.0C194.6,60.0,197.8,56.9,197.8,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.9" y="35.5">removeFromPool();</tspan></text></g><g transform="translate(857.520000,3797.450000)" id="shape776"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,49.0L-333.0,49.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-333.0,52.0L-339.0,49.0L-333.0,46.0L-333.0,52.0" fill="#191919"/><rect width="25.0" height="19.0" x="-133.3" y="39.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-133.3" y="54.5">true</tspan></text></g><g transform="translate(319.770000,3735.950000)" id="shape777"><path stroke="#323232" stroke-width="1" d="M197.8,53.0L197.8,7.0C197.8,3.1,194.6,.0,190.8,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L190.8,60.0C194.6,60.0,197.8,56.9,197.8,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.9" y="35.5">toHandle(bitmapIdx)</tspan></text></g><g transform="translate(418.645000,3817.000000)" id="shape778"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,-16.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-3.0,-16.0L.0,-22.0L3.0,-16.0L-3.0,-16.0" fill="#191919"/></g><g transform="translate(758.645000,3766.200000)" id="shape779"><path stroke="#191919" stroke-width="1" d="M.0,.0L-234.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-234.0,3.0L-240.0,.0L-234.0,-3.0L-234.0,3.0" fill="#191919"/></g><g transform="translate(5146.150000,2850.750000)" id="shape780"><path stroke="#323232" stroke-width="1" d="M.0,54.7L.0,.0L141.4,.0L141.4,54.7L141.4,54.7C130.7,49.7,118.7,46.9,106.1,46.9C93.4,46.9,81.4,49.7,70.7,54.7L70.7,54.7C60.0,59.7,48.0,62.5,35.4,62.5C22.7,62.5,10.7,59.7,.0,54.7z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="18.7" y="28.9">先从缓存里面获取</tspan></text></g><g transform="translate(4261.590000,3330.216000)" id="shape781"><path stroke="#323232" stroke-width="1" d="M.0,206.8L.0,.0L416.0,.0L416.0,206.8L416.0,206.8C385.8,188.1,350.2,177.2,312.0,177.2C273.8,177.2,238.2,188.1,208.0,206.8L208.0,206.8C177.8,225.5,142.2,236.3,104.0,236.3C65.8,236.3,30.2,225.5,.0,206.8z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">缓存里面获取</tspan><tspan style="font-size:10.00pt" x="4.0" y="38.0">对normCapacity 转换成索引</tspan><tspan style="font-size:10.00pt" x="4.0" y="57.0">idx = PoolArena.tinyIdx(normCapacity)</tspan><tspan style="font-size:10.00pt" x="4.0" y="76.0">idx = PoolArena.smallIdx(normCapacity)</tspan><tspan style="font-size:10.00pt" x="4.0" y="95.0">然后通过该idx从</tspan><tspan style="font-size:10.00pt" x="4.0" y="114.0">tinySubPageHeapCaches</tspan><tspan style="font-size:10.00pt" x="4.0" y="133.0">smallSubPageHeapCaches</tspan><tspan style="font-size:10.00pt" x="4.0" y="152.0">tinySubPageDirectCaches</tspan><tspan style="font-size:10.00pt" x="4.0" y="171.0">smallSubPageDirectCaches</tspan><tspan style="font-size:10.00pt" x="4.0" y="190.0">得到相应的MemoryRegionCache</tspan></text></g><g transform="translate(3692.520000,2836.990000)" id="shape782"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L110.0,44.0L110.0,44.0C122.2,44.0,132.0,34.2,132.0,22.0C132.0,9.8,122.2,.0,110.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.5" y="27.5">return allocated</tspan></text></g><g transform="translate(3785.840000,2748.740000)" id="shape783"><path stroke="#191919" stroke-width="1" d="M.0,.0L-28.0,.0L-28.0,82.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-25.0,82.0L-28.0,88.0L-31.0,82.0L-25.0,82.0" fill="#191919"/><rect width="28.0" height="19.0" x="-41.0" y="11.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-41.0" y="26.0">false</tspan></text></g><g transform="translate(3870.850000,2860.990000)" id="shape784"><path stroke="#191919" stroke-width="1" d="M.0,.0L-28.0,.0L-28.0,-2.0L-40.0,-2.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-40.0,1.0L-46.0,-2.0L-40.0,-5.0L-40.0,1.0" fill="#191919"/></g><g transform="translate(3929.650000,2885.000000)" id="shape785"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.0,45.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,45.0L.0,51.0L-3.0,45.0L3.0,45.0" fill="#191919"/></g><g transform="translate(1839.422500,2484.013700)" id="shape786"><path stroke="#323232" stroke-width="1" d="M.0,145.3L.0,.0L162.1,.0L162.1,145.3L162.1,145.3C150.8,136.8,136.8,131.8,121.6,131.8C106.4,131.8,92.3,136.8,81.0,145.3L81.0,145.3C69.8,153.8,55.7,158.8,40.5,158.8C25.3,158.8,11.3,153.8,.0,145.3z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="15.0" y="14.4">分配大于8k内存块的时</tspan><tspan style="font-size:10.00pt" x="27.0" y="33.4">候，采用Page分配</tspan><tspan style="font-size:10.00pt" x="7.0" y="71.4">Chunk 内部通过伙伴算法</tspan><tspan style="font-size:10.00pt" x="44.5" y="90.4">管理 Page，</tspan><tspan style="font-size:10.00pt" x="9.5" y="109.4">具体实现为一棵完全平衡</tspan><tspan style="font-size:10.00pt" x="61.5" y="128.4">二叉树</tspan></text></g><g transform="translate(2094.422500,2504.882100)" id="shape787"><path stroke="#323232" stroke-width="1" d="M.0,144.5L.0,.0L162.1,.0L162.1,144.5L162.1,144.5C150.8,136.0,136.8,131.0,121.6,131.0C106.4,131.0,92.3,136.0,81.0,144.5L81.0,144.5C69.8,153.0,55.7,158.0,40.5,158.0C25.3,158.0,11.3,153.0,.0,144.5z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="9.5" y="42.5">从缓存里申请到内存块不</tspan><tspan style="font-size:10.00pt" x="9.5" y="61.5">再执行左侧的内存分配逻</tspan><tspan style="font-size:10.00pt" x="4.5" y="80.5">辑，而是直接将相关offset</tspan><tspan style="font-size:10.00pt" x="31.0" y="99.5">设置到bytebuf上</tspan></text></g><g transform="translate(2295.904000,1742.826000)" id="shape788"><path stroke="#323232" stroke-width="1" d="M.0,372.0L.0,.0L754.6,.0L754.6,372.0L754.6,372.0C699.7,338.3,635.1,318.8,566.0,318.8C496.8,318.8,432.2,338.3,377.3,372.0L377.3,372.0C322.4,405.7,257.8,425.1,188.7,425.1C119.5,425.1,54.9,405.7,.0,372.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:17.50pt"><tspan style="font-size:14.00pt" x="4.3" y="24.0">Netty的内存管理</tspan><tspan style="font-size:14.00pt" x="4.3" y="74.0">Netty每次是以Chunk为单位向操作系统申请内存(16M)，注意申请的是一整块内存，用</tspan><tspan style="font-size:14.00pt" x="4.3" y="99.0">的时候也是一整个byte数组。</tspan><tspan style="font-size:14.00pt" x="4.3" y="149.0">Netty系统在使用块内存时，会根据使用的大小进行不同粒度的管理，如果是8k以下，则</tspan><tspan style="font-size:14.00pt" x="4.3" y="174.0">以SubPoolPage的形式进行申请，如果是8k以上则直接在Chunk内部以page形式申请，</tspan><tspan style="font-size:14.00pt" x="4.3" y="199.0">其内部也是以一颗平衡二叉树管理的。</tspan><tspan style="font-size:14.00pt" x="4.3" y="249.0">整个内存分配过程其实也就是获取到offset，length，maxlength，然后将chunk内部的</tspan><tspan style="font-size:14.00pt" x="4.3" y="274.0">memory属性存储到PooledByteBuf#memory上。</tspan><tspan style="font-size:14.00pt" x="4.3" y="299.0">然后每次读取数据的时候都是将index+offset从memory上读取数据。</tspan></text></g><g transform="translate(1731.520000,2846.845000)" id="shape789"><path stroke="#323232" stroke-width="1" d="M27.0,46.4L195.0,46.4C198.9,46.4,204.0,44.0,206.6,41.1L217.4,28.5C220.0,25.6,220.0,20.8,217.4,17.9L206.6,5.3C204.0,2.4,198.9,.0,195.0,.0L27.0,.0C23.1,.0,18.0,2.4,15.4,5.3L4.6,17.9C2.0,20.8,2.0,25.6,4.6,28.5L15.4,41.1C18.0,44.0,23.1,46.4,27.0,46.4z" fill-rule="nonzero" fill="#fda98d"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="18.5" y="28.7">allocateRun(int normCapacity)</tspan></text></g><g transform="translate(1840.020000,2779.990000)" id="shape790"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.0,39.0L2.0,39.0L2.0,61.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M5.0,61.0L2.0,67.0L-1.0,61.0L5.0,61.0" fill="#191919"/></g><g transform="translate(1728.520000,2964.000000)" id="shape791"><path stroke="#323232" stroke-width="1" d="M227.0,53.0L227.0,7.0C227.0,3.1,223.9,.0,220.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L220.0,60.0C223.9,60.0,227.0,56.9,227.0,53.0z" fill-rule="nonzero" fill="#fda98d"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="62.5" y="26.0">d = maxOrder - </tspan><tspan style="font-size:10.00pt" x="8.0" y="45.0">(log2(normCapacity) - pageShifts);</tspan></text></g><g transform="translate(1727.520000,3077.000000)" id="shape792"><path stroke="#323232" stroke-width="1" d="M227.0,53.0L227.0,7.0C227.0,3.1,223.9,.0,220.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L220.0,60.0C223.9,60.0,227.0,56.9,227.0,53.0z" fill-rule="nonzero" fill="#fda98d"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="39.0" y="35.5">int id = allocateNode(d);</tspan></text></g><g transform="translate(1757.520000,3184.000000)" id="shape793"><path stroke="#323232" stroke-width="1" d="M85.0,41.0L170.0,20.5L85.0,.0L.0,20.5L85.0,41.0z" fill-rule="nonzero" fill="#fda98d"/><text xml:space="preserve" style="fill:#191919;font-family:Microsoft YaHei UI,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="67.5" y="25.0">id &lt; 0</tspan></text></g><g transform="translate(1608.520000,3184.000000)" id="shape794"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="22.0" y="27.5">return id;</tspan></text></g><g transform="translate(1763.130000,3205.850000)" id="shape795"><path stroke="#191919" stroke-width="1" d="M.0,.0L-49.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-49.0,3.0L-55.0,.0L-49.0,-3.0L-49.0,3.0" fill="#191919"/><rect width="25.0" height="19.0" x="-42.0" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-42.0" y="5.5">true</tspan></text></g><g transform="translate(1529.850000,3207.500000)" id="shape796"><path stroke="#191919" stroke-width="1" d="M.0,.0L73.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M73.0,-3.0L79.0,.0L73.0,3.0L73.0,-3.0" fill="#191919"/><rect width="25.0" height="19.0" x="24.1" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="24.1" y="5.5">true</tspan></text></g><g transform="translate(1842.520000,2893.220000)" id="shape797"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,64.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,64.0L.0,70.0L-3.0,64.0L3.0,64.0" fill="#191919"/></g><g transform="translate(1842.020000,3024.000000)" id="shape798"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,47.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,47.0L.0,53.0L-3.0,47.0L3.0,47.0" fill="#191919"/></g><g transform="translate(1841.020000,3137.000000)" id="shape799"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,41.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,41.0L.0,47.0L-3.0,41.0L3.0,41.0" fill="#191919"/></g><g transform="translate(1730.520000,3273.500000)" id="shape800"><path stroke="#323232" stroke-width="1" d="M227.0,53.0L227.0,7.0C227.0,3.1,223.9,.0,220.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L220.0,60.0C223.9,60.0,227.0,56.9,227.0,53.0z" fill-rule="nonzero" fill="#fda98d"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="30.0" y="35.5">freeBytes -= runLength(id);</tspan></text></g><g transform="translate(1842.520000,3225.000000)" id="shape801"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,28.0L2.0,28.0L2.0,42.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M5.0,42.0L2.0,48.0L-1.0,42.0L5.0,42.0" fill="#191919"/><rect width="28.0" height="19.0" x="-13.0" y="14.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-13.0" y="29.0">false</tspan></text></g><g transform="translate(1790.520000,3381.240000)" id="shape802"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L85.0,44.0L85.0,44.0C97.2,44.0,107.0,34.2,107.0,22.0C107.0,9.8,97.2,.0,85.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#fda98d"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="25.5" y="27.5">return id;</tspan></text></g><g transform="translate(1844.000000,3333.000000)" id="shape803"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,42.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,42.0L.0,48.0L-3.0,42.0L3.0,42.0" fill="#191919"/></g><g transform="translate(1352.140000,3803.000000)" id="shape804"><path stroke="#323232" stroke-width="1" d="M22.0,44.0L167.0,44.0L167.0,44.0C179.2,44.0,189.0,34.2,189.0,22.0C189.0,9.8,179.2,.0,167.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#fec3b3"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="39.5" y="27.5">subpage.allocate()</tspan></text></g></g></svg>