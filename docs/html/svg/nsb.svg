<svg xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="0 0 2255 1597" width="2255" xmlns:xlink="http://www.w3.org/1999/xlink" height="1597"><defs/><g transform="translate(5.5,5.5)" id="page1"><rect width="2245" height="1587" x="0" y="0" fill="none"/><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,266.618000,859.840000)" id="group1"><g id="group2"><path stroke="#191919" stroke-width="1" d="M.0,.0L680.0,.0L680.0,206.0L.0,206.0L.0,.0z" stroke-dasharray="11,5,2.5,5,2.5,5" fill-rule="nonzero" fill="#d7d7d7" id="shape3"/><g transform="matrix(0.000000,-1.000000,1.000000,0.000000,-0.000000,206.000000)" id="shape4"><path stroke="#191919" stroke-width="1" d="M.0,.0L206.0,.0L206.0,56.7L.0,56.7L.0,.0z" stroke-dasharray="11,5,2.5,5,2.5,5" fill-rule="nonzero" fill="#d7d7d7"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="83.5" y="34.0">客户端</tspan></text></g></g></g><g transform="translate(94.539000,1162.880000)" id="group5"><path stroke="#191919" stroke-width="1" d="M.0,7.6C.0,3.4,3.4,.0,7.5,.0C11.6,.0,15.0,3.4,15.0,7.6C15.0,11.8,11.6,15.3,7.5,15.3C3.4,15.3,.0,11.8,.0,7.6z" fill-rule="nonzero" transform="translate(11.495000,0.000000)" fill="#ffffff" id="shape6"/><path stroke="#191919" stroke-width="1" d="M7.0,.0C14.1,8.4,24.1,8.4,31.3,.0L38.0,18.2L33.8,20.4L28.1,6.2L28.1,24.4L35.5,55.7L28.3,55.7L19.1,28.6L9.9,55.7L3.1,55.7L10.4,24.4L10.4,6.6L5.0,20.4L.0,18.6L7.0,.0z" fill-rule="nonzero" transform="translate(0.000000,14.315000)" fill="#ffffff" id="shape7"/></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,585.878000,859.840000)" id="group8"><g id="group9"><path stroke="#191919" stroke-width="1" d="M.0,.0L680.0,.0L680.0,319.4L.0,319.4L.0,.0z" stroke-dasharray="11,5,2.5,5,2.5,5" fill-rule="nonzero" fill="#e7f2fc" id="shape10"/><g transform="matrix(0.000000,-1.000000,1.000000,0.000000,-0.000000,319.386000)" id="shape11"><path stroke="#191919" stroke-width="1" d="M.0,.0L319.4,.0L319.4,56.7L.0,56.7L.0,.0z" stroke-dasharray="11,5,2.5,5,2.5,5" fill-rule="nonzero" fill="#e7f2fc"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="142.2" y="34.0">Netty</tspan></text></g></g></g><g transform="translate(307.466000,1151.924400)" id="shape12"><path stroke="#191919" stroke-width="1" d="M226.4,81.1L226.4,7.0C226.4,3.1,223.3,.0,219.4,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,81.1C.0,84.9,3.1,88.1,7.0,88.1L219.4,88.1C223.3,88.1,226.4,84.9,226.4,81.1z" fill-rule="nonzero" fill="#7cc2f2"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.2" y="19.0">NettyServer</tspan></text></g><g transform="translate(358.665300,1184.880000)" id="shape13"><path stroke="#191919" stroke-width="1" d="M135.0,23.0L135.0,7.0C135.0,3.1,131.9,.0,128.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,23.0C.0,26.9,3.1,30.0,7.0,30.0L128.0,30.0C131.9,30.0,135.0,26.9,135.0,23.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="6.5" y="20.5">NettyServerHandler</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,905.138000,859.840000)" id="group14"><g id="group15"><path stroke="#191919" stroke-width="1" d="M.0,.0L680.0,.0L680.0,319.4L.0,319.4L.0,.0z" stroke-dasharray="11,5,2.5,5,2.5,5" fill-rule="nonzero" fill="#fff4e8" id="shape16"/><g transform="matrix(0.000000,-1.000000,1.000000,0.000000,-0.000000,319.386000)" id="shape17"><path stroke="#191919" stroke-width="1" d="M.0,.0L319.4,.0L319.4,56.7L.0,56.7L.0,.0z" stroke-dasharray="11,5,2.5,5,2.5,5" fill-rule="nonzero" fill="#fff4e8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="94.7" y="34.0">CommandDispatcher</tspan></text></g></g></g><g transform="translate(630.712400,1169.840000)" id="shape18"><path stroke="#191919" stroke-width="1" d="M27.0,60.0L168.7,60.0C172.5,60.0,177.4,57.4,179.6,54.2L191.8,35.8C193.9,32.6,193.9,27.4,191.8,24.2L179.6,5.8C177.4,2.6,172.5,.0,168.7,.0L27.0,.0C23.1,.0,18.3,2.6,16.1,5.8L3.9,24.2C1.7,27.4,1.7,32.6,3.9,35.8L16.1,54.2C18.3,57.4,23.1,60.0,27.0,60.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="67.8" y="35.5">dispatch()</tspan></text></g><g transform="translate(630.712400,968.267800)" id="shape19"><path stroke="#191919" stroke-width="1" d="M195.7,34.1L195.7,7.0C195.7,3.1,192.5,.0,188.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,34.1C.0,38.0,3.1,41.1,7.0,41.1L188.7,41.1C192.5,41.1,195.7,38.0,195.7,34.1z" fill-rule="nonzero" fill="#ffdcac"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.3" y="26.1">获取CommandProxy</tspan></text></g><g transform="translate(630.712400,1060.110000)" id="shape20"><path stroke="#191919" stroke-width="1" d="M195.7,53.0L195.7,7.0C195.7,3.1,192.5,.0,188.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L188.7,60.0C192.5,60.0,195.7,56.9,195.7,53.0z" fill-rule="nonzero" fill="#ffdcac"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="28.8" y="26.0">调用CommandProxy的</tspan><tspan style="font-size:10.00pt" x="15.8" y="45.0">ProtocolProcessor生成入数</tspan></text></g><g transform="matrix(0.000000,1.000000,-1.000000,0.000000,1303.940000,859.840000)" id="group21"><g id="group22"><path stroke="#191919" stroke-width="1" d="M.0,.0L680.0,.0L680.0,398.9L.0,398.9L.0,.0z" stroke-dasharray="11,5,2.5,5,2.5,5" fill-rule="nonzero" fill="#e9f4ed" id="shape23"/><g transform="matrix(0.000000,-1.000000,1.000000,0.000000,-0.000000,398.900000)" id="shape24"><path stroke="#191919" stroke-width="1" d="M.0,.0L398.9,.0L398.9,56.7L.0,56.7L.0,.0z" stroke-dasharray="11,5,2.5,5,2.5,5" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="179.4" y="34.0">Spring</tspan></text></g></g></g><g transform="translate(1014.730000,958.819000)" id="shape25"><path d="M.0,10.0L.0,50.0L.0,50.0C.0,55.5,22.4,60.0,50.0,60.0C77.6,60.0,100.0,55.5,100.0,50.0L100.0,10.0L100.0,10.0C100.0,4.5,77.6,.0,50.0,.0C22.4,.0,.0,4.5,.0,10.0z" fill-rule="nonzero" fill="#b0ddc1"/><path stroke="#191919" stroke-width="1" d="M.0,10.0L.0,50.0L.0,50.0C.0,55.5,22.4,60.0,50.0,60.0C77.6,60.0,100.0,55.5,100.0,50.0L100.0,10.0L100.0,10.0C100.0,4.5,77.6,.0,50.0,.0C22.4,.0,.0,4.5,.0,10.0zM100.0,10.0C100.0,15.5,77.6,20.0,50.0,20.0C22.4,20.0,.0,15.5,.0,10.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.0" y="43.0">Spring容器</tspan></text></g><g transform="translate(1014.730000,988.819000)" id="shape26"><path stroke="#e1a822" stroke-width="3.6666700839996338" d="M.0,.0L-175.5,.0" fill="none"/><path stroke="#e1a822" stroke-width="1" stroke-linecap="round" d="M-175.5,5.7L-187.0,.0L-175.5,-5.7L-175.5,5.7" fill="#e1a822"/><rect width="92.0" height="19.0" x="-129.6" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-129.6" y="5.5">根据消息ID获取</tspan></text></g><g transform="translate(132.539000,1197.530000)" id="shape27"><path stroke="#ca3d3e" stroke-width="3.3333299160003662" d="M.0,.0L164.0,.0" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M164.0,-5.5L175.0,.0L164.0,5.5L164.0,-5.5" fill="#ca3d3e"/><rect width="52.0" height="19.0" x="66.9" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="66.9" y="5.5">发送消息</tspan></text></g><g transform="translate(728.547000,1009.370000)" id="shape28"><path stroke="#e1a822" stroke-width="3.6666700839996338" d="M.0,.0L.0,39.5" fill="none"/><path stroke="#e1a822" stroke-width="1" stroke-linecap="round" d="M5.7,39.5L.0,51.0L-5.7,39.5L5.7,39.5" fill="#e1a822"/></g><g transform="translate(728.547000,1120.110000)" id="shape29"><path stroke="#e1a822" stroke-width="3.6666700839996338" d="M.0,.0L.0,38.5" fill="none"/><path stroke="#e1a822" stroke-width="1" stroke-linecap="round" d="M5.7,38.5L.0,50.0L-5.7,38.5L5.7,38.5" fill="#e1a822"/></g><g transform="translate(493.705000,1199.880000)" id="shape30"><path stroke="#ca3d3e" stroke-width="3.3333299160003662" d="M.0,.0L126.0,.0" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M126.0,-5.5L137.0,.0L126.0,5.5L126.0,-5.5" fill="#ca3d3e"/></g><g transform="translate(945.182000,1129.808300)" id="shape31"><path stroke="#191919" stroke-width="1" d="M239.1,125.3L239.1,7.0C239.1,3.1,236.0,.0,232.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,125.3C.0,129.1,3.1,132.3,7.0,132.3L232.1,132.3C236.0,132.3,239.1,129.1,239.1,125.3z" fill-rule="nonzero" fill="#b2c2e9"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.0" y="19.0">CommandProxy具体实现</tspan></text></g><g transform="translate(981.146200,1173.840000)" id="shape32"><path stroke="#191919" stroke-width="1" d="M179.5,45.0L179.5,7.0C179.5,3.1,176.4,.0,172.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,45.0C.0,48.9,3.1,52.0,7.0,52.0L172.5,52.0C176.4,52.0,179.5,48.9,179.5,45.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="34.8" y="22.0">Object invoke(List </tspan><tspan style="font-size:10.00pt" x="56.8" y="41.0">paramters)</tspan></text></g><g transform="translate(826.381000,1199.840000)" id="shape33"><path stroke="#ca3d3e" stroke-width="3.3333299160003662" d="M.0,.0L143.0,.0" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M143.0,-5.5L154.0,.0L143.0,5.5L143.0,-5.5" fill="#ca3d3e"/></g><g transform="translate(955.784000,1398.427100)" id="shape34"><path stroke="#191919" stroke-width="1" d="M228.5,106.4L228.5,7.0C228.5,3.1,225.4,.0,221.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,106.4C.0,110.3,3.1,113.4,7.0,113.4L221.5,113.4C225.4,113.4,228.5,110.3,228.5,106.4z" fill-rule="nonzero" fill="#8ba7e1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.2" y="19.0">@CommandController</tspan></text></g><g transform="translate(1160.670000,1199.840000)" id="shape35"><path stroke="#ca3d3e" stroke-width="3.3333299160003662" d="M.0,.0L48.8,.0L48.8,255.9L11.0,255.9" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M11.0,261.4L.0,255.9L11.0,250.5L11.0,261.4" fill="#ca3d3e"/><rect width="156.0" height="19.0" x="-28.2" y="101.2" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-28.2" y="116.2">消息派发到真实的业务代码</tspan></text></g><g transform="translate(322.853400,1322.840000)" id="shape36"><path stroke="#191919" stroke-width="1" d="M20.0,60.0L175.7,60.0L195.7,30.0L175.7,.0L20.0,.0L.0,30.0L20.0,60.0z" fill-rule="nonzero" fill="#aad3f5"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="47.8" y="35.5">EventDispatcher</tspan></text></g><g transform="translate(420.688000,1239.980000)" id="shape37"><path stroke="#191919" stroke-width="1" stroke-dasharray="11,5" d="M.0,.0L.0,77.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,77.0L.0,83.0L-3.0,77.0L3.0,77.0" fill="#191919"/><rect width="117.0" height="19.0" x="-57.5" y="27.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-57.5" y="42.3">Netty 触发各种事件</tspan></text></g><g transform="translate(981.146200,1429.780000)" id="shape38"><path stroke="#191919" stroke-width="1" d="M179.5,45.0L179.5,7.0C179.5,3.1,176.4,.0,172.5,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,45.0C.0,48.9,3.1,52.0,7.0,52.0L172.5,52.0C176.4,52.0,179.5,48.9,179.5,45.0z" fill-rule="nonzero" fill="#f0b0b1"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="10.3" y="22.0">调用被@CommandSender</tspan><tspan style="font-size:10.00pt" x="44.3" y="41.0">注解的对应方法</tspan></text></g><g transform="translate(981.146000,1455.780000)" id="shape39"><path stroke="#ca3d3e" stroke-width="3.3333299160003662" d="M.0,.0L-867.6,.0L-867.6,-211.7" fill="none"/><path stroke="#ca3d3e" stroke-width="1" stroke-linecap="round" d="M-873.1,-211.7L-867.6,-222.6L-862.1,-211.7L-873.1,-211.7" fill="#ca3d3e"/><rect width="117.0" height="19.0" x="-354.2" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-354.2" y="5.5">将结果返回给客户端</tspan></text></g><g transform="translate(147.842400,79.591000)" id="shape40"><path stroke="#191919" stroke-width="1" d="M22.0,44.0L115.8,44.0L115.8,44.0C127.9,44.0,137.8,34.2,137.8,22.0C137.8,9.8,127.9,.0,115.8,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="35.9" y="27.5">Spring启动</tspan></text></g><g transform="translate(113.000000,175.669000)" id="shape41"><path stroke="#191919" stroke-width="1" d="M208.3,63.0L208.3,7.0C208.3,3.1,205.1,.0,201.3,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,63.0C.0,66.9,3.1,70.0,7.0,70.0L201.3,70.0C205.1,70.0,208.3,66.9,208.3,63.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="45.6" y="31.0">实现了接口的注册器</tspan><tspan style="font-size:10.00pt" x="11.1" y="50.0">ImportBeanDefinitionRegistrar</tspan></text></g><g transform="translate(216.740000,123.591000)" id="shape42"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,46.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,46.0L.0,52.0L-3.0,46.0L3.0,46.0" fill="#191919"/></g><g transform="translate(476.377500,377.953000)" id="shape43"><path stroke="#191919" stroke-width="1" d="M156.7,63.0L156.7,7.0C156.7,3.1,153.6,.0,149.7,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,63.0C.0,66.9,3.1,70.0,7.0,70.0L149.7,70.0C153.6,70.0,156.7,66.9,156.7,63.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.3" y="21.5">调用抽象注册器通用逻</tspan><tspan style="font-size:10.00pt" x="6.3" y="40.5">辑，从Spring中拿到相关</tspan><tspan style="font-size:10.00pt" x="26.8" y="59.5">的BeanDefinition</tspan></text></g><g transform="translate(504.724000,180.669000)" id="shape44"><path d="M.0,10.0L.0,50.0L.0,50.0C.0,55.5,22.4,60.0,50.0,60.0C77.6,60.0,100.0,55.5,100.0,50.0L100.0,10.0L100.0,10.0C100.0,4.5,77.6,.0,50.0,.0C22.4,.0,.0,4.5,.0,10.0z" fill-rule="nonzero" fill="#b0ddc1"/><path stroke="#191919" stroke-width="1" d="M.0,10.0L.0,50.0L.0,50.0C.0,55.5,22.4,60.0,50.0,60.0C77.6,60.0,100.0,55.5,100.0,50.0L100.0,10.0L100.0,10.0C100.0,4.5,77.6,.0,50.0,.0C22.4,.0,.0,4.5,.0,10.0zM100.0,10.0C100.0,15.5,77.6,20.0,50.0,20.0C22.4,20.0,.0,15.5,.0,10.0" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.0" y="43.0">Spring容器</tspan></text></g><g transform="translate(504.724000,210.669000)" id="shape45"><path stroke="#191919" stroke-width="1" d="M.0,.0L-177.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-177.0,3.0L-183.0,.0L-177.0,-3.0L-177.0,3.0" fill="#191919"/><rect width="79.0" height="19.0" x="-119.5" y="-19.0" fill="#ffffff"/><rect width="117.0" height="19.0" x="-138.5" y="0.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-119.5" y="-4.0">从Spring拿到</tspan><tspan style="font-size:10.00pt" x="-138.5" y="15.0">所有感兴趣的注册器</tspan></text></g><g transform="translate(217.130000,245.669000)" id="shape46"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,167.0L253.0,167.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M253.0,164.0L259.0,167.0L253.0,170.0L253.0,164.0" fill="#191919"/></g><g transform="translate(819.291000,185.669000)" id="shape47"><path stroke="#191919" stroke-width="1" d="M220.1,53.0L220.1,7.0C220.1,3.1,216.9,.0,213.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L213.1,60.0C216.9,60.0,220.1,56.9,220.1,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="20.5" y="35.5">CommandControllerRegistrar</tspan></text></g><g transform="translate(554.000000,240.000000)" id="shape48"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,131.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M3.0,131.0L.0,137.0L-3.0,131.0L3.0,131.0" fill="#191919"/></g><g transform="translate(819.291000,381.504000)" id="shape49"><path stroke="#191919" stroke-width="1" d="M220.1,53.0L220.1,7.0C220.1,3.1,216.9,.0,213.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L213.1,60.0C216.9,60.0,220.1,56.9,220.1,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="56.5" y="35.5">NSEventRegistrar</tspan></text></g><g transform="translate(819.291000,612.520000)" id="shape50"><path stroke="#191919" stroke-width="1" d="M220.1,53.0L220.1,7.0C220.1,3.1,216.9,.0,213.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L213.1,60.0C216.9,60.0,220.1,56.9,220.1,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.5" y="35.5">NSProtocolProcessorRegistrar</tspan></text></g><g transform="translate(633.071000,412.953000)" id="shape51"><path stroke="#191919" stroke-width="1" d="M.0,.0L157.0,.0L157.0,-197.0L179.0,-197.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M179.0,-200.0L185.0,-197.0L179.0,-194.0L179.0,-200.0" fill="#191919"/></g><g transform="translate(633.071000,412.953000)" id="shape52"><path stroke="#191919" stroke-width="1" d="M.0,.0L179.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M179.0,-3.0L185.0,.0L179.0,3.0L179.0,-3.0" fill="#191919"/></g><g transform="translate(633.071000,412.953000)" id="shape53"><path stroke="#191919" stroke-width="1" d="M.0,.0L157.0,.0L157.0,230.0L179.0,230.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M179.0,227.0L185.0,230.0L179.0,233.0L179.0,227.0" fill="#191919"/><rect width="117.0" height="19.0" x="48.3" y="-9.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="48.3" y="5.5">执行子类各自的逻辑</tspan></text></g><g transform="translate(741.974300,103.338000)" id="group54"><path stroke="#00aeee" stroke-width="1" d="M81.6,22.0L130.5,82.3" fill="none" id="shape55"/><g id="shape56"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L163.2,.0L163.2,44.0L.0,44.0L.0,.0z" fill-rule="nonzero" fill="#00aeee"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.1" y="27.5">处理 CommandController</tspan></text></g><path stroke="#00aeee" stroke-width="1" d="M.0,5.7C.0,2.5,2.5,.0,5.7,.0C8.8,.0,11.3,2.5,11.3,5.7C11.3,8.8,8.8,11.3,5.7,11.3C2.5,11.3,.0,8.8,.0,5.7z" fill-rule="nonzero" transform="translate(124.808710,76.661710)" fill="#00aeee" id="shape57"/></g><g transform="translate(798.852300,299.173000)" id="group58"><path stroke="#00aeee" stroke-width="1" d="M81.6,22.0L130.5,82.3" fill="none" id="shape59"/><g id="shape60"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L163.2,.0L163.2,44.0L.0,44.0L.0,.0z" fill-rule="nonzero" fill="#00aeee"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="40.1" y="27.5">处理 NSEvent</tspan></text></g><path stroke="#00aeee" stroke-width="1" d="M.0,5.7C.0,2.5,2.5,.0,5.7,.0C8.8,.0,11.3,2.5,11.3,5.7C11.3,8.8,8.8,11.3,5.7,11.3C2.5,11.3,.0,8.8,.0,5.7z" fill-rule="nonzero" transform="translate(124.808710,76.661710)" fill="#00aeee" id="shape61"/></g><g transform="translate(798.852300,530.189000)" id="group62"><path stroke="#00aeee" stroke-width="1" d="M81.6,22.0L130.5,82.3" fill="none" id="shape63"/><g id="shape64"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L163.2,.0L163.2,44.0L.0,44.0L.0,.0z" fill-rule="nonzero" fill="#00aeee"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="68.6" y="18.0">处理 </tspan><tspan style="font-size:10.00pt" x="16.1" y="37.0">NSProtocolProcessor</tspan></text></g><path stroke="#00aeee" stroke-width="1" d="M.0,5.7C.0,2.5,2.5,.0,5.7,.0C8.8,.0,11.3,2.5,11.3,5.7C11.3,8.8,8.8,11.3,5.7,11.3C2.5,11.3,.0,8.8,.0,5.7z" fill-rule="nonzero" transform="translate(124.808710,76.661710)" fill="#00aeee" id="shape65"/></g><g transform="translate(1382.700000,384.453000)" id="shape66"><path d="M.0,15.9L.0,47.6L.0,47.6C.0,56.4,49.3,63.5,110.0,63.5C170.8,63.5,220.1,56.4,220.1,47.6L220.1,15.9L220.1,15.9C220.1,7.1,170.8,.0,110.0,.0C49.3,.0,.0,7.1,.0,15.9z" fill-rule="nonzero" fill="#ffffff"/><path stroke="#191919" stroke-width="1" d="M.0,15.9L.0,47.6L.0,47.6C.0,56.4,49.3,63.5,110.0,63.5C170.8,63.5,220.1,56.4,220.1,47.6L220.1,15.9L220.1,15.9C220.1,7.1,170.8,.0,110.0,.0C49.3,.0,.0,7.1,.0,15.9zM220.1,15.9L220.1,15.9C220.1,24.6,170.8,31.8,110.0,31.8C49.3,31.8,.0,24.6,.0,15.9" fill="none"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="13.5" y="49.2">ProtocolProcessorFactoryChain</tspan></text></g><g transform="translate(1039.370000,642.520000)" id="shape67"><path stroke="#191919" stroke-width="1" d="M.0,.0L453.0,.0L453.0,-189.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M450.0,-189.0L453.0,-195.0L456.0,-189.0L450.0,-189.0" fill="#191919"/><rect width="197.0" height="19.0" x="355.5" y="-81.2" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="355.5" y="-66.2">将ProtocolProcessorFactory缓存</tspan></text></g><g transform="translate(1121.651000,185.669000)" id="shape68"><path stroke="#191919" stroke-width="1" d="M220.1,53.0L220.1,7.0C220.1,3.1,216.9,.0,213.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L213.1,60.0C216.9,60.0,220.1,56.9,220.1,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="11.5" y="26.0">为CommandMapping注解的方法</tspan><tspan style="font-size:10.00pt" x="28.0" y="45.0">生成CommandProxy实现类</tspan></text></g><g transform="translate(1382.871000,185.669000)" id="shape69"><path stroke="#191919" stroke-width="1" d="M220.1,53.0L220.1,7.0C220.1,3.1,216.9,.0,213.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L213.1,60.0C216.9,60.0,220.1,56.9,220.1,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.5" y="35.5">为CommandProxy设置字段值</tspan></text></g><g transform="translate(1039.000000,215.000000)" id="shape70"><path stroke="#191919" stroke-width="1" d="M.0,.0L76.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M76.0,-3.0L82.0,.0L76.0,3.0L76.0,-3.0" fill="#191919"/></g><g transform="translate(1341.000000,215.000000)" id="shape71"><path stroke="#191919" stroke-width="1" d="M.0,.0L35.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M35.0,-3.0L41.0,.0L35.0,3.0L35.0,-3.0" fill="#191919"/></g><g transform="translate(1492.740000,384.453000)" id="shape72"><path stroke="#191919" stroke-width="1" d="M.0,.0L.0,-133.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M-3.0,-133.0L.0,-139.0L3.0,-133.0L-3.0,-133.0" fill="#191919"/><rect width="296.0" height="19.0" x="-147.0" y="-115.2" fill="#ffffff"/><rect width="159.0" height="19.0" x="-78.5" y="-96.2" fill="#ffffff"/><rect width="344.0" height="19.0" x="-171.0" y="-77.2" fill="#ffffff"/><rect width="39.0" height="19.0" x="-18.5" y="-58.2" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-147.0" y="-100.2">ProtocolProcessorFactory生成ProtocolProcessor</tspan><tspan style="font-size:10.00pt" x="-78.5" y="-81.2">设置到 CommandProxy 的</tspan><tspan style="font-size:10.00pt" x="-171.0" y="-62.2">parameterProtocolProcessors和returnProtocolProcessor</tspan><tspan style="font-size:10.00pt" x="-18.5" y="-43.2">字段上</tspan></text></g><g transform="translate(1662.991000,185.669000)" id="shape73"><path stroke="#191919" stroke-width="1" d="M220.1,53.0L220.1,7.0C220.1,3.1,216.9,.0,213.1,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L213.1,60.0C216.9,60.0,220.1,56.9,220.1,53.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="21.5" y="26.0">将CommandProxy实现类注册</tspan><tspan style="font-size:10.00pt" x="34.0" y="45.0">BeanDefinitionRegistry里</tspan></text></g><g transform="translate(1602.000000,215.000000)" id="shape74"><path stroke="#191919" stroke-width="1" d="M.0,.0L54.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M54.0,-3.0L60.0,.0L54.0,3.0L54.0,-3.0" fill="#191919"/></g><g transform="translate(1990.944700,193.669000)" id="shape75"><path stroke="#191919" stroke-width="1" d="M22.0,44.0L103.6,44.0L103.6,44.0C115.7,44.0,125.6,34.2,125.6,22.0C125.6,9.8,115.7,.0,103.6,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="17.3" y="27.5">代理类生成完成</tspan></text></g><g transform="translate(1883.070000,215.669000)" id="shape76"><path stroke="#191919" stroke-width="1" d="M.0,.0L102.0,.0" fill="none"/><path stroke="#191919" stroke-width="1" stroke-linecap="round" d="M102.0,-3.0L108.0,.0L102.0,3.0L102.0,-3.0" fill="#191919"/></g></g></svg>