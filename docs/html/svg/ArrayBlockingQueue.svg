<svg xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="0 0 1132 804" width="1132" xmlns:xlink="http://www.w3.org/1999/xlink" height="804"><defs/><g transform="translate(5.5,5.5)" id="page2"><rect width="1123" height="794" x="0" y="0" fill="none"/><g transform="translate(93.500000,69.000000)" id="shape1"><path stroke="#42c181" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="39.0" y="26.0">put()</tspan></text></g><g transform="translate(57.000000,170.000000)" id="shape2"><path stroke="#42c181" stroke-width="1" d="M173.0,37.0L173.0,7.0C173.0,3.1,169.9,.0,166.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L166.0,44.0C169.9,44.0,173.0,40.9,173.0,37.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#e54648;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="21.5" y="26.5">lock.lockInterruptibly()</tspan></text></g><g transform="translate(57.000000,289.000000)" id="shape3"><path stroke="#42c181" stroke-width="1" d="M.0,86.0L173.0,86.0L173.0,20.0L153.0,.0L20.0,.0L.0,20.0L.0,86.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="33.0" y="23.0">count == items.length</tspan><tspan style="font-size:7.50pt" x="4.0" y="55.0">如果队列满了, 可能所有的线程都会等</tspan><tspan style="font-size:7.50pt" x="4.0" y="71.0">待在这里, 需要在出列的时候进行唤醒</tspan></text></g><g transform="translate(93.500000,443.000000)" id="shape4"><path stroke="#42c181" stroke-width="1" d="M100.0,53.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L93.0,60.0C96.9,60.0,100.0,56.9,100.0,53.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="13.0" y="34.0">enqueue(node);</tspan></text></g><g transform="translate(143.500000,113.000000)" id="shape5"><path stroke="#42c181" stroke-width="1" d="M.0,.0L.0,52.6" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M.0,57.0L3.0,51.8C2.1,52.3,1.1,52.6,.0,52.6C-1.1,52.6,-2.1,52.3,-3.0,51.8L.0,57.0" fill="#42c181"/></g><g transform="translate(143.500000,214.000000)" id="shape6"><path stroke="#42c181" stroke-width="1" d="M.0,.0L.0,70.6" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M.0,75.0L3.0,69.8C2.1,70.3,1.1,70.6,.0,70.6C-1.1,70.6,-2.1,70.3,-3.0,69.8L.0,75.0" fill="#42c181"/></g><g transform="translate(143.500000,375.000000)" id="shape7"><path stroke="#42c181" stroke-width="1" d="M.0,.0L.0,63.6" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M.0,68.0L3.0,62.8C2.1,63.3,1.1,63.6,.0,63.6C-1.1,63.6,-2.1,63.3,-3.0,62.8L.0,68.0" fill="#42c181"/><rect width="10.0" height="16.0" x="-4.0" y="21.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-4.0" y="33.3">否</tspan></text></g><g transform="translate(335.000200,289.000000)" id="shape8"><path stroke="#42c181" stroke-width="1" d="M175.0,79.0L175.0,7.0C175.0,3.1,171.9,.0,168.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,79.0C.0,82.9,3.1,86.0,7.0,86.0L168.0,86.0C171.9,86.0,175.0,82.9,175.0,79.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="52.5" y="23.0">notFull.await();</tspan><tspan style="font-size:7.50pt" x="4.0" y="55.0">当前线程阻塞, 释放锁,让其他线程获得</tspan><tspan style="font-size:7.50pt" x="40.0" y="71.0">锁, 继续循环判断非满</tspan></text></g><g transform="translate(230.000000,332.000000)" id="shape9"><path stroke="#42c181" stroke-width="1" d="M.0,.0L100.6,.0" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M105.0,.0L99.8,-3.0C100.3,-2.1,100.6,-1.1,100.6,.0C100.6,1.1,100.3,2.1,99.8,3.0L105.0,.0" fill="#42c181"/><rect width="10.0" height="16.0" x="60.9" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="60.9" y="4.0">是</tspan></text></g><g transform="translate(422.500000,289.000000)" id="shape10"><path stroke="#42c181" stroke-width="2.6666700839996338" stroke-dasharray="29.3334,13.3334" d="M.0,.0C.1,-19.5,.3,-39.0,-12.5,-55.2C-25.2,-71.4,-50.9,-84.3,-83.0,-90.7C-113.5,-96.8,-149.9,-97.1,-186.6,-97.0" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M-192.5,-97.0L-184.0,-92.1C-184.8,-93.6,-185.3,-95.2,-185.3,-97.0C-185.3,-98.8,-184.9,-100.5,-184.0,-101.9L-192.5,-97.0" fill="#42c181"/><rect width="30.0" height="16.0" x="-105.8" y="-108.3" fill="#ffffff"/><rect width="80.0" height="16.0" x="-130.8" y="-92.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-105.8" y="-96.3">释放锁</tspan><tspan style="font-size:7.50pt" x="-130.8" y="-80.3">让其他线程也进入</tspan></text></g><g transform="translate(335.000200,443.000000)" id="shape11"><path stroke="#42c181" stroke-width="1" d="M175.0,79.0L175.0,7.0C175.0,3.1,171.9,.0,168.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,79.0C.0,82.9,3.1,86.0,7.0,86.0L168.0,86.0C171.9,86.0,175.0,82.9,175.0,79.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="46.0" y="23.0">notEmpty.signal()</tspan><tspan style="font-size:7.50pt" x="8.5" y="55.0">队列非满, 通知阻塞在await()处的入</tspan><tspan style="font-size:7.50pt" x="15.0" y="71.0">列线程尝试获取锁, 继续入列操作</tspan></text></g><g transform="translate(193.500000,601.000000)" id="shape12"><path stroke="#42c181" stroke-width="1" d="M.0,.0L114.0,.0L114.0,-115.0L137.6,-115.0" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M142.0,-115.0L136.8,-118.0C137.3,-117.1,137.6,-116.1,137.6,-115.0C137.6,-113.9,137.3,-112.9,136.8,-112.0L142.0,-115.0" fill="#42c181"/></g><g transform="translate(372.500000,581.000000)" id="shape13"><path stroke="#42c181" stroke-width="1" d="M100.0,53.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L93.0,60.0C96.9,60.0,100.0,56.9,100.0,53.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#e54648;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="12.0" y="34.5">lock.unlock();</tspan></text></g><g transform="translate(422.500000,529.000000)" id="shape14"><path stroke="#42c181" stroke-width="1" d="M.0,.0L.0,47.6" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M.0,52.0L3.0,46.8C2.1,47.3,1.1,47.6,.0,47.6C-1.1,47.6,-2.1,47.3,-3.0,46.8L.0,52.0" fill="#42c181"/></g><g transform="translate(372.500000,693.000000)" id="shape15"><path stroke="#42c181" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="20.0" y="26.0">返回入列结果</tspan></text></g><g transform="translate(422.500000,641.000000)" id="shape16"><path stroke="#42c181" stroke-width="1" d="M.0,.0L.0,47.6" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M.0,52.0L3.0,46.8C2.1,47.3,1.1,47.6,.0,47.6C-1.1,47.6,-2.1,47.3,-3.0,46.8L.0,52.0" fill="#42c181"/></g><g transform="translate(940.500000,69.000000)" id="shape17"><path stroke="#00aeee" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="36.5" y="26.0">take()</tspan></text></g><g transform="translate(904.000000,170.000000)" id="shape18"><path stroke="#00aeee" stroke-width="1" d="M173.0,37.0L173.0,7.0C173.0,3.1,169.9,.0,166.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,37.0C.0,40.9,3.1,44.0,7.0,44.0L166.0,44.0C169.9,44.0,173.0,40.9,173.0,37.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#e54648;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="20.0" y="26.5">lock.lockInterruptibly();</tspan></text></g><g transform="translate(904.000000,289.000000)" id="shape19"><path stroke="#00aeee" stroke-width="1" d="M.0,86.0L173.0,86.0L173.0,20.0L153.0,.0L20.0,.0L.0,20.0L.0,86.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="60.0" y="23.0">count == 0</tspan><tspan style="font-size:7.50pt" x="4.0" y="55.0">等队列为空的时候, 可能所有线程都会</tspan><tspan style="font-size:7.50pt" x="14.0" y="71.0">等在这里, 需要入列线程进行唤醒</tspan></text></g><g transform="translate(940.500000,456.000000)" id="shape20"><path stroke="#00aeee" stroke-width="1" d="M100.0,53.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L93.0,60.0C96.9,60.0,100.0,56.9,100.0,53.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="25.0" y="34.0">dequeue();</tspan></text></g><g transform="translate(990.500000,113.000000)" id="shape21"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L.0,52.6" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M.0,57.0L3.0,51.8C2.1,52.3,1.1,52.6,.0,52.6C-1.1,52.6,-2.1,52.3,-3.0,51.8L.0,57.0" fill="#00aeee"/></g><g transform="translate(990.500000,214.000000)" id="shape22"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L.0,70.6" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M.0,75.0L3.0,69.8C2.1,70.3,1.1,70.6,.0,70.6C-1.1,70.6,-2.1,70.3,-3.0,69.8L.0,75.0" fill="#00aeee"/></g><g transform="translate(990.500000,375.000000)" id="shape23"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L.0,76.6" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M.0,81.0L3.0,75.8C2.1,76.3,1.1,76.6,.0,76.6C-1.1,76.6,-2.1,76.3,-3.0,75.8L.0,81.0" fill="#00aeee"/><rect width="10.0" height="16.0" x="-4.0" y="26.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-4.0" y="38.9">否</tspan></text></g><g transform="translate(679.999800,289.000000)" id="shape24"><path stroke="#00aeee" stroke-width="1" d="M156.9,79.0L156.9,7.0C156.9,3.1,153.8,.0,149.9,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,79.0C.0,82.9,3.1,86.0,7.0,86.0L149.9,86.0C153.8,86.0,156.9,82.9,156.9,79.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="37.0" y="23.0">notEmpty.await();</tspan><tspan style="font-size:7.50pt" x="5.0" y="55.0">当前线程阻塞,释放锁, 让其他出列</tspan><tspan style="font-size:7.50pt" x="16.5" y="71.0">线程进入,继续循环,判断非空</tspan></text></g><g transform="translate(904.000000,332.000000)" id="shape25"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L-62.7,.0" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M-67.1,.0L-61.9,3.0C-62.4,2.1,-62.7,1.1,-62.7,.0C-62.7,-1.1,-62.4,-2.1,-61.9,-3.0L-67.1,.0" fill="#00aeee"/><rect width="10.0" height="16.0" x="-37.4" y="-8.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-37.4" y="4.0">是</tspan></text></g><g transform="translate(758.458000,289.000000)" id="shape26"><path stroke="#00aeee" stroke-width="2.6666700839996338" stroke-dasharray="29.3334,13.3334" d="M.0,.0C-0.1,-19.5,-0.2,-39.0,9.4,-55.2C19.1,-71.4,38.4,-84.3,62.8,-90.7C85.5,-96.7,112.5,-97.0,139.7,-97.0" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M145.5,-97.0L137.1,-101.9C137.9,-100.5,138.4,-98.8,138.4,-97.0C138.4,-95.2,137.9,-93.6,137.0,-92.1L145.5,-97.0" fill="#00aeee"/><rect width="30.0" height="16.0" x="32.2" y="-101.0" fill="#ffffff"/><rect width="80.0" height="16.0" x="7.2" y="-85.0" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="32.2" y="-89.0">释放锁</tspan><tspan style="font-size:7.50pt" x="7.2" y="-73.0">让其他线程也进入</tspan></text></g><g transform="translate(680.000200,436.000000)" id="shape27"><path stroke="#00aeee" stroke-width="1" d="M175.0,93.0L175.0,7.0C175.0,3.1,171.9,.0,168.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,93.0C.0,96.9,3.1,100.0,7.0,100.0L168.0,100.0C171.9,100.0,175.0,96.9,175.0,93.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="51.5" y="30.0">notFull.signal();</tspan><tspan style="font-size:7.50pt" x="5.0" y="62.0">队列非空,通知阻塞在await()处出列线</tspan><tspan style="font-size:7.50pt" x="6.5" y="78.0">程可以继续尝试获取锁,进行出列操作</tspan></text></g><g transform="translate(940.500000,621.000000)" id="shape28"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L-57.0,.0L-57.0,-135.0L-80.6,-135.0" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M-85.0,-135.0L-79.8,-132.0C-80.3,-132.9,-80.6,-133.9,-80.6,-135.0C-80.6,-136.1,-80.3,-137.1,-79.8,-138.0L-85.0,-135.0" fill="#00aeee"/></g><g transform="translate(717.500000,581.000000)" id="shape29"><path stroke="#00aeee" stroke-width="1" d="M100.0,53.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,53.0C.0,56.9,3.1,60.0,7.0,60.0L93.0,60.0C96.9,60.0,100.0,56.9,100.0,53.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#e54648;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="12.0" y="34.5">lock.unlock();</tspan></text></g><g transform="translate(767.500000,536.000000)" id="shape30"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L.0,40.6" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M.0,45.0L3.0,39.8C2.1,40.3,1.1,40.6,.0,40.6C-1.1,40.6,-2.1,40.3,-3.0,39.8L.0,45.0" fill="#00aeee"/></g><g transform="translate(717.500000,677.000000)" id="shape31"><path stroke="#00aeee" stroke-width="1" d="M22.0,44.0L78.0,44.0L78.0,44.0C90.2,44.0,100.0,34.2,100.0,22.0C100.0,9.8,90.2,.0,78.0,.0L22.0,.0L22.0,.0C9.8,.0,.0,9.8,.0,22.0C.0,34.2,9.8,44.0,22.0,44.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="20.0" y="26.0">返回出列结果</tspan></text></g><g transform="translate(767.500000,641.000000)" id="shape32"><path stroke="#00aeee" stroke-width="1" d="M.0,.0L.0,31.6" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M.0,36.0L3.0,30.8C2.1,31.3,1.1,31.6,.0,31.6C-1.1,31.6,-2.1,31.3,-3.0,30.8L.0,36.0" fill="#00aeee"/></g><g transform="translate(680.000000,486.000000)" id="shape33"><path stroke="#00aeee" stroke-width="2.6666700839996338" stroke-dasharray="29.3334,13.3334" d="M.0,.0C-20.9,-2.5,-41.8,-5.1,-59.7,-29.5C-77.6,-53.9,-92.4,-100.1,-110.3,-124.5C-126.7,-146.9,-145.6,-150.9,-164.8,-153.4" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M-170.0,-154.0L-162.2,-148.1C-162.8,-149.6,-163.1,-151.3,-162.9,-153.1C-162.7,-154.9,-162.0,-156.5,-161.0,-157.8L-170.0,-154.0" fill="#00aeee"/><rect width="20.0" height="16.0" x="-73.8" y="-45.1" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-73.8" y="-33.1">唤醒</tspan></text></g><g transform="translate(510.000000,486.000000)" id="shape34"><path stroke="#42c181" stroke-width="2.6666700839996338" stroke-dasharray="29.3334,13.3334" d="M.0,.0C20.9,-2.5,41.8,-5.1,59.7,-29.5C77.6,-53.9,92.4,-100.1,110.3,-124.5C126.7,-146.9,145.6,-150.9,164.8,-153.4" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M170.0,-154.0L161.0,-157.8C162.0,-156.5,162.7,-154.9,162.9,-153.1C163.1,-151.3,162.8,-149.6,162.2,-148.1L170.0,-154.0" fill="#42c181"/><rect width="20.0" height="16.0" x="51.6" y="-38.8" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="51.6" y="-26.8">唤醒</tspan></text></g><g transform="translate(60.874500,681.015000)" id="shape35"><path stroke="#3f5cb8" stroke-width="3" d="M4.0,.0L173.5,.0C175.7,.0,177.5,1.8,177.5,4.0L177.5,52.0C177.5,54.2,175.7,56.0,173.5,56.0L4.0,56.0C1.8,56.0,.0,54.2,.0,52.0L.0,4.0C.0,1.8,1.8,.0,4.0,.0z" fill-rule="nonzero" fill="#3f5cb8"/><text xml:space="preserve" style="fill:#ffffff;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:13.12pt"><tspan style="font-size:10.50pt" x="21.0" y="34.0">ArrayBlockingQueue</tspan></text></g><g transform="translate(536.000000,46.000000)" id="shape36"><path stroke="#323232" stroke-width="1" d="M.0,30.0C.0,13.4,22.4,.0,50.0,.0C77.6,.0,100.0,13.4,100.0,30.0C100.0,46.6,77.6,60.0,50.0,60.0C22.4,60.0,.0,46.6,.0,30.0z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="37.5" y="26.0">lock</tspan><tspan style="font-size:10.00pt" x="17.5" y="45.0">只有一把锁</tspan></text></g><g transform="translate(372.500000,148.000000)" id="shape37"><path stroke="#323232" stroke-width="1" d="M.0,.0L114.5,.0L114.5,44.0L.0,44.0L.0,.0z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="4.3" y="27.5">Condition notFull</tspan></text></g><g transform="translate(680.000200,148.000000)" id="shape38"><path stroke="#323232" stroke-width="1" d="M.0,.0L128.5,.0L128.5,44.0L.0,44.0L.0,.0z" fill-rule="nonzero" fill="#fae9e9"/><text xml:space="preserve" style="fill:#303030;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:11.25pt"><tspan style="font-size:9.00pt" x="6.7" y="26.5">Condition notEmpty</tspan></text></g><g transform="translate(536.000000,76.000000)" id="shape39"><path stroke="#323232" stroke-width="1" d="M.0,.0C-21.3,-0.1,-42.7,-0.1,-60.4,4.7C-78.2,9.4,-92.3,19.0,-99.4,31.0C-105.8,42.1,-106.3,55.3,-106.3,68.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M-106.3,72.0L-103.3,66.8C-104.2,67.3,-105.2,67.6,-106.3,67.6C-107.4,67.6,-108.4,67.3,-109.3,66.8L-106.3,72.0" fill="#323232"/><rect width="121.0" height="19.0" x="-161.1" y="26.1" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="-161.1" y="41.1">lock.newCondition()</tspan></text></g><g transform="translate(636.000000,76.000000)" id="shape40"><path stroke="#323232" stroke-width="1" d="M.0,.0C21.7,-0.1,43.5,-0.1,61.6,4.7C79.6,9.4,94.0,19.0,101.2,31.0C107.9,42.3,108.3,55.8,108.2,69.3" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M108.2,72.0L111.3,66.8C110.4,67.3,109.3,67.6,108.2,67.6C107.2,67.6,106.1,67.3,105.3,66.8L108.2,72.0" fill="#323232"/><rect width="121.0" height="19.0" x="38.5" y="16.9" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:12.50pt"><tspan style="font-size:10.00pt" x="38.5" y="31.9">lock.newCondition()</tspan></text></g><g transform="translate(93.500000,561.000000)" id="shape41"><path stroke="#42c181" stroke-width="1" d="M100.0,73.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,73.0C.0,76.9,3.1,80.0,7.0,80.0L93.0,80.0C96.9,80.0,100.0,76.9,100.0,73.0z" fill-rule="nonzero" fill="#e9f4ed"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="22.0" y="20.0">putIndex++</tspan><tspan style="font-size:7.50pt" x="4.0" y="36.0">如果putIndex等于长</tspan><tspan style="font-size:7.50pt" x="17.0" y="52.0">度了，则置为0</tspan><tspan style="font-size:7.50pt" x="20.0" y="68.0">形成环形数组</tspan></text></g><g transform="translate(143.500000,503.000000)" id="shape42"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,53.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,58.0L3.0,52.8C2.1,53.3,1.1,53.6,.0,53.6C-1.1,53.6,-2.1,53.3,-3.0,52.8L.0,58.0" fill="#323232"/></g><g transform="translate(940.500000,581.000000)" id="shape43"><path stroke="#00aeee" stroke-width="1" d="M100.0,73.0L100.0,7.0C100.0,3.1,96.9,.0,93.0,.0L7.0,.0C3.1,.0,.0,3.1,.0,7.0L.0,73.0C.0,76.9,3.1,80.0,7.0,80.0L93.0,80.0C96.9,80.0,100.0,76.9,100.0,73.0z" fill-rule="nonzero" fill="#cbe3f8"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="19.5" y="20.0">takeIndex++</tspan><tspan style="font-size:7.50pt" x="6.5" y="36.0">如果takeIndex等于</tspan><tspan style="font-size:7.50pt" x="12.0" y="52.0">长度，则置为0，</tspan><tspan style="font-size:7.50pt" x="20.0" y="68.0">形成环形数组</tspan></text></g><g transform="translate(990.000000,516.000000)" id="shape44"><path stroke="#323232" stroke-width="1" d="M.0,.0L.0,60.6" fill="none"/><path stroke="#323232" stroke-width="1" stroke-linecap="round" d="M.0,65.0L3.0,59.8C2.1,60.3,1.1,60.6,.0,60.6C-1.1,60.6,-2.1,60.3,-3.0,59.8L.0,65.0" fill="#323232"/></g><g transform="translate(346.830000,289.000000)" id="shape45"><path stroke="#00aeee" stroke-width="2.6666700839996338" stroke-dasharray="29.3334,13.3334" d="M.0,.0C-0.4,-9.6,-0.8,-19.1,-15.8,-29.0C-30.8,-38.9,-60.4,-49.0,-81.8,-43.0C-101.5,-37.5,-114.3,-18.4,-126.5,1.8" fill="none"/><path stroke="#00aeee" stroke-width="1" stroke-linecap="round" d="M-129.7,7.2L-121.1,2.4C-122.8,2.4,-124.4,1.9,-126.0,1.0C-127.5,.1,-128.7,-1.2,-129.5,-2.6L-129.7,7.2" fill="#00aeee"/><rect width="60.0" height="16.0" x="-88.6" y="-60.3" fill="#ffffff"/><rect width="80.0" height="16.0" x="-98.6" y="-44.3" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="-88.6" y="-48.3">唤醒一个线程</tspan><tspan style="font-size:7.50pt" x="-98.6" y="-32.3">如果非满，则插入</tspan></text></g><g transform="translate(806.906000,289.000000)" id="shape46"><path stroke="#42c181" stroke-width="2.6666700839996338" stroke-dasharray="29.3334,13.3334" d="M.0,.0C12.8,-19.7,25.6,-39.5,43.1,-43.0C60.6,-46.5,82.8,-33.9,100.1,-24.0C114.8,-15.6,126.0,-9.3,136.7,-3.2" fill="none"/><path stroke="#42c181" stroke-width="1" stroke-linecap="round" d="M142.4,.0L137.4,-8.4C137.4,-6.8,137.0,-5.1,136.1,-3.5C135.2,-2.0,134.0,-0.8,132.6,.1L142.4,.0" fill="#42c181"/><rect width="70.0" height="16.0" x="7.0" y="-58.5" fill="#ffffff"/><rect width="80.0" height="16.0" x="2.0" y="-42.5" fill="#ffffff"/><text xml:space="preserve" style="fill:#191919;font-family:微软雅黑,PingFang SC,Mircrosoft YaHei,Arial;font-size:9.38pt"><tspan style="font-size:7.50pt" x="7.0" y="-46.5">唤醒一个线程，</tspan><tspan style="font-size:7.50pt" x="2.0" y="-30.5">如果非空，则取出</tspan></text></g></g></svg>